(()=>{var e={6997:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={collapsedIcon:"string",expandedIcon:"string",value:"string"}},8048:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.accordionWidgetStyleConfig=void 0;var r=o(n(7488)),a=o(n(7128)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(892),d=o(n(6997)),s=o(n(3216)),c=n(4178),p=["config","modelStyles","expandedIcon","collapsedIcon"],f=["borderRadius","margin","padding","elevation"],g=["contentTypography","titleTypography"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=t.accordionWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",defaultValue:"tile.accordion.backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"expandedTitleColor",defaultValue:"tile.accordion.expandedTitleColor",props:{label:"Expanded Title Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"collapsedTitleColor",defaultValue:"tile.accordion.collapsedTitleColor",props:{label:"Collapsed Title Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"contentColor",defaultValue:"tile.accordion.contentColor",props:{label:"Content Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"titleTypography",defaultValue:"tile.accordion.titleTypography",props:{label:"Title Typography",placeholder:"typography.body"}},{type:"typographyInput",name:"contentTypography",defaultValue:"tile.accordion.contentTypography",props:{label:"Content Typography",placeholder:"typography.body"}}];function h(e){var t=e.config,n=e.modelStyles,o=e.expandedIcon,d=e.collapsedIcon,s=(0,a.default)(e,p),y=t.get("layout"),m=y?y.getFlexProperties():{flex:1},h=null!=n?n:{},v=h.borderRadius,b=h.margin,S=h.padding,x=h.elevation,P=(0,a.default)(h,f),C=(0,u.getPlatformStyles)(Object.assign({},P,{borderRadius:v,margin:b,padding:S,elevation:x})),I=C.contentTypography,j=C.titleTypography,k=(0,a.default)(C,g),T=k.expandedTitleColor,O=k.contentColor,M=k.backgroundColor,E=k.collapsedTitleColor,R=(0,i.useState)(s.isExpanded),_=(0,r.default)(R,2),A=_[0],V=_[1];return(0,c.jsxs)(l.View,{style:[m,C,{backgroundColor:M}],children:[(0,c.jsxs)(l.Pressable,{style:w.titleContainer,onPress:function(){V(!A)},children:[(0,c.jsx)(l.Text,{style:[j,{color:A?T:E,maxWidth:"95%"}],children:s.title}),(0,c.jsx)(u.MaterialCommunityIcons,{color:A?T:E,name:A?o:d,size:24})]}),(0,c.jsx)(l.Animated.View,{style:[{overflow:"hidden"},{maxHeight:A?1e3:0}],children:(0,c.jsx)(l.Text,{style:[w.content,I,{color:O}],children:s.data})})]})}var v=i.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,r=e.config,a=n.toJS(),i=a.value,u=a.expandedIcon,d=a.collapsedIcon;return s.default.isEmpty(i)?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)(l.View,{ref:t,children:i&&JSON.parse(i).map((function(e){return(0,c.jsx)(h,Object.assign({},e,{config:r,modelStyles:o,expandedIcon:u,collapsedIcon:d}),e.title)}))})})),b={basic:[{type:"codeInput",name:"expandedIcon",defaultValue:"",props:{label:"Expanded icon name",placeholder:"minus"}},{type:"codeInput",name:"collapsedIcon",defaultValue:"",props:{label:"Collapsed icon name",placeholder:"plus"}},{type:"jsonInput",name:"value",defaultValue:"[]",props:{label:"JSON input",placeholder:"[]",schema:[{key:"title",type:"codeInput"},{key:"data",type:"codeInput"}]}}],layout:u.defaultEditors.layout},S={value:{getValue:function(e,t,n){return t?JSON.parse(t):[]}}},w=(t.default=(0,u.connectWidget)("AccordionWidget",v,{collapsedIcon:"plus",expandedIcon:"minus",value:"[]"},null,b,{propertySettings:S,widgetStyleConfig:(0,u.mergeWithDefaultStyles)(m),pluginListing:{labelPrefix:"accordion",type:"widget",name:"Accordion",description:"Create sections of collapsable data",layout:{flex:1},section:"Display",icon:"accordion"},docs:d.default,themeProfileSel:["tile","accordion"]}),l.StyleSheet.create({titleContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},content:{paddingVertical:8}}))},9939:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(4178);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var s=function(e){var t=e.containerStyles,n=e.progress,o=e.animated,d=e.indeterminate,s=e.progressDuration,c=e.indeterminateDuration,p=e.onCompletion,f=e.backgroundColor,g=e.trackHeight,y=void 0===g?3:g,m=(0,i.useState)(new l.Animated.Value(0)),h=(0,a.default)(m,1)[0],v=(0,i.useState)(new l.Animated.Value(0)),b=(0,a.default)(v,1)[0],S=l.Animated.timing(h,{duration:c,toValue:1,useNativeDriver:!0,isInteraction:!1});(0,i.useEffect)((function(){d||"number"==typeof n?w():x()}),[d,n,w,x]);var w=(0,i.useCallback)((function(){d?(h.setValue(0),l.Animated.loop(S).start()):l.Animated.timing(b,{duration:o?s:0,toValue:n,useNativeDriver:!1}).start((function(){p()}))}),[o,d,S,p,n,s,h,b]),x=(0,i.useCallback)((function(){S&&S.stop(),l.Animated.timing(b,{duration:200,toValue:0,useNativeDriver:!0,isInteraction:!1}).start()}),[S,b]);return null!=t&&t.height&&delete t.height,(0,u.jsx)(l.View,{style:[{minHeight:3,backgroundColor:"#ccc"}].concat((0,r.default)(t)),children:(0,u.jsx)(l.Animated.View,{style:[{height:y},Object.assign({backgroundColor:f},d?{transform:[{translateX:h.interpolate({inputRange:[0,.5,1],outputRange:[-192,-128,224]})},{scaleX:h.interpolate({inputRange:[0,.5,1],outputRange:[1e-4,.8,1e-4]})}]}:{width:b.interpolate({inputRange:[0,100],outputRange:["0%","100%"]})})]})})};s.defaultProps={state:"black",height:2,borderRadius:4,progress:0,animated:!0,indeterminate:!1,indeterminateDuration:1100,progressDuration:1100,onCompletion:function(){}},t.default=s},5526:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},6951:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AnimatedProgressBarWidgetStyleConfig=void 0;var r=o(n(7128)),a=n(892),i=o(n(6840)),l=o(n(5526)),u=o(n(9939)),d=n(4178),s=["progressBarColor","trackHeight","borderRadius"],c=t.AnimatedProgressBarWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"progressBarColor",props:{placeholder:"#000000",label:"Progress Bar Color"}},{type:"numericInput",name:"trackHeight",props:{placeholder:"3",label:"Progress Bar Height",noUnit:!0}}],p=i.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,i=e.config.get("layout"),l=(0,a.getPlatformStyles)(i?i.getFlexProperties():{}),c=n.get("progress")||0,p=n.get("animated"),f=n.get("indeterminate"),g=n.get("indeterminateDuration")||1100,y=n.get("progressDuration")||1100,m=o?(0,a.getPlatformStyles)(o):{},h=m.progressBarColor,v=m.trackHeight,b=m.borderRadius;return(0,r.default)(m,s),(0,d.jsx)(u.default,{progress:parseInt(c),animated:p,indeterminate:f,containerStyles:[l,o],borderRadius:b||0,backgroundColor:h||"red",indeterminateDuration:parseInt(g),progressDuration:parseInt(y),trackHeight:v})})),f={basic:[{type:"codeInput",name:"progress",props:{label:"progress",placeholder:"50"}},{type:"codeInput",name:"progressDuration",props:{label:"progressDuration",placeholder:"1000"}},{type:"checkbox",name:"animated",props:{label:"Animated"}},{type:"checkbox",name:"indeterminate",props:{label:"Indeterminate"}},{type:"codeInput",name:"indeterminateDuration",props:{label:"indeterminateDuration",placeholder:"1000"}}],layout:a.defaultEditors.layout};t.default=(0,a.connectWidget)("AnimatedProgressBarWidget",p,{progress:"",progressDuration:"",animated:"",indeterminate:"",indeterminateDuration:""},null,f,{propertySettings:{progress:{getValue:function(e,t){return t}},progressDuration:{getValue:function(e,t){return t}},animated:{getValue:function(e,t){return t}},indeterminate:{getValue:function(e,t){return t}},indeterminateDuration:{getValue:function(e,t){return t}}},widgetStyleConfig:(0,a.mergeWithDefaultStyles)(c),pluginListing:{labelPrefix:"AnimatedProgressBar",type:"widget",name:"Animated Progress Bar",description:"Progress bar with animation",layout:{flex:1},section:"Display",icon:"container"},docs:l.default,themeProfileSel:["tile","animatedProgressBarWidget"]})},1105:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},1380:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.shopifyEditors=t.default=t.ApptileColorSwatchConfig=void 0;var r=n(892),a=o(n(1105)),i=o(n(3216)),l=t.ApptileColorSwatchConfig={value:null,colorsConfig:"",getColorOption:"function"},u={value:{getValue:function(e,t){return t}},getColorOption:{getValue:function(e,t,n){var o=null==e?void 0:e.colorsConfig;return function(e){return function(e,t){var n=t[e.toLowerCase()]?t[e.toLowerCase()]:null;if(!n){var o=e.toLowerCase().replace("/"," ").split(" ").splice(-1).pop();o&&(n=i.default.get(t,o))}if(!n){var r=e.toLowerCase().replace("/"," ").split(" ");for(var a of r)if(n=i.default.get(t,a))break}return n}(e,o)}}}},d=t.shopifyEditors={basic:[{type:"codeInput",name:"colorsConfig",props:{label:"Color Swatch Config",placeholder:'{{{\n          "default": {\n            "colorHex": "#ffffff"\n          },\n          "ash": {\n            "colorHex": "#a3a3a3"\n          },\n          "sky": {\n            "colorHex": "#4cbbb8"\n          }\n        }}}'}}]};t.default=(0,r.connectPlugin)("ApptileColorSwatch",null,l,null,d,{propertySettings:u,pluginListing:{labelPrefix:"apptileColorSwatch",type:"datasource",name:"Apptile Color Swatch",description:"Manage color swatches for Product.",defaultHeight:0,defaultWidth:0,section:"Integrations",icon:"state"},docs:a.default})},3876:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.widgetEditors=t.propertySettings=t.fireworkWidgetStyleConfig=t.FireworkWidgetConfig=void 0;var o=n(892),r=n(1487),a=(t.FireworkWidgetConfig={source:"",mode:"",streamId:"",channel:"",playlist:"",playlistGroup:"",dynamicContentParameters:"",hashtagFilterExpression:"",productIds:"",contentId:"",enablePictureInPicture:"",enableThumbnailAutoplay:{ios:!0,android:!1},hidePlayIcon:"",hideTitle:"",refresh:"action",loading:""},{getValue:function(e,t,n){return t}}),i={getValue:function(e,t,n){return!!t}};t.propertySettings={streamId:a,mode:a,channel:a,playlist:a,playlistGroup:a,dynamicContentParameters:a,hashtagFilterExpression:a,productIds:a,contentId:a,enablePictureInPicture:a,hidePlayIcon:i,hideTitle:i,enableThumbnailAutoplay:{getValue:function(e,t,n){return"object"!=typeof t?{ios:!0,android:!1}:{ios:null==(o=null==t?void 0:t.ios)||o,android:null!=(r=null==t?void 0:t.android)&&r};var o,r}},refresh:{type:o.TriggerActionIdentifier,getValue:function(){return r.refreshFeed}}},t.fireworkWidgetStyleConfig=[{type:"numericInput",name:"containerHeight",props:{label:"Container height for grid",placeholder:"400",noUnit:!0}},{type:"numericInput",name:"thumbnailHeight",props:{label:"Thumbnail height",placeholder:"200",noUnit:!0}},{type:"numericInput",name:"thumbnailWidth",props:{label:"Thumbnail width",placeholder:"265",noUnit:!0}},{type:"numericInput",name:"thumbnailBorderRadius",props:{label:"Thumbnail border radius",placeholder:"10",noUnit:!0}},{type:"numericInput",name:"thumbnailGap",props:{label:"Thumbnail Gap",placeholder:"10",noUnit:!0}},{type:"colorInput",name:"feedBackground",props:{label:"Video feed backgroun color"}},{type:"radioGroup",name:"titlePosition",props:{label:"Title position",options:["nested","stacked"]}},{type:"trblValuesEditor",name:"titlePadding",props:{label:"Thumbnail title padding",options:["thumbnailTitleTopPadding","thumbnailTitleRightPadding","thumbnailTitleBottomPadding","thumbnailTitleLeftPadding"]}},{type:"numericInput",name:"playIconSize",props:{label:"Play icon size",placeholder:"36",noUnit:!0}},{type:"colorInput",name:"shadowColor",props:{label:"Shadow color"}},{type:"numericInput",name:"shadowOpacity",props:{label:"Shadow opacity",placeholder:"1",noUnit:!0}},{type:"trblValuesEditor",name:"contentPadding",props:{label:"Thumbnail title padding",options:["contentPaddingTop","contentPaddingRight","contentPaddingBottom","contentPaddingLeft"]}},{type:"colorInput",name:"titleBgColor",props:{label:"Title background color"}},{type:"numericInput",name:"titleFontSize",props:{label:"Title font size",placeholder:"12",noUnit:!0}},{type:"numericInput",name:"titleLines",props:{label:"Number of lines in title",placeholder:"2",noUnit:!0}},{type:"colorInput",name:"titleTextColor",props:{label:"Title text color"}}],t.widgetEditors={basic:[{type:"radioGroup",name:"source",props:{label:"Source",options:["discover","channel","playlist","playlistGroup","dynamicContent","hashtagPlaylist","sku","singleContent"]}},{type:"radioGroup",name:"mode",props:{label:"Mode",options:["row","column","grid"]}},{type:"codeInput",name:"streamId",props:{label:"Stream id",placeholder:"{{streamid}}"}},{type:"codeInput",name:"channel",props:{label:"Channel id",placeholder:"{{channelid}}"}},{type:"codeInput",name:"playlist",props:{label:"Playlist id",placeholder:"{{playlistid}}"}},{type:"codeInput",name:"playlistGroup",props:{label:"(Exclusively for ios only apps) Playlist group id",placeholder:"{{playlistGroupId}}"}},{type:"codeInput",name:"dynamicContentParameters",props:{label:"Dynamic content parameters",placeholder:"{{ ({ [cohortkey]: [cohortval1, cohortval2] }) }}"}},{type:"codeInput",name:"hashtagFilterExpression",props:{label:"Hashtag filter expression",placeholder:"yourtag-*$"}},{type:"codeInput",name:"productIds",props:{label:"Product ids",placeholder:"{{[prod1, prod2]}}"}},{type:"codeInput",name:"contentId",props:{label:"Content id",placeholder:"{{contentid}}"}},{type:"checkbox",name:"enablePictureInPicture",props:{label:"Enable picture in picture"}},{type:"codeInput",name:"enableThumbnailAutoplay",props:{label:"Enable autoplay (impacts android perf)",placeholder:"{{({ios: true, android: false})}}"}},{type:"checkbox",name:"hidePlayIcon",props:{label:"Hide play icon"}},{type:"checkbox",name:"hideTitle",props:{label:"Hide title"}}]}},8768:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},1487:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.refreshFeed=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.refresh()};var o=n(892)},3049:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),a=n(6352),i=n(6418),l=n(3876),u=n(892),d=o(n(8768)),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t,n){void 0===e&&(e=t);var o=parseInt(e);return isNaN(o)&&(o=n),o}t.default=(0,u.connectWidget)("FireworkWidget",(function(e){var t,n=e.model,o=e.modelUpdate,l=e.modelStyles,d=(e.config,e.triggerEvent,e.id),c=e.instance,f=e.pageKey,g=(0,r.useContext)(u.WidgetRefContext),y=n.get("source")||"",m=n.get("mode")||"",h=n.get("streamId"),v=n.get("channel"),b=n.get("playlist"),S=n.get("playlistGroup"),w=n.get("dynamicContentParameters"),x=n.get("hashtagFilterExpression"),P=n.get("productIds"),C=n.get("contentId"),I=n.get("enablePictureInPicture"),j=n.get("enableThumbnailAutoplay")||{ios:!0,android:!1},k=n.get("hidePlayIcon"),T=n.get("hideTitle"),O=(0,r.useRef)(),M=(0,r.useRef)(0);(0,r.useEffect)((function(){return g.registerWidgetRef({current:{refresh:function(){O.current?(logger.info("calling refresh"),("android"==a.Platform.OS&&M.current>1||"ios"==a.Platform.OS)&&O.current.refresh(),M.current<1&&M.current++):logger.info("no feed to refresh")}}},f,d,c),function(){g.unRegisterWidgetRef(f,d,c)}}),[O.current,M.current]),l.thumbnailTitleTopPadding=p(l.thumbnailTitleTopPadding,l.titlePadding,8),l.thumbnailTitleRightPadding=p(l.thumbnailTitleRightPadding,l.titlePadding,8),l.thumbnailTitleBottomPadding=p(l.thumbnailTitleBottomPadding,l.titlePadding,8),l.thumbnailTitleLeftPadding=p(l.thumbnailTitleLeftPadding,l.titlePadding,8),l.contentPaddingTop=p(l.contentPaddingTop,l.contentPadding,10),l.contentPaddingRight=p(l.contentPaddingRight,l.contentPadding,10),l.contentPaddingBottom=p(l.contentPaddingBottom,l.contentPadding,10),l.contentPaddingLeft=p(l.contentPaddingLeft,l.contentPadding,10);var E={containerHeight:l.containerHeight,thumbnailHeight:l.thumbnailHeight||200,thumbnailWidth:l.thumbnailWidth||120,thumbnailBorderRadius:l.thumbnailBorderRadius||10,thumbnailGap:l.thumbnailGap||10,feedBackground:l.feedBackground||"#ffffff",titlePosition:l.titlePosition||"nested",titlePadding:{top:l.thumbnailTitleTopPadding||8,right:l.thumbnailTitleRightPadding||8,bottom:l.thumbnailTitleBottomPadding||8,left:l.thumbnailTitleLeftPadding||8},contentPadding:{top:l.contentPaddingTop||10,right:l.contentPaddingRight||10,bottom:l.contentPaddingBottom||10,left:l.contentPaddingLeft||10},playIconSize:l.playIconSize||36,shadowOpacity:null!=(t=null==l?void 0:l.shadowOpacity)?t:0,shadowColor:l.shadowColor||"#ffffff",titleBgColor:l.titleBgColor||"#00000088",titleFontSize:l.titleFontSize||12,titleLines:l.titleLines||2,titleTextColor:l.titleTextColor||"#ffffff"},R={ref:O,style:"row"!==m?{flex:1}:{height:E.thumbnailHeight},mode:m,source:y,videoFeedConfiguration:{aspectRatio:"row"===m?E.thumbnailWidth/E.thumbnailHeight:2/3,backgroundColor:E.feedBackground,contentPadding:E.contentPadding,cornerRadius:E.thumbnailBorderRadius,enableAutoplay:a.Platform.select(j),itemSpacing:E.thumbnailGap,playIcon:{hidden:k,iconWidth:E.playIconSize},shadow:{opacity:E.shadowOpacity,color:E.shadowColor},title:{backgroundColor:E.titleBgColor,fontSize:E.titleFontSize,hidden:T,numberOfLines:E.titleLines,textColor:E.titleTextColor},titlePadding:E.titlePadding,titlePosition:E.titlePosition},onVideoFeedLoadFinished:function(e){logger.info("Video feed load finsihed for "+h,e),o([{selector:["loading"],newValue:!1}])},enablePictureInPicture:I},_=null;if(y.length>0)switch(y){case"discover":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R));break;case"channel":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R,{channel:v}));break;case"playlist":_=b.length>0&&v.length>0?(0,s.jsx)(i.VideoFeed,Object.assign({},R,{playlist:b,channel:v})):(0,s.jsxs)(a.Text,{children:["Invalid playlistid: ",b," or channelid: ",v]});break;case"playlistGroup":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R,{playlistGroup:S}));break;case"dynamicContent":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R,{channel:v,dynamicContentParameters:w}));break;case"hashtagPlaylist":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R,{channel:v,hashtagFilterExpression:x}));break;case"sku":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R,{channel:v,productIds:P}));break;case"singleContent":_=(0,s.jsx)(i.VideoFeed,Object.assign({},R,{contentId:C}))}return _}),l.FireworkWidgetConfig,null,l.widgetEditors,{propertySettings:l.propertySettings,widgetStyleConfig:l.fireworkWidgetStyleConfig,pluginListing:{labelPrefix:"fireworkwidget",type:"widget",name:"FireworkWidget",description:"Receive a firework stream",layout:{flex:1,flexDirection:"row"},section:"Display",icon:"video-player",defaultHeight:0,defaultWidth:0},docs:d.default,themeProfileSel:[]})},3058:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={}},8187:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=n(6352),l=n(6418),u=n(892),d=o(n(3058)),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p={getValue:function(e,t,n){return t}},f={streamId:p,mode:p,channel:p,playlist:p,playlistGroup:p,dynamicContentParameters:p,hashtagFilterExpression:p,productIds:p,contentId:p},g={basic:[{type:"radioGroup",name:"source",props:{label:"Source",options:["discover","channel","playlist","playlistGroup","dynamicContent","hashtagPlaylist","sku","singleContent"]}},{type:"radioGroup",name:"mode",props:{label:"Mode",options:["row","column","grid"]}},{type:"codeInput",name:"streamId",props:{label:"Stream id",placeholder:"{{streamid}}"}},{type:"codeInput",name:"channel",props:{label:"Channel id",placeholder:"{{channelid}}"}},{type:"codeInput",name:"playlist",props:{label:"Playlist id",placeholder:"{{playlistid}}"}},{type:"codeInput",name:"playlistGroup",props:{label:"(Exclusively for ios only apps) Playlist group id",placeholder:"{{playlistGroupId}}"}},{type:"codeInput",name:"dynamicContentParameters",props:{label:"Dynamic content parameters",placeholder:"{{ ({ [cohortkey]: [cohortval1, cohortval2] }) }}"}},{type:"codeInput",name:"hashtagFilterExpression",props:{label:"Hashtag filter expression",placeholder:"yourtag-*$"}},{type:"codeInput",name:"productIds",props:{label:"Product ids",placeholder:"{{[prod1, prod2]}}"}},{type:"codeInput",name:"contentId",props:{label:"Content id",placeholder:"{{contentid}}"}},{type:"checkbox",name:"enablePictureInPicture",props:{label:"Enable picture in picture"}}],layout:(0,r.default)(u.defaultEditors.layout)};t.default=(0,u.connectWidget)("FireworkSBWidget",(function(e){var t=e.model,n=(e.modelUpdate,e.modelStyles),o=(e.config,e.triggerEvent,t.get("source")||""),r=(t.get("mode"),t.get("streamId")),u=t.get("channel"),d=t.get("playlist"),c=t.get("playlistGroup"),p=t.get("dynamicContentParameters"),f=t.get("hashtagFilterExpression"),g=t.get("productIds"),y=t.get("contentId"),m=(t.get("enablePictureInPicture"),(0,a.useRef)(),n.containerHeight,n.thumbnailHeight,n.thumbnailWidth,n.thumbnailBorderRadius,n.thumbnailGap,{style:{flex:1},source:o,storyBlockConfiguration:{height:"100%",countdownTimerConfiguration:{isHidden:!1,appearance:"light"},playerStyle:"full"},enablePictureInPicture:!0,onStoryBlockLoadFinished:function(e){return console.log("Video feed load finsihed for "+r,e)}}),h=null;if(o.length>0)switch(o){case"discover":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m));break;case"channel":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m,{channel:u}));break;case"playlist":h=d.length>0&&u.length>0?(0,s.jsx)(l.StoryBlock,Object.assign({},m,{playlist:d,channel:u})):(0,s.jsxs)(i.Text,{children:["Invalid playlistid: ",d," or channelid: ",u]});break;case"playlistGroup":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m,{playlistGroup:c}));break;case"dynamicContent":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m,{channel:u,dynamicContentParameters:p}));break;case"hashtagPlaylist":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m,{channel:u,hashtagFilterExpression:f}));break;case"sku":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m,{channel:u,productIds:g}));break;case"singleContent":h=(0,s.jsx)(l.StoryBlock,Object.assign({},m,{contentId:y}))}return h}),{source:"",mode:"",streamId:"",channel:"",playlist:"",playlistGroup:"",dynamicContentParameters:"",hashtagFilterExpression:"",productIds:"",contentId:""},null,g,{propertySettings:f,widgetStyleConfig:(0,u.mergeWithDefaultStyles)([]),pluginListing:{labelPrefix:"fireworkwidget",type:"widget",name:"FireworkSBWidget",description:"Receive a firework stream",layout:{flex:1,flexDirection:"row"},section:"Display",icon:"video-player",defaultHeight:0,defaultWidth:0},docs:d.default,themeProfileSel:[]})},3361:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"this is unused"},messages:{"!type":"string","!doc":"list of messages"}}},1572:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.assistantAIWidgetStyleConfig=void 0;var r=o(n(5971)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=n(6352),l=o(n(3361)),u=n(892),d=n(4178);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=a.default.forwardRef((function(e,t){var n=(0,a.useRef)(null),o=e.model,r=(e.modelUpdate,e.config,e.modelStyles,e.triggerEvent,o.get("messages"));Array.isArray(r)||(r=[]),(0,a.useEffect)((function(){r.length>0&&n.current&&n.current.scrollToOffset({offset:0,animated:!0})}),[r.length]);var l=(0,a.useCallback)((function(e){null!==t&&("function"==typeof t?t(e):(t.hasOwnProperty("current")||logger.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef()."),t.current=e))}),[t]);return(0,d.jsx)(i.View,{ref:l,style:p.container,children:(0,d.jsx)(i.FlatList,{ref:n,style:p.chatArea,contentContainerStyle:p.chatAreaContent,data:r,inverted:!0,renderItem:function(e){var t=e.item;return(0,d.jsx)(i.View,{style:"user"===t.role?p.sentMessage:p.receivedMessage,children:(0,d.jsx)(i.Text,{style:"user"===t.role?p.sentMessageText:p.receivedMessageText,children:t.content[0].text.value})})},keyExtractor:function(e){return e.id.toString()}})})})),p=i.StyleSheet.create({container:{flex:1,backgroundColor:"#f2f2f2"},chatArea:{flex:1},chatAreaContent:{padding:12},sentMessage:{alignSelf:"flex-end",backgroundColor:"#1B1B1B",borderRadius:16,borderBottomRightRadius:0,padding:12,marginBottom:16,maxWidth:"70%"},receivedMessage:{alignSelf:"flex-start",backgroundColor:"#e6e6e6",borderRadius:16,borderBottomLeftRadius:0,padding:12,marginBottom:16,maxWidth:"70%"},sentMessageText:{color:"#ffffff"},receivedMessageText:{color:"#000000"}}),f={value:{getValue:function(e,t,n){return t}},messages:{getValue:function(e,t,n){return Array.isArray(t)?t:[]}},onMessage:{type:u.EventTriggerIdentifier}},g={basic:[].concat((0,r.default)(u.defaultEditors.basic),[{type:"codeInput",name:"messages",props:{label:"Messages"}}]),layout:u.defaultEditors.layout},y=t.assistantAIWidgetStyleConfig=[];t.default=(0,u.connectWidget)("AssistantAIWidget",c,{value:"",messages:[]},null,g,{propertySettings:f,widgetStyleConfig:(0,u.mergeWithDefaultStyles)(y),pluginListing:{labelPrefix:"assistantAI",type:"widget",name:"AssistantAI",description:"AssistantAI UI",layout:{},defaultHeight:20,defaultWidth:"auto",section:"Inputs",icon:""},docs:l.default,themeProfileSel:["tile"]})},7727:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},8618:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.textWidgetStyleConfig=t.default=void 0;var r,a=o(n(5971)),i=o(n(7128)),l=o(n(2766)),u=o(n(6840)),d=n(892),s=o(n(7727)),c=o(n(3216)),p=o(n(236)),f=n(6352),g=n(4178),y=["shadowColor","shadowOffset","shadowRadius"],m=["typography","linkColor"],h=(r=(0,l.default)((function*(e){(yield f.Linking.canOpenURL(e))&&(yield f.Linking.openURL(e))})),function(e){return r.apply(this,arguments)}),v=t.textWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background"}},{type:"colorInput",name:"color",props:{label:"Text Color"}},{type:"colorInput",name:"linkColor",props:{label:"Link Color"}},{type:"typographyInput",name:"typography",props:{label:"Typography"}}],b=u.default.forwardRef((function(e,t){var n,o=e.model,r=e.modelStyles,a=e.config,l=(0,d.usePlaceHolder)(),u=null==(n=o.get("value"))?void 0:n.toString(),s=a.get("layout"),v=!!o.get("isLoading"),b=(0,d.getPlatformStyles)(s?s.getFlexProperties():{flex:1}),S=r?(0,d.getPlatformStyles)(r):{},w=S.shadowColor,x=S.shadowOffset,P=S.shadowRadius,C=(0,i.default)(S,y),I=C.typography,j=C.linkColor,k=(0,i.default)(C,m),T=c.default.isEmpty(o.get("horizontalAlign","auto"))?"auto":o.get("horizontalAlign","auto"),O=c.default.isEmpty(o.get("verticalAlign","auto"))?"auto":o.get("verticalAlign","auto"),M=o.get("overflowType")?o.get("overflowType"):"hidden",E=o.get("adjustsFontSizeToFit",!1),R=E?{adjustsFontSizeToFit:E,minimumFontScale:c.default.clamp(c.default.toNumber(o.get("minFontScale",1)),0,1),numberOfLines:c.default.clamp(c.default.toNumber(o.get("numLines",1)),1,Number.MAX_SAFE_INTEGER)}:{},_=o.get("isAutoDetectEnabled",!0),A=o.get("detectEmail",!0),V=o.get("detectUrl",!0),D=o.get("detectPhone",!0),W=o.get("link","");return v?(0,g.jsx)(l,{layoutStyles:Object.assign({},b,k,{height:null==I?void 0:I.fontSize,minWidth:"75%"})}):_?(0,g.jsx)(f.View,{ref:t,style:[b,{overflow:M}],children:(0,g.jsx)(p.default,Object.assign({text:u||""},R,{style:[k,I,{textAlign:T,textAlignVertical:O},{textShadowColor:w,textShadowOffset:x,textShadowRadius:P}],url:V,email:A,phone:D,linkStyle:{color:null!=j?j:"blue"}}))}):(0,g.jsx)(f.Pressable,{ref:t,onPress:c.default.isEmpty(W)?void 0:function(){return h(W)},children:(0,g.jsx)(f.Text,Object.assign({},R,{style:[b,k,I,{textAlign:T,textAlignVertical:O},{textShadowColor:w,textShadowOffset:x,textShadowRadius:P}],children:u||""}))})})),S={basic:d.defaultEditors.basic,advanced:[{type:"checkbox",name:"isAutoDetectEnabled",props:{label:"Enable auto detect"}},{type:"codeInput",name:"link",props:{label:"Link"},hidden:function(e){return e.get("isAutoDetectEnabled")}},{type:"checkbox",name:"detectEmail",props:{label:"Link Email"},hidden:function(e){return!e.get("isAutoDetectEnabled")}},{type:"checkbox",name:"detectUrl",props:{label:"Link Url"},hidden:function(e){return!e.get("isAutoDetectEnabled")}},{type:"checkbox",name:"detectPhone",props:{label:"Link Phone number"},hidden:function(e){return!e.get("isAutoDetectEnabled")}},{type:"checkbox",name:"adjustsFontSizeToFit",props:{label:"Adjust font size to fit"}},{type:"codeInput",name:"minFontScale",props:{label:"Minimum font scale"},hidden:function(e){return!e.get("adjustsFontSizeToFit")}},{type:"codeInput",name:"numLines",props:{label:"Number of lines"},hidden:function(e){return!e.get("adjustsFontSizeToFit")}},{type:"codeInput",name:"isLoading",defaultValue:!1,props:{label:"Loading State"}}],layout:[{type:"radioGroup",name:"horizontalAlign",props:{label:"Horizontal Alignment",options:[{icon:"alpha-a",value:"auto"},{icon:"format-align-left",value:"left"},{icon:"format-align-center",value:"center"},{icon:"format-align-right",value:"right"},{icon:"format-align-justify",value:"justify"}]}},{type:"radioGroup",name:"verticalAlign",props:{label:"Vertical Alignment",options:[{icon:"alpha-a",value:"auto"},{icon:"format-vertical-align-top",value:"top"},{icon:"format-vertical-align-center",value:"center"},{icon:"format-vertical-align-bottom",value:"bottom"}]}},{type:"radioGroup",name:"overflowType",props:{label:"Overflow",options:["scroll","hidden"]}}].concat((0,a.default)(d.defaultEditors.layout)),animations:d.defaultEditors.animations},w={isLoading:{getValue:function(e,t){return(0,d.makeBoolean)(t)}},minFontScale:{getValue:function(e,t){return t}},numLines:{getValue:function(e,t){return t}}};t.default=(0,d.connectWidget)("AutoLinkTextWidget",b,{value:"Text",link:"",adjustsFontSizeToFit:!1,isAutoDetectEnabled:!0,minFontScale:1,numLines:1,isLoading:!1,detectEmail:!0,detectUrl:!0,detectPhone:!0},null,S,{propertySettings:w,widgetStyleConfig:(0,d.mergeWithDefaultStyles)(v),pluginListing:{labelPrefix:"autoLinkText",type:"widget",name:"AutoLink Text",description:"Display Auto link (Phone, email, url) Text on screen",layout:{flex:1},section:"Display",icon:"text"},docs:s.default,themeProfileSel:["tile","autoLinkText"]})},9773:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={show:"boolean",hide:"string",value:"boolean",initialPoint:"string",snapPoint:"string",borderRadius:"number",hideBackdrop:"boolean",backdropColor:"string",onClose:"string"}},7912:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BottomSheetWidgetStyleConfig=void 0;var r=o(n(6840)),a=n(2992),i=o(n(9773)),l=n(892),u=n(4178),d=t.BottomSheetWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#FFFFFF"}}],s=r.default.forwardRef((function(e,t){return(0,u.jsx)(a.Portal,{hostName:"root",children:e.model.get("value")&&(0,u.jsx)(l.BottomSheet,{initialPoint:e.model.get("initialPoint"),snapPoint:e.model.get("snapPoint"),borderRadius:parseFloat(e.model.get("borderRadius")||"0"),hideBackdrop:e.model.get("hideBackdrop"),backdropColor:e.model.get("backdropColor")||"#0c0b0b24",style:e.modelStyles,onExpand:function(){return e.triggerEvent("onExpand")},onCollapse:function(){return e.triggerEvent("onCollapse")},onBackdropPress:function(){return e.triggerEvent("onBackdropPress")},children:(0,u.jsx)(l.ApptileFlexbox,Object.assign({ref:t,containerId:e.id},e,{renderWidgetTreeNode:(0,l.renderWidgetTreeNode)(Object.assign({},e)),message:"Start by dropping a container widget."}),e.id+"_"+e.instance)})})})),c={show:{type:l.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=[{selector:o.concat(["value"]),newValue:!0}];e((0,l.modelUpdateAction)(a,void 0,!0))}}},hide:{type:l.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=[{selector:o.concat(["value"]),newValue:!1}];e((0,l.modelUpdateAction)(a,void 0,!0))}}},value:{getValue:function(e,t,n){return!!t}},initialPoint:{getValue:function(e,t,n){return t}},snapPoint:{getValue:function(e,t,n){return t}},borderRadius:{getValue:function(e,t,n){return t}},hideBackdrop:{getValue:function(e,t,n){return!!t}},backdropColor:{getValue:function(e,t,n){return t}},onExpand:{type:l.EventTriggerIdentifier},onCollapse:{type:l.EventTriggerIdentifier},onBackdropPress:{type:l.EventTriggerIdentifier}};t.default=(0,l.connectWidget)("BottomSheetWidget",s,{show:"Action_show",hide:"Action_hide",value:!0,initialPoint:"240",snapPoint:"100%",borderRadius:12,hideBackdrop:!1,backdropColor:"#0c0b0b24",onExpand:"Event_onExpand",onCollapse:"Event_onCollapse",onBackdropPress:"Event_onBackdropPress"},null,{basic:[{type:"checkbox",name:"value",props:{label:"Show"}},{type:"codeInput",name:"initialPoint",props:{label:"Initial Point",placeholder:"240"}},{type:"codeInput",name:"snapPoint",props:{label:"Snap Point",placeholder:"100%"}},{type:"codeInput",name:"borderRadius",props:{label:"Border Radius",placeholder:"12"}},{type:"checkbox",name:"hideBackdrop",props:{label:"Hide backdrop"}},{type:"colorInput",name:"backdropColor",props:{label:"Backdrop color",placeholder:"#0c0b0b24"},hidden:function(e){return e.get("hideBackdrop")}}],layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0}}]},{propertySettings:c,widgetStyleConfig:d,pluginListing:{labelPrefix:"bottomSheet",type:"widget",name:"Bottom Sheet",description:"Bottom Sheet",defaultHeight:0,defaultWidth:0,section:"Layout",layout:{flex:1,flexDirection:"column"},icon:""},docs:i.default})},1743:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The displayed text value of the button"}}},7898:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.buttonWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(7128)),i=n(892),l=g(n(3216)),u=g(n(6840)),d=n(6352),s=o(n(1743)),c=n(4178),p=["typography","color","disabledColor","disabledBackgroundColor","backgroundColor","padding","paddingTop","paddingBottom","paddingLeft","paddingRight"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}var y=u.default.forwardRef((function(e,t){var n=e.model,o=e.config,r=e.modelStyles,s=e.triggerEvent,f=(e.isAnimated,e.animations,n.get("value")),g=n.get("enableHaptics"),y=n.get("hapticMethod"),m=o.get("layout"),h=m?m.getFlexProperties():{},v=(0,l.toInteger)(o.getIn(["style","elevation"],0)),b=Object.assign({},(0,i.getShadowStyle)(v),{elevation:v}),S=(0,i.useIsEditable)(),w=l.default.isEmpty(n.get("horizontalAlign","center"))?"center":n.get("horizontalAlign","center"),x=l.default.isEmpty(n.get("verticalAlign","auto"))?"auto":n.get("verticalAlign","auto"),P=r||{},C=P.typography,I=P.color,j=P.disabledColor,k=P.disabledBackgroundColor,T=P.backgroundColor,O=P.padding,M=P.paddingTop,E=P.paddingBottom,R=P.paddingLeft,_=P.paddingRight,A=(0,a.default)(P,p),V=n.get("disabled"),D=n.get("loading"),W=V?k:T,L=V?j:I,B=(0,u.useCallback)((function(){V||D||(g&&(0,i.performHapticFeedback)(y),s("onTap"),n.get("analytics")&&n.getIn(["analytics","enabled"],!1)&&(0,i.triggerCustomEventListener)("ApptileAnalyticsSendEvent",n.getIn(["analytics","type"]),n.getIn(["analytics","name"]),n.getIn(["analytics","params"])))}),[V,g,y,D,n,s]),F=(0,u.useCallback)((function(e){null!==t&&("function"==typeof t?t(e):(t.hasOwnProperty("current")||logger.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef()."),t.current=e))}),[t]),N={paddingTop:O,paddingBottom:O,paddingLeft:O,paddingRight:O};return l.default.isNil(M)||(N.paddingTop=M),l.default.isNil(R)||(N.paddingLeft=R),l.default.isNil(_)||(N.paddingRight=_),l.default.isNil(E)||(N.paddingBottom=E),(0,c.jsx)(d.Pressable,{ref:F,style:[{backgroundColor:W,alignItems:"center",justifyContent:"center"},h,A,b,N],onPress:S?function(){}:B,children:D?(0,c.jsx)(d.ActivityIndicator,{color:I,size:Math.max(null==C?void 0:C.fontSize,null==C?void 0:C.lineHeight)}):(0,c.jsx)(d.Text,{"sentry-label":"Button "+f,style:[Object.assign({textAlign:w,textAlignVertical:x,color:L},C)],children:f})})})),m={value:{getValue:function(e,t,n){return t?t.toString():""}},loading:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}},disabled:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}},onTap:{type:i.EventTriggerIdentifier},enableHaptics:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}}},h={basic:i.defaultEditors.basic,advanced:[{type:"codeInput",name:"disabled",props:{label:"Disabled"}},{type:"codeInput",name:"loading",props:{label:"Is Loading"}}].concat((0,r.default)(i.hapticEditors.advanced)),layout:[{type:"radioGroup",name:"horizontalAlign",props:{label:"Horizontal Alignment",options:["auto","left","center","right","justify"]}},{type:"radioGroup",name:"verticalAlign",props:{label:"Vertical Alignment",options:["auto","top","center","bottom"]}},{type:"radioGroup",name:"overflowType",props:{label:"Overflow",options:["scroll","hidden"]}}].concat((0,r.default)(i.defaultEditors.layout)),animations:i.defaultEditors.animations,analytics:[{type:"analyticsEditor",name:"analytics",props:{defaultType:"track"}}]},v=t.buttonWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledBackgroundColor",props:{label:"Disabled Background",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledColor",props:{label:"Disabled Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"color",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}}];t.default=(0,i.connectWidget)("ButtonWidget",y,{value:"Button",onTap:"",loading:"",disabled:"",enableHaptics:"",hapticMethod:""},null,h,{propertySettings:m,widgetStyleConfig:(0,i.mergeWithDefaultStyles)(v),pluginListing:{labelPrefix:"button",type:"widget",name:"Button",description:"Display a Tappable button or link",defaultHeight:20,defaultWidth:"auto",section:"Inputs",icon:"button"},docs:s.default,themeProfileSel:["tile","button"]})},80:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),a=n(6352),i=n(892),l=n(4756),u=n(2992),d=o(n(6196)),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=a.StyleSheet.create({closeIcon:{fontSize:20,color:"black"},iconWrapper:{position:"absolute",zIndex:9,top:0,right:8,height:28,width:28,borderRadius:28,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"}});t.default=function(e){var t,n,o,c,f,g=e.props,y=g.model,m=g.modelUpdate,h=g.modelStyles,v=g.config,b=null!=(t=y.get("value"))?t:new Date,S=null!=(n=y.get("minDate"))?n:null,w=null!=(o=y.get("maxDate"))?o:null,x=Array.isArray(y.get("specificDates"))?y.get("specificDates"):[],P=Array.isArray(y.get("specificDays"))?y.get("specificDays"):[],C=null!=(c=y.get("enableOrDisableSpecificDates"))?c:"disable",I=null!=(f=y.get("enableOrDisableSpecificDays"))?f:"disable",j=!!y.get("setOpen"),k=v.get("layout"),T=(0,i.getPlatformStyles)(k?k.getFlexProperties():{flex:5,flexDirection:"row"}),O=(0,i.getPlatformStyles)(h),M=y.get("horizontalAlign","left"),E=y.get("verticalAlign","auto"),R=y.get("flexDirection","row"),_={selector:["setOpen"],newValue:!1},A=function(e){var t=(0,d.default)(null==e?void 0:e.dateString).format("dddd");e&&(m([{selector:["value"],newValue:null==e?void 0:e.dateString},{selector:["setOpen"],newValue:!1},{selector:["dateObject"],newValue:Object.assign(e,{weekDay:t})}]),g.triggerEvent("onDateSelect"))};(0,r.useEffect)((function(){if("string"==typeof b&&(0,d.default)(b,"YYYY-MM-DD",!0).isValid()){var e=(0,d.default)(b).format("dddd");m([{selector:["dateObject"],newValue:{dateString:b,weekDay:e}}])}}),[b]);var V=function(){m([_])};function D(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}var W=function(){for(var e=new Date(S||new Date),t=new Date(w||new Date(e.getTime()+5184e6)),n={},o=new Set(x.map((function(e){return D(new Date(e))}))),r=new Set(P),a="enable"===C,i="enable"===I,l=e;l<=t;l.setDate(l.getDate()+1)){var u=D(l),d=l.getDay(),s=o.has(u),c=r.has(d);(a===i?a?s||c:!s&&!c:a?s&&!c:!s&&c)||(n[u]={disabled:!0,disableTouchEvent:!0})}if(b){var p=D(new Date(b));n[p]=Object.assign({},n[p],{selected:!0})}return n}();return(0,s.jsx)(a.View,{style:[T,O,{textAlign:M,textAlignVertical:E,flexDirection:R}],children:j&&(0,s.jsx)(i.CurrentScreenContext.Consumer,{children:function(e){return(0,s.jsx)(u.Portal,{hostName:null!=e&&e.isModal?y.get("pageKey"):"root",children:j&&(0,s.jsx)(i.CustomModal,{position:"center",onClose:V,outerComponents:(0,s.jsx)(a.View,{style:[p.iconWrapper,{top:4+("ios"!==a.Platform.OS||null!=e&&e.isModal?0:54)}],children:(0,s.jsx)(i.MaterialCommunityIcons,{name:"close",style:[p.closeIcon],onPress:V})}),backdropColor:"rgba(0,0,0,0.8)",children:(0,s.jsx)(a.View,{style:{paddingHorizontal:10},children:(0,s.jsx)(l.Calendar,{markedDates:W,minDate:S,maxDate:w,onDayPress:A,enableSwipeMonths:!0})})})})}})})}},3184:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CalendarWidgetStyleConfig=void 0;var r=o(n(6840)),a=n(892),i=o(n(80)),l=n(4178),u=r.default.forwardRef((function(e,t){return(0,l.jsx)(i.default,{props:e})})),d={value:{getValue:function(e,t,n){return t}},onDateSelect:{type:a.EventTriggerIdentifier}},s=t.CalendarWidgetStyleConfig=[];t.default=(0,a.connectWidget)("CalendarWidget",u,{value:null,dateObject:null,maxDate:null,minDate:null,enableOrDisableSpecificDates:!1,enableOrDisableSpecificDays:!1,specificDates:[],specificDays:[],setOpen:!1,readonly:!1,onDateSelect:"Event_onDateSelect"},null,{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"enableOrDisableSpecificDates",props:{label:"enableOrDisableSpecificDates",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"enableOrDisableSpecificDays",props:{label:"enableOrDisableSpecificDays",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"minDate",props:{label:"minDate",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"maxDate",props:{label:"maxDate",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"specificDates",props:{label:'specificDates["YYYY-MM-DD"]',placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"specificDays",props:{label:'specificDays["index of the day"]',placeholder:"{{textInput1.value}}"}}]},{propertySettings:d,widgetStyleConfig:(0,a.mergeWithDefaultStyles)(s),pluginListing:{labelPrefix:"CalendarWidget",type:"widget",name:"Calendar",description:"Display A Calendar",layout:{flex:1,flexDirection:"row"},section:"Display",icon:"",defaultHeight:0,defaultWidth:0},themeProfileSel:["tile","calendar"]})},3632:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2766)),a=o(n(7488)),i=o(n(1351)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=o(n(5046)),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=u.StyleSheet.create({cameraUI:{flex:1}});t.default=function(e){var t,n=Object.assign({},((0,i.default)(e),e)),o=n.type,c=void 0===o?"back":o,f=n.flash,g=n.onCapture,y=n.captureId,m=n.ratio,h=l.default.useState(""),v=(0,a.default)(h,2),b=v[0],S=v[1],w=(0,l.useRef)(null),x=(0,l.useCallback)((0,r.default)((function*(){if(w.current){var e=yield w.current.takePictureAsync({quality:.8,base64:!0,fixOrientation:!0,mirrorImage:!0});null!=e&&e.base64&&null!=e&&e.uri&&(null==g||g(e.base64,e.uri))}})),[g]),P=(t=(0,r.default)((function*(){if("android"===u.Platform.OS&&w.current&&m){var e=yield w.current.getSupportedRatiosAsync(),t=e.find((function(e){return e===m}))||e[e.length-1];S(t)}})),function(){return t.apply(this,arguments)});(0,l.useEffect)((function(){x()}),[y,x]);var C=b?{ratio:b}:{};return(0,s.jsx)(d.default,Object.assign({ref:w,style:p.cameraUI,captureAudio:!1,onCameraReady:P,type:"back"===c?d.default.Constants.Type.back:d.default.Constants.Type.front,flashMode:f?d.default.Constants.FlashMode.on:d.default.Constants.FlashMode.off,androidCameraPermissionOptions:{title:"Permission to use camera",message:"We need your permission to use your camera",buttonPositive:"Ok",buttonNegative:"Cancel"}},C))}},5046:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1824);t.default=o.RNCamera},3666:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"number","!doc":"URL of the video."},type:{"!type":"string","!doc":"Select camera to capture image from."},flash:{"!type":"boolean","!doc":"Turn onoff flash."}}},3499:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7128)),a=o(n(7488)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(3872),d=o(n(3666)),s=n(892),c=o(n(3632)),p=n(4178),f=["borderRadius","margin","padding"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var y=i.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,d=e.config,g=e.modelUpdate,y=e.triggerEvent,m=i.default.useRef(null);i.default.useEffect((function(){t&&("function"==typeof t?t(m.current):t.current=m.current)}),[t]);var h=(0,i.useState)(),v=(0,a.default)(h,2),b=v[0],S=v[1],w=!!n.get("isActive"),x=n.get("type"),P=n.get("ratio"),C=!!n.get("flash"),I=n.get("captureId"),j=(0,i.useCallback)((function(e,t){var n=[{selector:["value"],newValue:e}];t&&n.push({selector:["path"],newValue:t}),g(n),y("onCapture")}),[g,y]),k=(0,i.useState)(w),T=(0,a.default)(k,2),O=T[0],M=T[1],E=(0,u.useIsFocused)();(0,i.useEffect)((function(){M(E&&w)}),[w,E,M]);var R=(0,i.useRef)(l.AppState.currentState);(0,i.useEffect)((function(){var e=l.AppState.addEventListener("change",(function(e){R.current.match(/inactive|background/)&&"active"===e?M(w&&E):M(!1),R.current=e}));return function(){return e.remove()}}),[w,E,M]);var _=d.get("layout"),A=_?_.getFlexProperties():{flex:1},V=null!=o?o:{},D=V.borderRadius,W=V.margin,L=V.padding,B=(0,r.default)(V,f),F=(0,s.getPlatformStyles)(Object.assign({},B,{borderRadius:D,margin:W,padding:L}));return(0,p.jsx)(l.View,{ref:m,onLayout:function(e){return S(e.nativeEvent.layout)},style:[A,F],children:O&&b&&(0,p.jsx)(c.default,{width:b.width,height:b.height,type:x,flash:C,ratio:P,onCapture:j,captureId:I})})})),m={start:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=[{selector:o.concat(["isActive"]),newValue:!0}];e((0,s.modelUpdateAction)(a,void 0,!0))}}},stop:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=[{selector:o.concat(["isActive"]),newValue:!1}];e((0,s.modelUpdateAction)(a,void 0,!0))}}},capture:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=[{selector:o.concat(["captureId"]),newValue:Math.random()}];e((0,s.modelUpdateAction)(a,void 0,!0))}}},switchCamera:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=n.get("type"),i=[{selector:o.concat(["type"]),newValue:"back"!==a?"back":"front"}];e((0,s.modelUpdateAction)(i,void 0,!0))}}},toggleFlash:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){var a=n.get("flash"),i=[{selector:o.concat(["flash"]),newValue:!a}];e((0,s.modelUpdateAction)(i,void 0,!0))}}},value:{getValue:function(e,t,n){return!!t}},isActive:{getValue:function(e,t,n){return!!t}},type:{getValue:function(e,t,n){return!!t}},flash:{getValue:function(e,t,n){return!!t}},onCapture:{type:s.EventTriggerIdentifier}};t.default=(0,s.connectWidget)("CameraWidget",y,{start:"Action_start",stop:"Action_reset",captureId:"default",capture:"Action_capture",switchCamera:"Action_switchCamera",toggleFlash:"Action_toggleFlash",value:"",ratio:"",path:"",isActive:!1,type:"back",flash:!1,onCapture:"Event_onCapture"},null,{basic:[{type:"checkbox",name:"isActive",props:{label:"Show Camera"}},{type:"radioGroup",name:"type",defaultValue:"front",props:{label:"Side",options:["front","back"]}},{type:"codeInput",name:"ratio",props:{label:"ratio"}}],layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!1}}]},{propertySettings:m,widgetStyleConfig:(0,s.mergeWithDefaultStyles)([{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}}]),pluginListing:{labelPrefix:"camera",type:"widget",name:"Camera",description:"Capture image",layout:{flex:1},defaultHeight:"auto",defaultWidth:"auto",section:"Display",icon:""},docs:d.default})},4031:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToBottom=void 0;var o=n(892);t.scrollToBottom=function(e,t,n,r,a){var i=r[0],l=r[2],u=o.WidgetRefRegistry.getWidgetRef(i,l,void 0);u&&(null==u||u.scrollToEnd({offset:0,animated:!1}))}},1976:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.chatWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(7128)),i=n(892),l=o(n(6840)),u=n(6352),d=n(4031),s=o(n(3216)),c=n(4178),p=["borderRadius","margin","padding","elevation","rowPadding","rowPaddingBottom","rowPaddingLeft","rowPaddingRight","rowPaddingTop","leftRowBorderTopLeftRadius","leftRowBorderTopRightRadius","leftRowBorderBottomRightRadius","leftRowBorderBottomLeftRadius","leftRowBorderRadius","rightRowBorderTopLeftRadius","rightRowBorderTopRightRadius","rightRowBorderBottomRightRadius","rightRowBorderBottomLeftRadius","rightRowBorderRadius","leftRowBackgroundColor","rightRowBackgroundColor","rowBorderColor","rowBorderTopWidth","rowBorderRightWidth","rowBorderBottomWidth","rowBorderLeftWidth","rowBorder","rightTextColor","leftTextColor"],f=["backgroundColor","color","disabledBackgroundColor","disabledColor","leftRowTypography","rightRowTypography"],g=t.chatWidgetStyleConfig=[{type:"typographyInput",name:"rightRowTypography",defaultValue:"tile.chatWidget.rightRowTypography",props:{label:"Right Row Typography",placeholder:"typography.body"}},{type:"typographyInput",name:"leftRowTypography",defaultValue:"tile.chatWidget.leftRowTypography",props:{label:"Left Row Typography",placeholder:"typography.body"}},{type:"colorInput",name:"backgroundColor",defaultValue:"tile.chatWidget.backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"trblValuesEditor",name:"rowPadding",defaultValue:"tile.chatWidget.rowPadding",props:{label:"Row Padding",placeholder:"8",options:["rowPaddingTop","rowPaddingRight","rowPaddingBottom","rowPaddingLeft"]}},{type:"borderRadiusEditor",name:"leftRowBorderRadius",props:{label:"Left Row Border Radius",placeholder:"0",options:["leftRowBorderTopLeftRadius","leftRowBorderTopRightRadius","leftRowBorderBottomRightRadius","leftRowBorderBottomLeftRadius"],layout:"square"}},{type:"borderRadiusEditor",name:"rightRowBorderRadius",props:{label:"Right Row Border Radius",placeholder:"0",options:["rightRowBorderTopLeftRadius","rightRowBorderTopRightRadius","rightRowBorderBottomRightRadius","rightRowBorderBottomLeftRadius"],layout:"square"}},{type:"colorInput",name:"rightRowBackgroundColor",defaultValue:"tile.chatWidget.rightRowBackgroundColor",props:{label:"Right Row Background",placeholder:"#HexCode"}},{type:"colorInput",name:"leftRowBackgroundColor",defaultValue:"tile.chatWidget.leftRowBackgroundColor",props:{label:"Left Row Background",placeholder:"#HexCode"}},{type:"colorInput",name:"rightTextColor",defaultValue:"tile.chatWidget.rightTextColor",props:{label:"Right Row Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"leftTextColor",defaultValue:"tile.chatWidget.leftTextColor",props:{label:"Left Row Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"rowBorderColor",defaultValue:"tile.chatWidget.rowBorderColor",props:{label:"Row Border Color",placeholder:"#HexCode"}},{type:"trblValuesEditor",name:"borderWidth",props:{label:"Row Border",placeholder:"0",options:["rowBorderTopWidth","rowBorderRightWidth","rowBorderBottomWidth","rowBorderLeftWidth"]}}],y=l.default.forwardRef((function(e,t){var n=e.model,o=e.config,r=e.modelStyles,d=e.triggerEvent,g=e.pageKey,y=e.instance,m=e.id,h=l.default.useContext(i.WidgetRefContext),b=null!=r?r:{},S=b.borderRadius,w=b.margin,x=b.padding,P=(b.elevation,b.rowPadding),C=b.rowPaddingBottom,I=b.rowPaddingLeft,j=b.rowPaddingRight,k=b.rowPaddingTop,T=b.leftRowBorderTopLeftRadius,O=b.leftRowBorderTopRightRadius,M=b.leftRowBorderBottomRightRadius,E=b.leftRowBorderBottomLeftRadius,R=b.leftRowBorderRadius,_=b.rightRowBorderTopLeftRadius,A=b.rightRowBorderTopRightRadius,V=b.rightRowBorderBottomRightRadius,D=b.rightRowBorderBottomLeftRadius,W=b.rightRowBorderRadius,L=b.leftRowBackgroundColor,B=b.rightRowBackgroundColor,F=b.rowBorderColor,N=b.rowBorderTopWidth,H=b.rowBorderRightWidth,U=b.rowBorderBottomWidth,z=b.rowBorderLeftWidth,$=b.rowBorder,G=b.rightTextColor,q=b.leftTextColor,Y=(0,a.default)(b,p),K=(0,i.getPlatformStyles)(Object.assign({},Y,{borderRadius:S,margin:w,padding:x})),J=n.get("value"),Q=n.get("leftAvatar"),Z=n.get("rightAvatar"),X=o.get("layout"),ee=X?X.getFlexProperties():{},te=r||{},ne=(te.backgroundColor,te.color,te.disabledBackgroundColor,te.disabledColor,te.leftRowTypography),oe=te.rightRowTypography,re=((0,a.default)(te,f),{padding:P,paddingBottom:C,paddingLeft:I,paddingRight:j,paddingTop:k,borderColor:F,borderTopWidth:N,borderRightWidth:H,borderBottomWidth:U,borderLeftWidth:z,borderWidth:$}),ae={borderRadius:R,borderTopLeftRadius:T,borderTopRightRadius:O,borderBottomRightRadius:M,borderBottomLeftRadius:E,backgroundColor:L},ie={borderRadius:W,borderTopLeftRadius:_,borderTopRightRadius:A,borderBottomRightRadius:V,borderBottomLeftRadius:D,backgroundColor:B},le=l.default.useCallback((function(e){t&&(t=e),h.registerWidgetRef(e,g,m,y)}),[h,t]);return console.log(ee),console.log(K),(0,c.jsx)(u.View,{style:[ee],children:s.default.isEmpty(J)?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)(u.FlatList,{ref:le,data:J,inverted:!0,onEndReached:function(){d("onEndReached")},onEndReachedThreshold:.8,renderItem:function(e){var t=e.item;return(0,c.jsx)(u.View,{style:v.row,children:t.isRightSideMessage?(0,c.jsxs)(u.View,{style:v.rightContainer,children:[(0,c.jsx)(u.View,{style:[v.rightMsgContainer,re,ie],children:(0,c.jsx)(u.Text,{style:Object.assign({},oe,{color:G}),children:t.text})}),(0,c.jsx)(u.Image,{style:v.avatar,source:{uri:Z}})]}):(0,c.jsxs)(u.View,{style:v.leftContainer,children:[(0,c.jsx)(u.Image,{style:v.avatar,source:{uri:Q}}),(0,c.jsx)(u.View,{style:[v.leftMsgContainer,re,ae],children:(0,c.jsx)(u.Text,{style:Object.assign({},ne,{color:q}),children:t.text})})]})},t.id)},keyExtractor:function(e){return e.id},disableVirtualization:u.Platform.select({web:!1,ios:!0,android:!1})})})})),m={value:{getValue:function(e,t,n){return t||[]}},leftAvatar:{getValue:function(e,t,n){return t?t.toString():""}},rightAvatar:{getValue:function(e,t,n){return t?t.toString():""}},onEndReached:{type:i.EventTriggerIdentifier},scrollToBottom:{type:i.TriggerActionIdentifier,getValue:function(e,t,n){return d.scrollToBottom}}},h={basic:[].concat((0,r.default)(i.defaultEditors.basic),[{type:"codeInput",name:"leftAvatar",props:{label:"Left Avatar",placeholder:"Left side avatar"}},{type:"codeInput",name:"rightAvatar",props:{label:"Right Avatar",placeholder:"Right side avatar"}}]),advanced:(0,r.default)(i.hapticEditors.advanced),layout:(0,r.default)(i.defaultEditors.layout),analytics:[{type:"analyticsEditor",name:"analytics",props:{defaultType:"track"}}]},v=(t.default=(0,i.connectWidget)("ChatWidget",y,{value:'[{text:"", isRightSideMessage:false, id:""}]',leftAvatar:"",rightAvatar:"",onEndReached:"",scrollToBottom:"action"},null,h,{propertySettings:m,widgetStyleConfig:(0,i.mergeWithDefaultStyles)(g),pluginListing:{labelPrefix:"chatWidget",type:"widget",name:"Chat",description:"Display chat window",section:"Display",icon:"button"},themeProfileSel:["tile","chatWidget"]}),u.StyleSheet.create({row:{flexDirection:"row",marginVertical:4},avatar:{borderRadius:20,width:32,height:32},rightMsgContainer:{borderWidth:1,marginHorizontal:8,maxWidth:"70%"},leftMsgContainer:{borderWidth:1,marginHorizontal:8,maxWidth:"70%"},rightContainer:{flex:1,justifyContent:"flex-end",flexDirection:"row",alignItems:"center"},leftContainer:{flex:1,flexDirection:"row",alignItems:"center"}}))},96:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},7561:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.checkBoxWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(7488)),i=o(n(7128)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(892),s=o(n(96)),c=n(4178),p=["typography"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var g=t.checkBoxWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",defaultValue:"tile.checkBox.backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"checkColor",defaultValue:"tile.checkBox.checkColor",props:{label:"Checkbox color",placeholder:"#HexCode"}},{type:"colorInput",name:"tickColor",defaultValue:"tile.checkBox.tickColor",props:{label:"Tick color",placeholder:"#HexCode"}},{type:"colorInput",name:"textColor",defaultValue:"tile.checkBox.textColor",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",defaultValue:"tile.checkBox.typography",props:{label:"Typography",placeholder:"typography.body"}},{type:"codeInput",name:"tickSize",defaultValue:"tile.checkBox.tickSize",props:{label:"Tick Size",placeholder:"0"}}],y=l.default.forwardRef((function(e,t){var n,o=e.model,r=e.modelUpdate,s=e.modelStyles,f=e.triggerEvent,g=e.config,y=null==(n=o.get("label"))?void 0:n.toString(),m=o.get("enableHaptics"),h=o.get("hapticMethod"),b=g.get("layout"),S=(0,d.getPlatformStyles)(b?b.getFlexProperties():{flex:1}),w=(0,d.getPlatformStyles)(s),x=w.typography,P=(0,i.default)(w,p),C=!!o.get("value"),I=(0,l.useState)(C),j=(0,a.default)(I,2),k=j[0],T=j[1];(0,l.useEffect)((function(){return T(C)}),[C]);var O=(0,l.useCallback)((function(e){m&&(0,d.performHapticFeedback)(h),T(e),f("onTap"),r([{selector:["value"],newValue:e}])}),[m,h,r,f]);return(0,c.jsxs)(u.View,{style:[S,P],ref:t,children:[(0,c.jsx)(u.Pressable,{style:[v.checkbox,{backgroundColor:k?w.checkColor:"transparent",borderColor:k?"transparent":"#D1D5DB"}],onPress:function(){return O(!k)},children:k&&(0,c.jsx)(d.MaterialCommunityIcons,{name:"check",size:w.tickSize,color:w.tickColor})}),(0,c.jsx)(u.Text,{style:[v.text,x,{color:w.textColor}],children:y||""})]})})),m={basic:[].concat((0,r.default)(d.defaultEditors.basic),[{type:"codeInput",name:"label",props:{label:"label",placeholder:"{{textInput1.value}}"}}]),advanced:d.hapticEditors.advanced,layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0}}]},h={value:{getValue:function(e,t,n){return t?t.toString():""}},enableHaptics:{getValue:function(e,t,n){return(0,d.makeBoolean)(t)}},onTap:{type:d.EventTriggerIdentifier}},v=u.StyleSheet.create({text:{marginHorizontal:8},checkbox:{minHeight:22,minWidth:22,borderWidth:1,borderRadius:5,justifyContent:"center",alignItems:"center",backgroundColor:"#fff"}});t.default=(0,d.connectWidget)("CheckBoxWidget",y,{label:"",value:!1,onTap:"",enableHaptics:"",hapticMethod:""},null,m,{propertySettings:h,widgetStyleConfig:(0,d.mergeWithDefaultStyles)(g),pluginListing:{labelPrefix:"checkbox",type:"widget",name:"Checkbox",description:"Display checkbox with text",layout:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},section:"Inputs",icon:"checkbox"},docs:s.default,themeProfileSel:["tile","checkBox"]})},9678:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(3216)),i=n(804),l=n(5128),u=o(n(7884)),d=n(9917),s=[{label:"Relevance",sortBy:"relevance"},{label:"Price - Low to High",sortBy:"price-ascending"},{label:"Price - High to Low",sortBy:"price-descending"},{label:"Best selling",sortBy:"best-selling"}],c={value:{getValue:function(e,t){return t}},selectedFilters:{getValue:function(e,t){return"object"!=typeof t?{}:t}},sortOptions:{getValue:function(e,t){return a.default.isArray(t)?t:s}},searchProducts:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.searchProducts},actionMetadata:{editableInputParams:{term:""}}},getNextPage:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.getNextPage},actionMetadata:{editableInputParams:{}}},selectFilterAttribute:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.selectFilterAttribute},actionMetadata:{editableInputParams:{attribute:""}}},selectFilter:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.selectFilter},actionMetadata:{editableInputParams:{attribute:"",value:""}}},deselectFilter:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.deselectFilter},actionMetadata:{editableInputParams:{attribute:"",value:""}}},applyFilters:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.applyFilters},actionMetadata:{editableInputParams:{}}},resetFilters:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.resetFilters},actionMetadata:{editableInputParams:{}}},setSortOptions:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.setSortOptions},actionMetadata:{editableInputParams:{sortBy:"",sortOrder:""}}}};t.default=(0,r.connectPlugin)("CloudSearchHelper",null,{datasource:"CloudSearch",value:"",previousSuggestedTerm:"",searchTerm:"",doSearch:"",doNextPage:"",loading:"",suggesting:"",sortBy:"relevance",sortOrder:"asc",sortOptions:"",products:[],suggestedProducts:[],blacklistedFilters:[],selectedFilters:"",filters:[],displayFilters:[],filtersByAttribute:"",selectedFilterAttribute:"",selectedFilterAttributeValues:[],hasNextPage:"",paginationMeta:"",getNextPage:"action",searchProducts:"action",selectFilter:"action",deselectFilter:"action",selectFilterAttribute:"action",applyFilters:"action",resetFilters:"action",setSortOptions:"action"},(function*(e,t,n,o,a,u,s){var c=e.stageModel.getPluginModel(n,t),p=[t],f=[n,"plugins"].concat(p);null!=o&&(p=p.concat([o+""]));var g={modelUpdates:[]},y=null==c?void 0:c.get("value"),m=null==c?void 0:c.get("previousSuggestedTerm"),h=null==c?void 0:c.get("searchTerm"),v=null==c?void 0:c.get("doSearch",!1),b=null==c?void 0:c.get("doNextPage",!1),S=null==c?void 0:c.get("loading",!1);!u&&y===m||v||S||(yield(0,i.spawn)(d.fetchSuggestionsGenerator,e,t,n,o),g.modelUpdates.push({selector:p.concat(["doSearch"]),newValue:!1}),g.modelUpdates.push({selector:p.concat(["loading"]),newValue:!1}),g.modelUpdates.push({selector:p.concat(["suggesting"]),newValue:!0}),g.modelUpdates.push({selector:p.concat(["previousSuggestedTerm"]),newValue:y}));var w=null==c?void 0:c.get("hasNextPage",!1),x=b&&w;if(v&&h){yield(0,i.spawn)(d.fetchProductsGenerator,e,t,n,o),x||(yield(0,i.spawn)(d.fetchProductFiltersGenerator,e,t,n,o));var P=(0,l.getPluginModelUpdate)(f,{doSearch:!1,doNextPage:!1,loading:!0,suggesting:!1});yield(0,i.put)((0,r.modelUpdateAction)(P))}return g}),{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:"{{query1.value}}"}},{type:"codeInput",name:"datasource",props:{label:"CloudSearch Datasource Id",placeholder:"CloudSearch"}}]},{propertySettings:c,pluginListing:{labelPrefix:"CloudSearchHelper",type:"state",name:"CloudSearch Helper",description:"CloudSearch Helper plugin.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"state"},docs:u.default})},5128:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.applyFilters=function(e,t,n,o,r){return c.apply(this,arguments)},t.deselectFilter=function(e,t,n,o,r){return h.apply(this,arguments)},t.getNextPage=function(e,t,n,o,r){return s.apply(this,arguments)},t.getPluginModelUpdate=v,t.resetFilters=function(e,t,n,o,r){return p.apply(this,arguments)},t.searchProducts=function(e,t,n,o,r){return d.apply(this,arguments)},t.selectFilter=function(e,t,n,o,r){return m.apply(this,arguments)},t.selectFilterAttribute=function(e,t,n,o,r){return g.apply(this,arguments)},t.setSortOptions=function(e,t,n,o,r){return f.apply(this,arguments)};var r=o(n(5990)),a=o(n(7488)),i=o(n(2766)),l=n(892),u=o(n(3216));function d(){return(d=(0,i.default)((function*(e,t,n,o,r){var a=r.term;e((0,l.modelUpdateAction)(v(o,{searchTerm:a,doSearch:!0}),void 0,!0))}))).apply(this,arguments)}function s(){return(s=(0,i.default)((function*(e,t,n,o,r){e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!0}),void 0,!0))}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e,t,n,o,r){e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t,n,o,r){e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!1,selectedFilters:{}}),void 0,!0))}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t,n,o,r){var a=r.sortBy,i=r.sortOrder;e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!1,sortBy:a,sortOrder:i}),void 0,!0))}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t,n,o,r){var a=r.attribute;if(void 0!==a){var i,u=n.get("filtersByAttribute");e((0,l.modelUpdateAction)(v(o,{selectedFilterAttributeValues:null==(i=u[a])?void 0:i.values,selectedFilterAttribute:a}),void 0,!0))}}))).apply(this,arguments)}function y(e,t){if(u.default.isArray(e))return u.default.uniq(e.concat(t))}function m(){return(m=(0,i.default)((function*(e,t,n,o,a){var i=a.attribute,d=a.value;if(void 0!==i&&void 0!==d){var s=n.get("selectedFilters",{}),c=u.default.mergeWith(Object.assign({},s),(0,r.default)({},i,[d]),y);e((0,l.modelUpdateAction)(v(o,{selectedFilters:Object.assign({},c)}),void 0,!0))}}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t,n,o,r){var a=r.attribute,i=r.value;if(void 0!==a&&void 0!==i){var d=n.get("selectedFilters",{});u.default.isArray(d[a])&&(u.default.remove(d[a],(function(e){return e==i})),0===d[a].length&&delete d[a]),e((0,l.modelUpdateAction)(v(o,{selectedFilters:Object.assign({},d)}),void 0,!0))}}))).apply(this,arguments)}function v(e,t){var n=[];return t&&!u.default.isEmpty(t)&&Object.entries(t).map((function(t){var o=(0,a.default)(t,2),r=o[0],i=o[1];n.push({selector:e.concat([r]),newValue:i})})),n}},7884:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"Object"}},9917:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchProductFiltersGenerator=function*(e,t,n,l){var u=e.stageModel.getPluginModel(n,t),d=[t],s=[n,"plugins"].concat(d);null!=l&&(d=d.concat([l+""]));var c=e.stageModel.getModelValue([]),p=null==u?void 0:u.get("datasource"),f=c.get(p),g=null==u?void 0:u.get("searchTerm"),y=null==u?void 0:u.get("selectedFilters",{}),m=null==u?void 0:u.get("sortBy","relevance"),h=(yield(0,r.select)(o.selectAppConfig)).getPlugin(p),v=f.get("pluginType"),b=(0,o.GetRegisteredPlugin)(v),S=(0,a.getPluginModelUpdate)(s,{loading:!0,suggesting:!1});yield(0,r.put)((0,o.modelUpdateAction)(S));var w=yield(0,r.call)(b.runQuery,b,h,f,"GetProductFilters",{q:g,facet:!0,filters:Object.assign({},y),sort_by:m},{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:null}),x=w.data,P=(w.rawData,w.errors,w.hasError,w.hasNextPage,w.paginationMeta,(0,a.getPluginModelUpdate)(s,Object.assign({filters:null!=x?x:[]},(0,i.getDisplayFilterOptions)(x,[]))));yield(0,r.put)((0,o.modelUpdateAction)(P,void 0,!0))},t.fetchProductsGenerator=function*(e,t,n,i){var l,u=e.stageModel.getPluginModel(n,t),d=[t],s=[n,"plugins"].concat(d);null!=i&&(d=d.concat([i+""]));var c=e.stageModel.getModelValue([]),p=null==u?void 0:u.get("datasource"),f=c.get(p),g=null==u?void 0:u.get("searchTerm"),y=null==u?void 0:u.get("hasNextPage",!1),m=(null==u?void 0:u.get("doNextPage",!1))&&y,h=null==u?void 0:u.get("paginationMeta",!1),v=null==u?void 0:u.get("selectedFilters",{}),b=null==u?void 0:u.get("sortBy","relevance"),S=u.get("products",[]),w=(yield(0,r.select)(o.selectAppConfig)).getPlugin(p),x=f.get("pluginType"),P=(0,o.GetRegisteredPlugin)(x),C=(0,a.getPluginModelUpdate)(s,Object.assign({loading:!0,suggesting:!1},m?{}:{products:[]}));yield(0,r.put)((0,o.modelUpdateAction)(C));var I=yield(0,r.call)(P.runQuery,P,w,f,"SearchProducts",{q:g,facet:!0,offset:0,limits:{products:24},filters:Object.assign({},v),sort_by:b},{transformers:void 0,getNextPage:m,paginationMeta:m?h:void 0,cachePolicy:null}),j=I.data,k=(I.rawData,I.errors,I.hasError,I.hasNextPage),T=I.paginationMeta,O=(0,a.getPluginModelUpdate)(s,{products:m?S.concat(j.products):null!=(l=j.products)?l:[],previousSuggestedTerm:g,loading:!1,suggesting:!1,hasNextPage:k,paginationMeta:T});yield(0,r.put)((0,o.modelUpdateAction)(O,void 0,!0))},t.fetchSuggestionsGenerator=function*(e,t,n,i){var l=e.stageModel.getPluginModel(n,t),u=[t],d=[n,"plugins"].concat(u);null!=i&&(u=u.concat([i+""]));var s=e.stageModel.getModelValue([]),c=null==l?void 0:l.get("datasource"),p=s.get(c),f=null==l?void 0:l.get("value"),g=(yield(0,r.select)(o.selectAppConfig)).getPlugin(c),y=p.get("pluginType"),m=(0,o.GetRegisteredPlugin)(y),h=yield(0,r.call)(m.runQuery,m,g,p,"GetSuggestions",{q:f,limits:{products:5}},{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:null}),v=h.data,b=(h.rawData,h.errors,h.hasError,h.hasNextPage,h.paginationMeta,(0,a.getPluginModelUpdate)(d,{suggestedProducts:null==v?void 0:v.products}));yield(0,r.put)((0,o.modelUpdateAction)(b,void 0,!0))};var o=n(892),r=n(804),a=n(5128),i=n(5374)},7511:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CloudSearchHelper",{enumerable:!0,get:function(){return r.default}});var r=o(n(9678))},5374:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayFilterOptions=function(e,t){var n,o,a=r.default.omitBy(e,(function(e,n){return null==t?void 0:t.includes(null==e?void 0:e.attribute)})),i=r.default.keyBy(a,(function(e){return null==e?void 0:e.attribute})),l=null==(n=a[0])?void 0:n.attribute;return{displayFilters:a,filtersByAttribute:i,selectedFilterAttribute:l,selectedFilterAttributeValues:null==(o=i[l])?void 0:o.values}};var r=o(n(3216))},8098:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=n(804),i=o(n(3216)),l={onValueSame:i.default.identity,onValueChange:i.default.identity,value:"",equalityCheckMethod:"Referencial",previousValue:"",runWhenModelUpdates:!1,runWhenPageLoads:!1,runOnPageFocus:!1},u={value:{getValue:function(e,t,n){return t}},previousValue:{getValue:function(e,t,n){return t},updatesProps:["value"]},onValueChange:{type:r.EventTriggerIdentifier},onValueSame:{type:r.EventTriggerIdentifier}};t.default=(0,r.connectPlugin)("comparatorPlugin",null,l,(function*(e,t,n,o,l,u,d){var s=e.stageModel.getPluginModel(n,t),c=[t];null!=o&&(c=c.concat([o+""]));var p=null==s?void 0:s.get("value"),f=null==s?void 0:s.get("equalityCheckMethod"),g=null==s?void 0:s.get("previousValue"),y=null==s?void 0:s.get("runWhenModelUpdates"),m=null==s?void 0:s.get("runWhenPageLoads"),h=null==s?void 0:s.get("runOnPageFocus");if((null==d||!d.focusTrigger||h)&&(l||y||u&&m||null!=d&&d.focusTrigger&&h)){switch(f){case"Referencial":p===g?yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onValueSame")):yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onValueChange"));break;case"Lodash":i.default.isEqual(p,g)?yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onValueSame")):yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onValueChange"));break;case"Immutable":null!=p&&p.equals(g)||p===g?yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onValueSame")):yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onValueChange"))}if(!i.default.isEqual(p,g))return{modelUpdates:[{selector:c.concat(["previousValue"]),newValue:p}]}}}),{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:""}},{type:"radioGroup",name:"equalityCheckMethod",defaultValue:"Referencial",props:{label:"Equality Check Method",options:["Referencial","Lodash","Immutable"]}}],advanced:[{type:"checkbox",name:"runWhenModelUpdates",props:{label:"Run when model updates",checkedValue:!1}},{type:"checkbox",name:"runWhenPageLoads",props:{label:"Run when page loads",checkedValue:!1}},{type:"checkbox",name:"runOnPageFocus",props:{label:"Run on page focus",checkedValue:!1}}]},{propertySettings:u,pluginListing:{labelPrefix:"comparator",type:"state",name:"Comparator",description:"Compares previous and current value and triggers events based on the comparison.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"expression"}})},4586:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={isTappable:"boolean"}},5507:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.containerWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(6840)),i=n(892),l=o(n(4586)),u=n(4178),d=t.containerWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}}],s=a.default.forwardRef((function(e,t){var n,o=e.model;return null!=(n=null==o?void 0:o.get("keyboardAware"))&&n?(0,u.jsx)(i.KeyboardAwareApptileFlexbox,Object.assign({},e,{containerId:null==e?void 0:e.id,ref:t,renderWidgetTreeNode:(0,i.renderWidgetTreeNode)(Object.assign({},e))}),(null==e?void 0:e.id)+"_"+(null==e?void 0:e.instance)):(0,u.jsx)(i.ApptileFlexbox,Object.assign({},e,{containerId:null==e?void 0:e.id,ref:t,renderWidgetTreeNode:(0,i.renderWidgetTreeNode)(Object.assign({},e))}),(null==e?void 0:e.id)+"_"+(null==e?void 0:e.instance))})),c={isTappable:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}},keyboardAware:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}},enableHaptics:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}},onTap:{type:i.EventTriggerIdentifier},onVisible:{type:i.EventTriggerIdentifier},onNotVisible:{type:i.EventTriggerIdentifier}},p={basic:i.defaultEditors.basic,advanced:[{type:"checkbox",name:"isTappable",props:{label:"Tappable"}},{type:"checkbox",name:"keyboardAware",props:{label:"Keyboard Aware Container"}},{type:"checkbox",name:"detectVisibility",props:{label:"Throw Visibility Events"}}].concat((0,r.default)(i.hapticEditors.advanced)),layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0}}],animations:i.defaultEditors.animations};t.default=(0,i.connectWidget)("ContainerWidget",s,{isTappable:!1,keyboardAware:!1,detectVisibility:!1,enableHaptics:!1,hapticMethod:""},null,p,{propertySettings:c,widgetStyleConfig:(0,i.mergeWithDefaultStyles)(d),pluginListing:{labelPrefix:"container",type:"widget",name:"Container",description:"Display Text on screen with varying styles.",defaultHeight:20,defaultWidth:0,section:"Layout",layout:{flex:1,flexDirection:"column"},icon:"container"},docs:l.default,themeProfileSel:["tile","container"]})},5358:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={reset:{"!type":"action","!doc":"Reset action, resets countdown."},isActive:"boolean",value:"number",interval:"number",format:"string",onEnd:"event"}},7136:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={en:{y:function(e){return"year"+(1===e?"":"s")},mo:function(e){return"month"+(1===e?"":"s")},w:function(e){return"week"+(1===e?"":"s")},d:function(e){return"day"+(1===e?"":"s")},h:function(e){return"hour"+(1===e?"":"s")},m:function(e){return"minute"+(1===e?"":"s")},s:function(e){return"second"+(1===e?"":"s")},ms:function(e){return"millisecond"+(1===e?"":"s")},decimal:"."}};function o(e){var t=function(e,o){return function(e,t){var o,r,i;e=Math.abs(e);var d,s,c,p=function(e){var t=[e.language];if(u(e,"fallbacks")){if(!l(e.fallbacks)||!e.fallbacks.length)throw new Error("fallbacks must be an array with at least one element");t=t.concat(e.fallbacks)}for(var o=0;o<t.length;o++){var r=t[o];if(u(e.languages,r))return e.languages[r];if(u(n,r))return n[r]}throw new Error("No language found.")}(t),f=[];for(o=0,r=t.units.length;o<r;o++){if(d=t.units[o],s=t.unitMeasures[d],o+1===r)if(u(t,"maxDecimalPoints")){var g=Math.pow(10,t.maxDecimalPoints),y=e/s;c=parseFloat((Math.floor(g*y)/g).toFixed(t.maxDecimalPoints))}else c=e/s;else c=Math.floor(e/s);f.push({unitCount:c,unitName:d}),e-=c*s}var m,h,v=0;for(o=0;o<f.length;o++)if(f[o].unitCount){v=o;break}if(t.round)for(o=f.length-1;o>=0&&((i=f[o]).unitCount=Math.round(i.unitCount),0!==o);o--)h=f[o-1],m=t.unitMeasures[h.unitName]/t.unitMeasures[i.unitName],(i.unitCount%m==0||t.largest&&t.largest-1<o-v)&&(h.unitCount+=i.unitCount/m,i.unitCount=0);var b,S=[];for(o=0,f.length;o<r&&(i=f[o],(t.includeZero||i.unitCount)&&S.push(a(i.unitCount,i.unitName,p,t)),S.length!==t.largest);o++);return S.length?(b=u(t,"delimiter")?t.delimiter:u(p,"delimiter")?p.delimiter:", ",t.conjunction&&1!==S.length?2===S.length?S.join(t.conjunction):S.length>2?S.slice(0,-1).join(b)+(t.serialComma?",":"")+t.conjunction+S.slice(-1):void 0:S.join(b)):a(0,t.units[t.units.length-1],p,t)}(e,i({},t,o||{}))};return i(t,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},e)}var r=o({});function a(e,t,n,o){var r,a;r=u(o,"decimal")?o.decimal:u(n,"decimal")?n.decimal:".",a="function"==typeof n._formatCount?n._formatCount(e,r):e.toString().replace(".",r);var i,l=n[t];return i="function"==typeof l?l(e):l,o.appendZero&&(a=("00"+a).slice(-2)),a+o.spacer+i}function i(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n])u(t,o)&&(e[o]=t[o]);return e}var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.getSupportedLanguages=function(){var e=[];for(var t in n)u(n,t)&&"gr"!==t&&e.push(t);return e},r.humanizer=o,t.default=r},1103:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.countDownWidgetStyleConfig=void 0;var r=o(n(7128)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=n(6352),l=o(n(3216)),u=o(n(7136)),d=o(n(5358)),s=n(892),c=n(4178),p=["typography"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var g={reset:"Action_reset",key:"default",hasEnded:!1,isActive:!1,appendZero:!1,value:(new Date).getTime(),interval:1e3,yFormat:"Year,Years",moFormat:"Month,Months",wFormat:"Week,Weeks",dFormat:"Day,Days",hFormat:"Hour,Hours",mFormat:"Minute,Minutes",sFormat:"Second,Seconds",msFormat:"Millisecond,Milliseconds",delimiter:", ",units:"Y,Mo,W,D,H,M,S",onCountdownEnd:"Event_onCountdownEnd"},y=t.countDownWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"color",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}}],m=a.default.forwardRef((function(e,t){var n,o=e.model,l=e.modelUpdate,d=e.modelStyles,f=e.triggerEvent,g=!!o.get("isActive"),y=!!o.get("appendZero"),m=o.get("interval")||1e3,h=!!o.get("hasEnded"),v=o.get("value"),b=(0,a.useRef)(v),S=(new Date).getTime()+5e3;n=v?"string"==typeof v&&v.startsWith("{{")?S:new Date(v).getTime():S;var w=(0,a.useRef)(n),x=(0,a.useRef)(!1),P=(0,a.useRef)(null);v!=b&&(w.current=n,b.current=v,x.current=!1);var C=d?(0,s.getPlatformStyles)(d):{},I=C.typography,j=(0,r.default)(C,p),k=o.get("yFormat").split(",").filter((function(e){return e.trim()}));0==k.length&&(k=[""]);var T=o.get("moFormat").split(",").filter((function(e){return e.trim()}));0==T.length&&(T=[""]);var O=o.get("wFormat").split(",").filter((function(e){return e.trim()}));0==O.length&&(O=[""]);var M=o.get("dFormat").split(",").filter((function(e){return e.trim()}));0==M.length&&(M=[""]);var E=o.get("hFormat").split(",").filter((function(e){return e.trim()}));0==E.length&&(E=[""]);var R=o.get("mFormat").split(",").filter((function(e){return e.trim()}));0==R.length&&(R=[""]);var _=o.get("sFormat").split(",").filter((function(e){return e.trim()}));0==_.length&&(_=[""]);var A=o.get("msFormat").split(",").filter((function(e){return e.trim()}));0==A.length&&(A=[""]);var V=o.get("delimiter"),D=["Y","MS","W","D","H","M","S","MS"],W=o.get("units").toLowerCase().split(",").filter((function(e){return e.trim()&&D.includes(e.toUpperCase())})),L=u.default.humanizer({language:"en",languages:{shortEn:{y:function(e){return e<2?k[0]:k[k.length-1]},mo:function(e){return e<2?T[0]:T[T.length-1]},w:function(e){return e<2?O[0]:O[O.length-1]},d:function(e){return e<2?M[0]:M[M.length-1]},h:function(e){return e<2?E[0]:E[E.length-1]},m:function(e){return e<2?R[0]:R[R.length-1]},s:function(e){return e<2?_[0]:_[_.length-1]},ms:function(e){return e<2?A[0]:A[A.length-1]}}}});return(0,a.useEffect)((function(){function e(){var e,t=w.current-Date.now(),n=L(t,{units:W,maxDecimalPoints:0,includeZero:!0,appendZero:y,delimiter:V,language:"shortEn"});return"web"!==i.Platform.OS?null==(e=P.current)||e.setNativeProps({text:n}):P.current.value=n,t<=0&&!h&&!x&&(l([{selector:["hasEnded"],newValue:!0}]),f("onCountdownEnd"),x.current=!0),t}var t;return e(),g&&(t=setInterval((function(){e()<=0&&clearInterval(t)}),m)),function(){clearInterval(t)}}),[m,g,h,y,V,l,L,W,f]),(0,c.jsx)(i.TextInput,{ref:function(e){t&&(t.current=e),P.current=e},style:[{textAlign:"center"},I,j],editable:!1})})),h={reset:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return function(e,t,n,o,r){e((0,s.modelUpdateAction)([{selector:o.concat(["key"]),newValue:Math.random()}],void 0,!0))}}},key:{getValue:function(e,t,n){return t}},value:{getValue:function(e,t,n){return t}},isActive:{getValue:function(e,t,n){return!!t}},interval:{getValue:function(e,t,n){return l.default.toNumber(t)}},onCountdownEnd:{type:s.EventTriggerIdentifier}};t.default=(0,s.connectWidget)("CountdownWidget",m,g,(function(){}),{basic:[{type:"checkbox",name:"isActive",props:{label:"isActive",placeholder:"{{false}}"}},{type:"checkbox",name:"appendZero",props:{label:"appendZero",placeholder:"{{false}}"}},{type:"dateAndTimeInput",name:"value",props:{label:"Date And Time",disableBinding:!1}},{type:"codeInput",name:"interval",props:{label:"Interval (in ms)",placeholder:"{{1000}}"}},{type:"codeInput",name:"yFormat",props:{label:"Years Format",placeholder:"Year,Years"}},{type:"codeInput",name:"moFormat",props:{label:"Months Format",placeholder:"Month,Months"}},{type:"codeInput",name:"wFormat",props:{label:"Weeks Format",placeholder:"Week,Weeks"}},{type:"codeInput",name:"dFormat",props:{label:"Days Format",placeholder:"Day,Days"}},{type:"codeInput",name:"hFormat",props:{label:"Hours Format",placeholder:"Hour,Hours"}},{type:"codeInput",name:"mFormat",props:{label:"Minutes Format",placeholder:"Minute,Minutes"}},{type:"codeInput",name:"sFormat",props:{label:"Seconds Format",placeholder:"Second,Seconds"}},{type:"codeInput",name:"msFormat",props:{label:"Milliseconds Format",placeholder:"Millisecond,Milliseconds"}},{type:"codeInput",name:"delimiter",props:{label:"Delimiter",placeholder:","}},{type:"codeInput",name:"units",props:{label:"Units To Show",placeholder:"Y,Mo,W,D,H,M,S,Ms"}}],layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!1}}]},{propertySettings:h,widgetStyleConfig:(0,s.mergeWithDefaultStyles)(y),pluginListing:{labelPrefix:"countdown",type:"widget",name:"Countdown",description:"Display Countdown",defaultHeight:0,defaultWidth:0,section:"Display",icon:"timer",layout:[]},docs:d.default})},4438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"[displayImage]"}},2645:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(4438));t.default=(0,r.connectPlugin)("DisplayImageList",null,{value:[]},null,{basic:[{type:"listEditor",name:"value",props:{label:"Image List"}}]},{propertySettings:{value:{getValue:function(e,t){return t}}},pluginListing:{labelPrefix:"list",type:"state",name:"Display Image-List",description:"Create custom lists for sliders and other display elements.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"image-list"},docs:a.default})},6418:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.FireworkSDK=void 0,t.StoryBlock=function(){return r.default.createElement(a.Text,{},"Firework sdk not initialized")},t.VideoFeed=function(){return r.default.createElement(a.Text,{},"Firework sdk not initialized")};var r=o(n(6840)),a=n(6352);t.FireworkSDK={getInstance:function(){return{onSDKInit:function(){logger.info("Firework sdk not enabled")},markInitCalled:function(){logger.info("Firework sdk not enabled")},shopping:{},navigator:{popNativeContainer:function(){logger.info("Firework sdk not enabled")},startFloatingPlayer:function(){return logger.info("Firework sdk not enabled"),Promise.resolve(!0)}}}}}},7183:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2766)),a=n(6418),i=n(892),l=n(804),u=o(n(3216)),d=a.FireworkSDK.getInstance();function s(){return(s=(0,r.default)((function*(e){var t=(0,i.getAppDispatch)(),n=e.productId,o=e.url,r=o.indexOf("/products/")+10,a=o.indexOf("?",r);a<0&&(a=o.length);var l=o.substring(r,a);return console.log("clicked product product",{productId:n,productHandle:l}),t((0,i.modelUpdateAction)([{selector:["firework","fireworkPayload"],newValue:{url:o,productId:n,productHandle:l}}],void 0,!0)),{res:"success"}}))).apply(this,arguments)}d.onSDKInit=function(e){logger.info("[FIREWORK] onInitSDK",e)},d.markInitCalled(),d.shopping.onCustomTapProductCard=function(e){return s.apply(this,arguments)};var c={value:"",fireworkPayload:"",onShoppingCTAClick:u.default.identity},p={value:{getValue:function(e,t){return t}},fireworkPayload:{getValue:function(e,t){return t}},onShoppingCTAClick:{type:i.EventTriggerIdentifier}};t.default=(0,i.connectPlugin)("Firework",null,c,(function*(e,t,n,o){var r,a;null!=(r=null==(a=(yield(0,l.select)(i.selectStageModel)).getModelValue(["firework"]))?void 0:a.get("fireworkPayload"))&&r&&(d.navigator.startFloatingPlayer().then((function(e){e||d.navigator.popNativeContainer()})),yield(0,l.put)((0,i.triggerPageEvent)(n,t,o,"onShoppingCTAClick")))}),null,{propertySettings:p,pluginListing:{labelPrefix:"firework",type:"datasource",name:"Firework Global Plugin",description:"Firework singleton instance access",section:"Integrations",icon:"datasource"},docs:{}})},1723:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7488)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=o(n(820)),l=o(n(3216)),u=n(5976),d=n(6352),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.default=function(e){var t=e.value,n=e.mid,o=e.environment,c=e.storeId,p=e.fbpixel,f=e.cartId,g=e.storefrontAccessToken,y=e.shopDomain,m=e.onCancel,h=e.onSuccess,v=(0,a.useState)(!0),b=(0,r.default)(v,2),S=(b[0],b[1]),w=(0,a.useCallback)((function(e){var t=e.nativeEvent;if(console.log(t),!1===(null==t?void 0:t.loading)){var n=null==t?void 0:t.url;u.SHOPIFY_SUCCESS_PAGE_URL_REGEX.test(n)&&h&&h()}}),[h]),x=(0,a.useCallback)((function(e){if(console.log(e.nativeEvent.data),"loaded"===e.nativeEvent.data&&setTimeout((function(){return S(!1)}),100),"cancel"===e.nativeEvent.data&&m&&m(),"success"===e.nativeEvent.data&&h&&h(),e.nativeEvent.data&&l.default.startsWith(e.nativeEvent.data,"link$$")){var t=l.default.trimStart(e.nativeEvent.data,"link$$");console.log("Opening URL: "+t),d.Linking.openURL(t)}}),[m,h]),P=`\n  const gokwiktargetNode = document.body;\n  const observerOptions = {\n    subtree: true,\n    childList: true,\n  };\n  window.gokwikIframe = null;\n\n  function logChanges(records, observer) {\n    if (window.gokwikIframe) {\n      if (!document.body.contains(window.gokwikIframe)) {\n        window.gokwikIframe = null;\n        window.ReactNativeWebView.postMessage('cancel');\n      }\n    }\n    for (const record of records) {\n      for (const addedNode of record.addedNodes) {\n        if (addedNode.id == "gokwik-iframe" && addedNode.tagName == "IFRAME") {\n          window.gokwikIframe = addedNode;\n          window.ReactNativeWebView.postMessage('loaded');\n        }\n      }\n    }\n  }\n  window.gokwikobserver = new MutationObserver(logChanges);\n  gokwikobserver.observe(gokwiktargetNode, observerOptions);\n\n  function apptileInitGokwik() {\n    window.setTimeout( function () {\n      gokwikSdk.on('orderSuccess',(data)=>{ \n        window.ReactNativeWebView.postMessage('success');\n      });\n      gokwikSdk.on('openInBrowserTab',(data)=>{ \n        window.ReactNativeWebView.postMessage('link$$'+data?.link);\n      });\n      gokwikSdk.on('shopifyRedirect',(data)=>{ \n        window.ReactNativeWebView.postMessage('link$$'+data?.link);\n      });\n    }, 800);\n  }\n  var head = document.getElementsByTagName("head")[0];\n  head.addEventListener("load", function(event) {\n      if (event.target.nodeName === "SCRIPT" && event.target.id === "gokwikScript")\n      {\n        apptileInitGokwik()\n      }\n  }, true);\n  apptileInitGokwik();\n\n  let storeInfo = {\n    "mid": "${n}",\n    "environment": "${o}",\n    "type": "merchantInfo",\n    "storeId": "${c}",\n    "fbpixel": "${p}",\n    "storeData": {\n      "cartId": "${f}",\n      "storefrontAccessToken": "${g}",\n      "shopDomain": "${y}"\n    }\n  }\n  initKwikCheckout(storeInfo);\n  `;console.log(P),console.log(`URL: ${t}`);var C=(0,a.useState)(t),I=(0,r.default)(C,2),j=I[0],k=I[1];(0,a.useEffect)((function(){t!==j&&k(t)}),[j,t]);var T={uri:j};return console.log(`WebviewSource: ${JSON.stringify(T)}`),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.default,{onLoad:w,originWhitelist:["*"],source:T,onMessage:x,injectedJavaScriptForMainFrameOnly:!0,injectedJavaScript:P,onShouldStartLoadWithRequest:function(e){return console.log(`Loading URL: ${e.url}`),!!e.url.startsWith("http")||(d.Linking.openURL(e.url),!1)}},t)})}},5976:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SHOPIFY_SUCCESS_PAGE_URL_REGEX=void 0,t.SHOPIFY_SUCCESS_PAGE_URL_REGEX=/(\s*)\/orders\/(\s*)/g},3871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"GoKwik checkout"}}},9338:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=o(n(7488)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(892),s=o(n(3871)),c=o(n(1723)),p=n(4178),f=["borderRadius","margin","padding","elevation"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var y=l.default.forwardRef((function(e,t){var n,o=e.model,r=e.modelStyles,s=e.config,g=e.triggerEvent,y=null==(n=o.get("value"))?void 0:n.toString(),m=o.get("mid"),h=o.get("environment"),v=o.get("storeId"),b=o.get("fbpixel"),S=o.get("cartId"),w=o.get("shopDomain"),x=o.get("storefrontAccessToken",""),P=(0,l.useState)(!1),C=(0,i.default)(P,2),I=C[0],j=C[1];(0,l.useEffect)((function(){y&&S&&w&&x&&v&&m&&h&&j(!0)}),[y,S,w,x,v,m,h]);var k=s.get("layout"),T=k?k.getFlexProperties():{flex:1},O=null!=r?r:{},M=O.borderRadius,E=O.margin,R=O.padding,_=(O.elevation,(0,a.default)(O,f)),A=(0,d.getPlatformStyles)(Object.assign({},_,{borderRadius:M,margin:E,padding:R})),V=(0,l.useCallback)((function(){g("onCancel")}),[g]),D=(0,l.useCallback)((function(){g("onSuccess")}),[g]);return(0,p.jsx)(u.View,{style:[T,A],ref:t,children:I?(0,p.jsx)(c.default,{value:y,mid:m,environment:h,storeId:v,fbpixel:b,cartId:S,storefrontAccessToken:x,shopDomain:w,onCancel:V,onSuccess:D}):(0,p.jsx)(p.Fragment,{})})})),m={basic:[].concat((0,r.default)(d.defaultEditors.basic),[{type:"codeInput",name:"mid",props:{label:"Gokwik merchant id"}},{type:"codeInput",name:"environment",props:{label:"Gokwik environment"}},{type:"codeInput",name:"storeId",props:{label:"Gokwik store id"}},{type:"codeInput",name:"fbpixel",props:{label:"Gokwik FB pixel config"}},{type:"codeInput",name:"cartId",props:{label:"Shopify Cart Id"}},{type:"codeInput",name:"shopDomain",props:{label:"Shopify shop domain"}},{type:"codeInput",name:"storefrontAccessToken",props:{label:"Shopify SF Access token"}}]),layout:d.defaultEditors.layout},h={onCancel:{type:d.EventTriggerIdentifier},onSuccess:{type:d.EventTriggerIdentifier}};t.default=(0,d.connectWidget)("GoKwikCheckoutWidget",y,{value:"",mid:"",environment:"",storeId:"",fbpixel:"",cartId:"",storefrontAccessToken:"",shopDomain:"",onCancel:"",onSuccess:""},null,m,{propertySettings:h,widgetStyleConfig:d.defaultStyleEditors,pluginListing:{labelPrefix:"GoKwikCheckout",type:"widget",name:"GoKwik Checkout View",description:"Load GoKwik Checkout in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:s.default})},7515:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},onLoadEnd:"function",headers:{"!type":"string","!doc":"Request headers for web view "}}},6878:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=o(n(7128)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(820),s=o(n(3216)),c=n(892),p=o(n(7515)),f=n(4178),g=["borderRadius","margin","padding","elevation"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=l.default.forwardRef((function(e,t){var n,o,r=e.model,p=e.modelUpdate,y=e.modelStyles,m=e.config,h=e.triggerEvent,v=null==(n=r.get("value"))?void 0:n.toString(),b=null==(o=r.get("headers"))?void 0:o.toString(),S=r.get("injectedJavaScript").toString(),w=m.get("layout"),x=w?w.getFlexProperties():{flex:1},P=null!=y?y:{},C=P.borderRadius,I=P.margin,j=P.padding,k=(P.elevation,(0,i.default)(P,g)),T=(0,c.getPlatformStyles)(Object.assign({},k,{borderRadius:C,margin:I,padding:j})),O=b?Object.fromEntries(b.split(",").map((function(e){return e.split(":")}))):{},M=(0,l.useState)(1),E=(0,a.default)(M,2),R=E[0],_=E[1],A=(0,l.useState)({uri:v,headers:O}),V=(0,a.default)(A,2),D=V[0],W=V[1];return(0,l.useEffect)((function(){var e={uri:v,headers:O};s.default.isEqual(D,e)||(W(e),_(R+1))}),[O,D,v,R]),(0,f.jsx)(u.View,{style:[x,T],children:D.uri&&(0,f.jsx)(d.WebView,Object.assign({incognito:!1,onLoadEnd:function(){h("onLoadEnd"),p([{selector:["loading"],newValue:!1}])},originWhitelist:["*"],source:D,onError:function(){p([{selector:["loading"],newValue:!1}])}},S?{injectedJavaScriptBeforeContentLoaded:S}:{},{javaScriptEnabled:!0}),R)})})),h={basic:[{type:"codeInput",name:"headers",props:{label:"Headers",placeholder:""}},{type:"codeInput",name:"injectedJavaScript",props:{label:"Injected JavaScript",placeholder:""}}].concat((0,r.default)(c.defaultEditors.basic)),layout:c.defaultEditors.layout},v={onLoadEnd:{type:c.EventTriggerIdentifier},headers:{getValue:function(e,t,n){return t?t.toString():""}}};u.StyleSheet.create({loader:{bottom:0,left:0,position:"absolute",right:0,top:0}}),t.default=(0,c.connectWidget)("GorgiasWebViewWidget",m,{value:"",loading:!0,onLoadEnd:"",headers:"",injectedJavaScript:""},null,h,{propertySettings:v,widgetStyleConfig:c.defaultStyleEditors,pluginListing:{labelPrefix:"gorgiasWebView",type:"widget",name:"Gorgias Web View",description:"Load external uri in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:p.default})},1760:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={iconType:"string",value:"boolean"}},3177:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6840)),a=o(n(1760)),i=n(892),l=n(4178),u=r.default.forwardRef((function(e,t){var n,o,r=e.model,a=e.modelStyles,u=e.config,d=(null==(n=r.get("iconType"))?void 0:n.toString())||"Material Icons",s=(null==(o=r.get("value"))?void 0:o.toString())||"help",c=u.get("layout"),p=(0,i.getPlatformStyles)(c?c.getFlexProperties():{flex:1}),f=Object.assign({fontSize:18},(0,i.getPlatformStyles)(a));return"Custom Icon"===d?(0,l.jsx)(i.CustomIcon,{name:s,style:[p,f]}):(0,l.jsx)(i.Icon,{ref:t,iconType:d,name:s,style:[p,f]})}));t.default=(0,i.connectWidget)("IconWidget",u,{iconType:"Material Icon",value:""},null,{basic:[{type:"iconChooserInput",name:"value",props:{label:"Icon",placeholder:"help"}}],layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!1}}]},{propertySettings:{value:{getValue:function(e,t,n){return t}}},widgetStyleConfig:(0,i.mergeWithDefaultStyles)([{type:"colorInput",name:"color",props:{label:"Color",placeholder:"#000000"}},{type:"codeInput",name:"fontSize",props:{label:"Size",placeholder:"18"}}]),pluginListing:{labelPrefix:"Icon",type:"widget",name:"Icon",description:"Display Icon",defaultHeight:0,defaultWidth:0,section:"Display",layout:{flex:1,flexDirection:"column"},icon:"icon"},docs:a.default,themeProfileSel:["tile","icon"]})},2998:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=o(n(7141)),d=n(4178);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=l.StyleSheet.create({container:{backgroundColor:"red",position:"relative"},slideContainer:{justifyContent:"center",alignItems:"center"},imageContainer:{width:"100%",justifyContent:"center",alignItems:"center",backgroundColor:"#blue",borderRadius:0,overflow:"hidden"},image:{width:"100%",height:"100%"},loaderContainer:{flex:1,justifyContent:"center",alignItems:"center"}});t.default=function(e){var t=e.containerWidth,n=void 0===t?"100%":t,o=e.containerHeight,s=e.aspectRatio,p=e.data,f=e.onPress,g=e.resizeMode,y=void 0===g?"cover":g,m=e.timer,h=void 0===m?5e3:m,v=e.autoscroll,b=void 0===v||v,S=e.sliderBackgroundColor,w=void 0===S?"transparent":S,x=e.indicator,P=void 0===x||x,C=e.commonIndicatorStyles,I=e.initialDelay,j=void 0===I?0:I,k=(0,i.useState)(l.Dimensions.get("window").width),T=(0,a.default)(k,2),O=T[0],M=T[1],E=(0,i.useState)(0),R=(0,a.default)(E,2),_=R[0],A=R[1],V=(0,i.useRef)(null),D=(0,i.useRef)(null),W=(0,i.useState)(0),L=(0,a.default)(W,2),B=L[0],F=L[1],N=(0,i.useRef)(0),H=(0,i.useState)([].concat((0,r.default)(p),(0,r.default)(p),(0,r.default)(p))),U=(0,a.default)(H,2),z=U[0],$=U[1],G=(0,i.useState)(j),q=(0,a.default)(G,2),Y=q[0],K=q[1],J=(0,i.useState)(!1),Q=(0,a.default)(J,2),Z=Q[0],X=Q[1],ee=(0,i.useRef)(null);(0,i.useEffect)((function(){$([].concat((0,r.default)(p),(0,r.default)(p),(0,r.default)(p)))}),[p]),(0,i.useEffect)((function(){var e=function(){M(l.Dimensions.get("window").width)};return l.Dimensions.addEventListener("change",e),function(){l.Dimensions.removeEventListener("change",e)}}),[]),(0,i.useEffect)((function(){V.current&&V.current.measure((function(e,t,n){A(n)}))}),[O]),(0,i.useEffect)((function(){var e,t=function(){b&&p.length>1&&!Z&&(e=setInterval((function(){var e,t=(N.current+1)%z.length;null==(e=D.current)||e.scrollToIndex({index:t,animated:!0})}),h))};return Z||(Y>0?ee.current=setTimeout((function(){t(),K(0)}),Y):t()),function(){clearInterval(e),ee.current&&clearTimeout(ee.current)}}),[b,z.length,h,j,p.length,Z,Y]);var te=function(){X(!1)},ne=(0,i.useCallback)((function(e){var t=e.nativeEvent.contentOffset.x,n=Math.round(t/_);if(F(n),N.current=n,n===z.length-p.length)$([].concat((0,r.default)(z),(0,r.default)(p)));else if(n===p.length-1){var o;$([].concat((0,r.default)(p),(0,r.default)(z))),null==(o=D.current)||o.scrollToIndex({index:2*p.length-1,animated:!1})}}),[p,z,_]),oe=(0,i.useCallback)((function(e){var t=e.item;return e.index,(0,d.jsx)(l.TouchableOpacity,{style:[c.slideContainer,{width:_},s?{aspectRatio:s}:{height:o}],onPress:function(){t.navEntityType&&t.navEntityId&&f(t.navEntityType,t.navEntityId)},activeOpacity:.85,children:(0,d.jsx)(l.View,{style:[c.imageContainer,{height:"100%"}],children:t.image?(0,d.jsx)(l.Image,{source:{uri:t.image},style:c.image,resizeMode:t.resizeMode||"cover",onError:function(e){return console.error("Image Load Error:",e.nativeEvent.error)}}):(0,d.jsx)(l.Text,{style:{color:"red"},children:"Image Not Found"})})})}),[f,y,_,o,s]);return(0,d.jsx)(l.View,{ref:V,style:[c.container,{width:n,backgroundColor:w||"transparent"}],onLayout:function(){var e;null==(e=V.current)||e.measure((function(e,t,n){A(n)}))},children:z.length>0&&_>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.FlatList,{ref:D,data:z,renderItem:oe,keyExtractor:function(e,t){return`${e.image}-${t}`},horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,onScroll:ne,onScrollBeginDrag:function(){X(!0)},onScrollEndDrag:te,onMomentumScrollEnd:te,getItemLayout:function(e,t){return{length:_,offset:_*t,index:t}},initialScrollIndex:p.length}),P&&(0,d.jsx)(u.default,{data:p,currentIndex:B%p.length,commonIndicatorStyles:C})]}):(0,d.jsx)(l.View,{style:c.loaderContainer,children:(0,d.jsx)(l.ActivityIndicator,{size:"large",color:C.indicatorActiveColor})})})}},7141:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n(6840));var r=n(6352),a=n(4178),i=r.StyleSheet.create({wrapper:{position:"absolute",top:"90%",left:0,right:0,alignItems:"center"},indicatorContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},indicator:{height:6,width:6,borderRadius:8,marginHorizontal:3}});t.default=function(e){var t=e.data,n=e.currentIndex,o=e.commonIndicatorStyles;return(0,a.jsx)(r.View,{style:[i.wrapper,{top:o.indicatorTopMargin}],children:(0,a.jsx)(r.View,{style:[i.indicatorContainer],children:t.map((function(e,l){var u=n%t.length===l;return(0,a.jsx)(r.View,{style:[i.indicator,{backgroundColor:u?o.indicatorActiveColor:o.indicatorInactiveColor,width:u?o.indicatorActiveSize:o.indicatorInactiveSize,height:u?o.indicatorActiveSize:o.indicatorInactiveSize,borderRadius:o.indicatorBorderRadius}]},l)}))})})}},1635:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={isTappable:"boolean"}},3942:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.imageSliderWidgetStyleConfigV2=t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(892),u=o(n(2998)),d=o(n(1635)),s=n(2112),c=o(n(3216)),p=n(6352),f=n(4178),g=["indicatorTopMargin","indicatorInactiveSize","indicatorInactiveColor","sliderBackgroundColor","indicatorBorderRadius","indicatorActiveSize","indicatorActiveColor"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=t.imageSliderWidgetStyleConfigV2=[{type:"numericInput",name:"indicatorTopMargin",props:{label:"Indicator Margin Top"}},{type:"numericInput",name:"indicatorInactiveSize",props:{label:"Inactive Indicator Size",noUnit:!0}},{type:"numericInput",name:"indicatorActiveSize",props:{label:"Active Indicator Size",noUnit:!0}},{type:"colorInput",name:"sliderBackgroundColor",props:{label:"Slider Background Color"}},{type:"colorInput",name:"indicatorInactiveColor",props:{label:"Inactive Indicator Color"}},{type:"colorInput",name:"indicatorActiveColor",props:{label:"Active Indicator Color"}},{type:"numericInput",name:"indicatorBorderRadius",props:{label:"Indicator Border Radius",noUnit:!0}}],h=i.default.forwardRef((function(e,t){var n=(0,s.useDispatch)(),o=e.model,r=(e.modelUpdate,e.modelStyles),d=e.config.get("layout"),y=(0,l.getPlatformStyles)(d?d.getFlexProperties():{flex:1}),m=r?(0,l.getPlatformStyles)(r):{},h=m.indicatorTopMargin,v=m.indicatorInactiveSize,b=m.indicatorInactiveColor,S=m.sliderBackgroundColor,w=m.indicatorBorderRadius,x=m.indicatorActiveSize,P=m.indicatorActiveColor,C=((0,a.default)(m,g),{indicatorTopMargin:null!=h?h:"90%",indicatorInactiveSize:null!=v?v:16,indicatorActiveSize:null!=x?x:18,indicatorBorderRadius:null!=w?w:8,indicatorInactiveColor:null!=b?b:"#bdc3c7",indicatorActiveColor:null!=P?P:"#3498db"}),I=(0,s.useSelector)(l.selectAppConfig),j=(0,i.useCallback)((function(e){var t=I.getImageId(e);return{imageRecord:t,getOptimalImage:function(e){return(0,l.getOptimalImageSize)(t,e)}}}),[I]),k=(0,l.useCallbackRef)((function(e,t){if(!c.default.isEmpty(e))switch(e.toLowerCase()){case"product":n((0,l.navigateToScreen)("Product",{productHandle:t}));break;case"collection":n((0,l.navigateToScreen)("Collection",{collectionHandle:t}));break;case"externallink":p.Linking.openURL(t);break;default:n((0,l.navigateToScreen)(e,{}))}})),T=o.get("value")&&Array.isArray(o.get("value"))?o.get("value"):[],O=Number(o.get("timer"))||5e3,M=Number(o.get("initialDelay"))||0,E=Number(o.get("sliderHeight"))||240,R=Number(o.get("aspectRatio"))||null,_=o.get("slideIndicatorToggle")||!1,A=o.get("slideAutoplayToggle")||!1,V=function(e){return e.map((function(e){var t,n=e.url,o=e.sourceType,r=e.assetId,a=e.navEntityId,i=e.navEntityType,l=e.resizeMode;return o&&"url"!==(null==o?void 0:o.toLowerCase())&&r?{image:null==(t=j(r).imageRecord)?void 0:t.fileUrl,navEntityType:i,navEntityId:a,resizeMode:l}:{image:n,navEntityType:i,navEntityId:a,resizeMode:l}}))}(T);return(0,f.jsx)(u.default,{containerWidth:"100%",containerHeight:E,aspectRatio:R,styles:y,data:V,timer:O,initialDelay:M,indicator:_,sliderHeight:E,autoscroll:A,onPress:k,sliderBackgroundColor:null!=S?S:"transparent",commonIndicatorStyles:C})})),v=(0,r.default)(l.defaultEditors.basic),b=v.findIndex((function(e){return"value"===e.name}));v[b].defaultValue="{{['']}}";var S={basic:[{type:"listEditor",name:"value",props:{label:"Image List"}},{type:"numericInput",name:"sliderHeight",props:{label:"Slider Height",placeholder:"240",noUnit:!0}},{type:"codeInput",name:"aspectRatio",props:{label:"Aspect Ratio",placeholder:"null"}},{type:"checkbox",name:"slideIndicatorToggle",props:{label:"Show Slide Indicator",checkedValue:!0,defaultValue:!0}},{type:"checkbox",name:"slideAutoplayToggle",props:{label:"Autoplay Slides",checkedValue:!0,defaultValue:!0}},{type:"codeInput",name:"timer",props:{label:"Timer",placeholder:"{{5000}}"},value:"{{5000}}"}],advanced:[{type:"codeInput",name:"initialDelay",props:{label:"Initial Delay before Autoscroll",placeholder:"{{5000}}"},value:"{{5000}}"}],layout:(0,r.default)(l.defaultEditors.layout),style:l.defaultEditors};t.default=(0,l.connectWidget)("ImageSliderWidgetV2",h,{value:[],sliderHeight:240,slideAutoplayToggle:!0,slideIndicatorToggle:!0,indicatorTopMargin:"90%",indicatorBorderRadius:8,indicatorActiveSize:18,indicatorInactiveSize:16,sliderBackgroundColor:"transparent"},null,S,{propertySettings:{},widgetStyleConfig:m,pluginListing:{labelPrefix:"imageSlider",type:"widget",name:"Image Slider V2",description:"Display a series of images on screen that slide across.",layout:{flex:1},section:"Display",icon:"image-carousel"},docs:d.default,themeProfileSel:["tile","imageSlider"]})},5817:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),r=n(6352),a=n(892),i=n(4178);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}t.default=ChildItem=function(e){var t=e.item,n=e.style,l=e.onPress,d=e.resizeMode,s=e.index,c=(e.imageKey,e.local),p=e.height,f=(0,o.useCallback)((function(){l&&l(s)}),[s,l]);return(0,i.jsx)(r.Pressable,{style:[u.container,{height:p}],onPress:f,children:(0,i.jsx)(a.ImageComponent,{resizeMode:d,style:[n,{height:p}],source:c?t:{uri:t}})})};var u=r.StyleSheet.create({container:{flex:1,width:"100%"},image:{resizeMode:"cover"}})},9130:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(2584)),i=o(n(3664)),l=o(n(3815)),u=o(n(5259)),d=o(n(5144)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),c=n(6352),p=o(n(4625)),f=o(n(5817)),g=o(n(3216)),y=n(4178);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return t=(0,u.default)(t),(0,l.default)(e,v()?Reflect.construct(t,n||[],(0,u.default)(e).constructor):t.apply(e,n))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}(t.default=function(e){function t(e){var n;return(0,a.default)(this,t),(n=h(this,t,[e])).slider=(0,s.createRef)(),n.onViewableItemsChanged=function(e){var t=e.viewableItems;if(e.changed,t.length>0){var o=t[0].index;o%n.props.data.length==n.props.data.length-1&&n.props.loop?n.setState({index:o,data:[].concat((0,r.default)(n.state.data),(0,r.default)(n.props.data))}):n.setState({index:o}),n.props.currentIndexCallback&&n.props.currentIndexCallback(o)}},n.viewabilityConfig={viewAreaCoveragePercentThreshold:50},n.changeSliderListIndex=function(){n.setState({index:n.state.index+1}),n.slider.current.scrollToIndex({index:n.state.index,animated:!0})},n.startAutoPlay=function(){n.sliderTimer=setInterval(n.changeSliderListIndex,n.props.timer)},n.stopAutoPlay=function(){n.sliderTimer&&(clearInterval(n.sliderTimer),n.sliderTimer=null)},n.state={index:0,data:n.props.data,listViewWidth:0,listViewHeight:0},n}return(0,d.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.autoscroll&&this.startAutoPlay()}},{key:"componentWillUnmount",value:function(){this.props.autoscroll&&this.stopAutoPlay()}},{key:"componentDidUpdate",value:function(e,t){g.default.isEqual(e.data,this.props.data)||this.setState({data:this.props.data})}},{key:"onLayout",value:function(e){this.setState({listViewWidth:e.nativeEvent.layout.width,listViewHeight:e.nativeEvent.layout.height})}},{key:"render",value:function(){var e=this,t=this.state.listViewWidth,n=this.props.separatorWidth,o=t+n;return(0,y.jsxs)(c.View,{style:this.props.styles,children:[(0,y.jsx)(c.FlatList,{ref:this.slider,horizontal:!0,pagingEnabled:!0,scrollEnabled:!0,snapToInterval:o,decelerationRate:"fast",bounces:!1,contentContainerStyle:this.props.contentContainerStyle,data:this.state.data,showsHorizontalScrollIndicator:!1,onLayout:this.onLayout.bind(this),renderItem:function(n){var o=n.item,r=n.index;return s.default.cloneElement(e.props.component,Object.assign({style:Object.assign({width:t},e.props.aspectRatio&&{aspectRatio:e.props.aspectRatio}),item:o,resizeMode:e.props.resizeMode,imageKey:e.props.imageKey,onPress:e.props.onPress,index:e.state.index%e.props.data.length,active:r===e.state.index,local:e.props.local},!e.props.aspectRatio&&{height:e.props.height}))},ItemSeparatorComponent:function(){return(0,y.jsx)(c.View,{style:{width:e.props.separatorWidth}})},keyExtractor:function(e,t){return(null==e?void 0:e.toString())+t},onViewableItemsChanged:this.onViewableItemsChanged,viewabilityConfig:this.viewabilityConfig,getItemLayout:function(e,t){return{length:o,offset:o*t,index:t}},windowSize:4,initialNumToRender:4,maxToRenderPerBatch:4},this.props.data),this.props.indicator&&(0,y.jsx)(p.default,{itemCount:this.props.data.length,currentIndex:this.state.index%this.props.data.length,indicatorStyle:this.props.indicatorStyle,indicatorContainerStyle:[b.indicatorContainerStyle,this.props.indicatorContainerStyle],indicatorActiveColor:this.props.indicatorActiveColor,indicatorInActiveColor:this.props.indicatorInActiveColor,indicatorActiveWidth:this.props.indicatorActiveWidth,style:Object.assign({},b.indicator,this.props.indicatorStyle)})]})}}])}(s.Component)).defaultProps={data:[],imageKey:"image",local:!1,width:"100%",height:240,aspectRatio:null,separatorWidth:0,loop:!0,indicator:!0,indicatorStyle:{},indicatorContainerStyle:{},indicatorActiveColor:"#3498db",indicatorInActiveColor:"#bdc3c7",indicatorActiveWidth:6,resizeMode:"cover",animation:!0,autoscroll:!0,timer:3e3,onPress:void 0,contentContainerStyle:{},component:(0,y.jsx)(f.default,{}),styles:{}};var b=c.StyleSheet.create({image:{height:230,resizeMode:"stretch"},indicatorContainerStyle:{marginTop:18},shadow:Object.assign({},c.Platform.select({ios:{shadowColor:"black",shadowOffset:{width:3,height:3},shadowOpacity:.4,shadowRadius:10},android:{elevation:5}}))})},4625:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.renderIndicator=t.default=void 0,o(n(6840));var r=n(6352),a=n(4178),i=(t.default=Indicator=function(e){var t=e.itemCount,n=e.currentIndex,o=e.indicatorStyle,u=e.indicatorContainerStyle,d=e.indicatorActiveColor,s=e.indicatorInActiveColor,c=e.indicatorActiveWidth,p=void 0===c?6:c;return(0,a.jsx)(r.View,{style:[l.container,u],children:i(t,n,o,d,s,p)})},t.renderIndicator=function(e,t,n,o,i,u){for(var d=[],s=0;s<e;s++)d.push((0,a.jsx)(r.View,{style:[l.indicator,n,s===t?o?Object.assign({},l.active,{backgroundColor:o,width:u}):l.active:Object.assign({},l.inactive,{backgroundColor:i})]},s));return d}),l=r.StyleSheet.create({container:{flexDirection:"row",alignItems:"center",alignSelf:"center"},indicator:{width:6,height:6,borderRadius:3,marginRight:5},active:{},inactive:{}})},1759:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"Array of image descriptors"}}},9290:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.imageSliderWidgetStyleConfig=t.default=void 0;var r=o(n(5971)),a=(o(n(6840)),n(892)),i=o(n(9130)),l=o(n(1759)),u=o(n(6150)),d=n(4178),s=t.imageSliderWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"color",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}}],c={basic:(0,r.default)(a.defaultEditors.basic),layout:(0,r.default)(a.defaultEditors.layout),style:a.defaultEditors};t.default=(0,a.connectWidget)("ImageSliderWidget",(function(e){var t=e.model,n=(e.modelUpdate,e.config.get("layout")),o=(0,a.getPlatformStyles)(n?n.getFlexProperties():{flex:1}),r=(0,a.useCallbackRef)((function(){})),l=t.get("value")&&Array.isArray(t.get("value"))?t.get("value"):[];return(0,u.default)(l),(0,d.jsx)(i.default,{styles:o,data:l,timer:1e4,autoscroll:!0,onPress:r})}),{value:[]},null,c,{propertySettings:{},widgetStyleConfig:(0,a.mergeWithDefaultStyles)(s),pluginListing:{labelPrefix:"imageSlider",type:"widget",name:"Image Slider",description:"Display a series of images on screen that slide across.",layout:{flex:1},section:"Display",icon:"image-carousel"},docs:l.default,themeProfileSel:["tile","imageSlider"]})},6150:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.isArray)(e)&&!(0,r.isEmpty)(e)&&a.default.preload((0,r.filter)(e,(function(e){return!!e})).map((function(e){return{uri:e}})))};var r=n(3216),a=o(n(6076))},8100:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(4835),a=(o(n(6840)),n(6352)),i=n(4178),l=(t.default=function(e){var t=e.imgSource;return(0,i.jsx)(r.ImageZoom,{cropWidth:a.Dimensions.get("window").width,cropHeight:a.Dimensions.get("window").height,imageHeight:400,imageWidth:a.Dimensions.get("window").width,useNativeDriver:!0,panToMove:!0,children:(0,i.jsx)(a.ImageBackground,{source:{uri:t},resizeMode:"contain",style:l.image})})},a.StyleSheet.create({image:{flex:1,justifyContent:"center"}}))},4835:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageZoom",{enumerable:!0,get:function(){return r.default}});var r=o(n(5480))},180:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"string",aspectRatio:"number",resizeMode:"string",loadingIcon:"string"}},5525:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.imageWidgetStyleEditorsConfig=t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=o(n(7128)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(2992),s=n(892),c=o(n(180)),p=o(n(8100)),f=n(4178),g=["borderRadius","margin","padding","elevation","backdropColor"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m={value:"",resizeMode:"contain",sourceType:"url",assetId:"",dynamicWidth:!1,width:"",allowPreview:!1,isLoading:!1},h=u.StyleSheet.create({iconWrapper:{position:"absolute",zIndex:9,top:0,right:8,height:28,width:28,borderRadius:28,backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"},closeIcon:{fontSize:20,color:"black"}}),v=l.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,r=e.config,c=e.getDeviceImage,y=(e.isAnimated,e.animations,!!n.get("isLoading")),v=n.toJS(),b=v.value,S=v.resizeMode,w=v.sourceType,x=v.assetId,P=r.get("layout"),C=P?P.getFlexProperties():{flex:1},I=null!=o?o:{},j=I.borderRadius,k=I.margin,T=I.padding,O=(I.elevation,I.backdropColor),M=(0,i.default)(I,g),E=(0,s.getPlatformStyles)({borderRadius:j,margin:k,padding:T}),R=O||"rgba(0,0,0,0.8)",_=n.get("allowPreview"),A=n.get("dynamicWidth"),V=n.get("width"),D=c(x).getOptimalImage,W=(0,l.useState)(b),L=(0,a.default)(W,2),B=L[0],F=L[1],N=(0,l.useState)(""),H=(0,a.default)(N,2),U=H[0],z=H[1],$=Object.assign({borderRadius:j},M);function G(e,t){return!(!e&&!t)&&e!==t}(0,l.useEffect)((function(){if(w&&"url"!==(null==w?void 0:w.toLowerCase())&&x){var e,t=D&&D(U),n=null!=(e=null==t?void 0:t.fileUrl)?e:null;G(B,n)&&F(n)}else G(B,b)&&F(b)}),[D,x,w,b,U]);var q=(0,l.useState)(!1),Y=(0,a.default)(q,2),K=Y[0],J=Y[1],Q=(0,l.useCallback)((function(){J(!1)}),[]);return(0,l.useEffect)((function(){if("web"!==u.Platform.OS){var e=u.BackHandler.addEventListener("hardwareBackPress",(function(){return!!K&&(Q(),!0)}));return function(){return e.remove()}}}),[K,Q]),B&&!y?(0,f.jsx)(u.Animated.View,{style:[C,E],onLayout:function(e){var t=e.nativeEvent.layout,n=t.height,o=t.width,r=`${u.PixelRatio.getPixelSizeForLayoutSize(o)}x${u.PixelRatio.getPixelSizeForLayoutSize(n)}`;"0x0"!==r&&r!=U&&z(r)},children:_?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Pressable,{onPress:function(){return J(!0)},children:(0,f.jsx)(s.ImageComponent,{ref:t,style:[C,$,A&&{width:isNaN(Number(V))?30:Number(V)}],source:{uri:B},resizeMode:["contain","cover","stretch"].includes(S)?S:m.resizeMode})}),(0,f.jsx)(s.CurrentScreenContext.Consumer,{children:function(e){return(0,f.jsx)(d.Portal,{hostName:e.isModal?n.get("pageKey"):"root",children:K&&(0,f.jsx)(s.CustomModal,{position:"center",onClose:Q,outerComponents:(0,f.jsx)(u.View,{style:[h.iconWrapper,{top:4+("ios"!==u.Platform.OS||e.isModal?0:54)}],children:(0,f.jsx)(s.MaterialCommunityIcons,{name:"close",style:[h.closeIcon],onPress:Q})}),backdropColor:R,children:(0,f.jsx)(p.default,{imgSource:B})})})}})]}):(0,f.jsx)(s.ImageComponent,{ref:t,style:[C,$,A&&{width:isNaN(Number(V))?30:Number(V)}],source:{uri:B},resizeMode:["contain","cover","stretch"].includes(S)?S:m.resizeMode})}):(0,f.jsx)(s.Placeholder,{layoutStyles:Object.assign({},C)})})),b={basic:[{type:"assetEditor",name:"value",props:{label:"Image",urlProperty:"value",assetProperty:"assetId",sourceTypeProperty:"sourceType"}},{type:"checkbox",name:"allowPreview",props:{label:"Allow preview"}},{type:"checkbox",name:"dynamicWidth",props:{label:"Dynamic Width"}},{type:"codeInput",name:"width",hidden:function(e){var t;return null!=(t=!e.get("dynamicWidth"))&&t},props:{label:"Width"}},{type:"codeInput",name:"isLoading",props:{label:"Loading State"}}],layout:[{type:"radioGroup",name:"resizeMode",props:{label:"Image Sizing",options:["contain","cover","stretch"]}}].concat((0,r.default)(s.defaultEditors.layout)),animations:s.defaultEditors.animations},S=t.imageWidgetStyleEditorsConfig=[{type:"colorInput",name:"backdropColor",props:{label:"Backdrop Color",placeholder:"#HexCode"}}].concat((0,r.default)(s.defaultStyleEditors)),w={isLoading:{getValue:function(e,t,n){return(0,s.makeBoolean)(t)}}};t.default=(0,s.connectWidget)("ImageWidget",v,m,null,b,{propertySettings:w,widgetStyleConfig:S,pluginListing:{labelPrefix:"image",type:"widget",name:"Image",description:"Display an Image on screen",layout:{width:"100%",height:200,flexBasis:"auto"},section:"Display",icon:"image"},docs:c.default})},7605:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t._ApptileListItem=void 0;var r=o(n(2584)),a=o(n(3664)),i=o(n(3815)),l=o(n(5259)),u=o(n(5144)),d=o(n(3216)),s=o(n(6840)),c=n(6352),p=n(892),f=n(4178);function g(e,t,n){return t=(0,l.default)(t),(0,i.default)(e,y()?Reflect.construct(t,n||[],(0,l.default)(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}t._ApptileListItem=function(e){function t(){return(0,r.default)(this,t),g(this,t,arguments)}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t=p.NativeEditableWidget;n.g.EditableWidget&&(t=n.g.EditableWidget);var o=this.props,r=o.children,a=o.isEditable,i=o.item,l=o.isHorizontal,u=(o.numColumns,o.itemWidth),d=o.itemHeight,s=i.i,g=l?{flexBasis:d,width:u,height:d,minHeight:d,maxHeight:d}:{height:d,flexBasis:d,width:u,minWidth:u,maxWidth:u};return(0,f.jsx)(c.View,{style:[Object.assign({flex:1,flexGrow:0,flexShrink:0},g)],children:r.map((function(n){return a?(0,f.jsx)(t,{widget:n,isEditable:a,children:(0,p.renderWidgetTreeNode)(e.props)(n,s)}):(0,p.renderWidgetTreeNode)(e.props)(n,s)}))},s)}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props.isEditable===e.isEditable&&this.props.item===e.item&&d.default.isEqual(this.props.children,e.children)&&this.props.model===e.model&&this.props.itemWidth===e.itemWidth&&this.props.itemHeight===e.itemHeight&&this.props.numColumns===e.numColumns)}}])}(s.default.Component)},8406:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7488)),a=n(892),i=o(n(3216)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(7605),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=l.default.forwardRef((function(e,t){var n=e.id,o=e.pageKey,c=e.model,p=e.namespace,f=e.layout,g=e.children,y=e.isEditable,m=e.containerId,h=(e.isAnimated,e.animations,e.instance,e.triggerEvent),v=e.config,b=(0,l.useState)(0),S=(0,r.default)(b,2),w=S[0],x=S[1],P=(0,l.useState)(0),C=(0,r.default)(P,2),I=C[0],j=C[1],k=(0,l.useState)("0"),T=(0,r.default)(k,2),O=T[0],M=T[1];(0,l.useEffect)((function(){var e;M((null==c?void 0:c.get("isLoading",!1))+"_"+(null!=(e=null==c?void 0:c.get("instances",0))?e:0))}),[c]);var E=(0,l.useState)(0),R=(0,r.default)(E,2),_=R[0],A=R[1],V=c.get("data"),D=f?f.getNonContainerFlexProperties():{flex:1},W=D.width,L=D.height,B=c.get("horizontal",!1),F=v.get("config"),N=F?F.get("numColumns",1):1,H=B?1:N,U=i.default.toNumber(c.get("itemWidth"))||w,z=i.default.toNumber(c.get("itemHeight"))||I,$=y&&!g.length,G=c.get("isSliderMode",!1),q=c.get("scrollIndex",0),Y=c.get("isRepeaterMode",!1),K=!!F&&F.get("disableVirtualizationIos",!1),J=!!F&&F.get("disableVirtualizationAndroid",!1),Q=F?Number(F.get("initialNumToRender",10)):10,Z=F?Number(F.get("windowSize",11)):11,X=F?Number(F.get("scrollEventThrottle",16)):16,ee=F?Number(F.get("maxToRenderPerBatch",10)):10,te=(0,l.useContext)(a.ApptileAnimationsContext),ne=(0,l.useCallback)((function(e){e.nativeEvent.layout.width>0&&w!==e.nativeEvent.layout.width&&x(e.nativeEvent.layout.width),e.nativeEvent.layout.height>0&&I!==e.nativeEvent.layout.height&&j(e.nativeEvent.layout.height)}),[I,w]),oe=(0,l.useCallback)((function(){logger.info("ListView End Reached !!!!"),h("onEndReached")}),[h]),re=(0,l.useCallback)((function(e,t){var n=function(e){var o=Object.assign({},e);return o.children=e.children.map((function(e){return n(e)})),Object.assign({},o,{instance:t})};return n(e)}),[]),ae=(0,l.useCallback)((function(t){var n=t.instance;return(0,a.renderWidgetTreeNode)(e)(t,n)}),[e]),ie=(0,l.useCallback)((function(){var e=c.get("data")?c.get("data").length:0;return i.default.flatMap(i.default.range(e).map((function(e){return g.flatMap((function(t){return re(t,e)}))})),(function(e){return e}))}),[c,g,re]),le=(0,l.useCallback)((function(e,t){var n=c.get("horizontal",!1),o=n?1:c.get("numColumns",1),r=c.get("itemWidth")||w,a=c.get("itemHeight")||I;return{length:1*(n?r:a),offset:(n?r:a)*Math.floor(t/o),index:t}}),[I,w,c]),ue=(0,l.useCallback)((function(t){var n=t.item,o=(t.index,c.get("horizontal",!1)),r=o?1:c.get("numColumns",1),a=i.default.toNumber(c.get("itemWidth"))||w/r,u=o?"auto":i.default.toNumber(c.get("itemHeight"))||I;return n.i,l.default.cloneElement((0,s.jsx)(d._ApptileListItem,{}),Object.assign({},e,{item:n,isHorizontal:o,numColumns:r,itemWidth:a,itemHeight:u,children:g}))}),[c,w,I,g,e]),de=(0,l.useCallback)((function(e){return null==e?void 0:e.i}),[]),se=(0,l.useRef)(),ce=null==c?void 0:c.get("instances",0),pe=(0,l.useCallback)((function(e){var t=e.viewableItems,r=e.changed;if(G&&t&&t.length>0){var a,l,u,d,s=null!=(a=null==(l=r.find((function(e){return e.isViewable})))?void 0:l.index)?a:-1;if(u=s<0?i.default.get(t,"0.key"):s,A(u),p){var c=p.getNamespace().join(".");d=`${o}.${c}::${n}.currentItem`}else d=`${o}.${n}.currentItem`;te.triggerEvent(d,{changed:[{isViewable:!0,index:u}]})}}),[G]),fe=(0,l.useRef)([{onViewableItemsChanged:pe}]),ge=(0,l.useRef)([{onViewableItemsChanged:function(e){var t,r=e.viewableItems,a=e.changed;if(p){var i=p.getNamespace().join(".");t=`${o}.${i}::${n}.currentItem`}else t=`${o}.${n}.currentItem`;te.triggerEvent(t,{viewableItems:r,changed:a})},viewabilityConfig:{itemVisiblePercentThreshold:50}}]).current,ye=G?{snapToInterval:B?U:z,decelerationRate:"fast",bounces:!1,pagingEnabled:!0,disableIntervalMomentum:!0,viewabilityConfigCallbackPairs:fe.current,viewabilityConfig:{itemVisiblePercentThreshold:50}}:{viewabilityConfigCallbackPairs:ge};return(0,l.useImperativeHandle)(t,(function(){return{slideTo:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];parseInt(ce,10)>_&&null!=se&&se.current&&(null==se||null==(t=se.current)||t.scrollToIndex({index:e,animated:n}))},slideNext:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];parseInt(ce,10)>_+1&&null!=se&&se.current&&(null==se||null==(e=se.current)||e.scrollToIndex({index:_+1,animated:t}))},slidePrev:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_>0&&null!=se&&se.current&&(null==se||null==(e=se.current)||e.scrollToIndex({index:_-1,animated:t}))}}})),Y?(0,s.jsx)(a.ApptileFlexbox,Object.assign({},e,{ref:se,renderWidgetTreeNode:ae,children:ie()})):(0,s.jsx)(u.FlatList,Object.assign({disableVirtualization:u.Platform.select({web:!1,ios:K,android:J}),ref:se,style:[D],scrollEnabled:!0,horizontal:B,initialScrollIndex:q,numColumns:B?1:H,height:L,width:W,data:V,extraData:O,getItemLayout:le,ListEmptyComponent:$?(0,s.jsx)(a.EmptyPlaceholder,{}):(0,s.jsx)(s.Fragment,{}),onLayout:ne,renderItem:ue,keyExtractor:de,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,onEndReachedThreshold:1,onEndReached:oe,removeClippedSubviews:!0,maxToRenderPerBatch:ee,initialNumToRender:Q,windowSize:Z,scrollEventThrottle:X},ye),m+"_"+H)}));t.default=p},6928:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={instances:{"!type":"number","!doc":"The number of instance in the ListView"},data:{"!doc":"The data object of the list view"},horizontal:"bool",itemWidth:"number",itemHeight:"number",numColumns:"number",currentOffset:"number"}},889:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=n(892),i=o(n(3216)),l=o(n(6840)),u=o(n(6928)),d=o(n(8406)),s=n(4389),c=n(4178),p=l.default.forwardRef((function(e,t){return(0,c.jsx)(d.default,Object.assign({},e,{containerId:null==e?void 0:e.id,ref:t}),(null==e?void 0:e.id)+(null==e?void 0:e.instance))})),f={data:{getValue:function(e,t,n){var o=null==e?void 0:e.instances;return i.default.range(o).map((function(e){return{i:e}}))},forceEvaluation:!0},instances:{getValue:function(e,t,n){var o=t;return!(null==e||!e.isLoading)&&(o=null==e?void 0:e.numPlaceholderItems),i.default.isNaN(1*o)?o:i.default.toNumber(o)},updatesProps:["scrollToIndex","data"]},itemWidth:{getValue:function(e,t,n){return i.default.isNaN(1*t)?t:i.default.toNumber(t)}},itemHeight:{getValue:function(e,t,n){return i.default.isNaN(1*t)?t:i.default.toNumber(t)}},numColumns:{getValue:function(e,t,n){return i.default.isNaN(i.default.toNumber(t))?1:i.default.toInteger(t)}},onEndReachedThreshold:{getValue:function(e,t,n){return i.default.isNaN(i.default.toNumber(t))?.5:i.default.toInteger(t)}},onEndReached:{type:a.EventTriggerIdentifier},currentOffset:{getValue:function(e,t,n){return i.default.isNaN(t)?t:i.default.toNumber(t)}},isLoading:{getValue:function(e,t,n){return(0,a.makeBoolean)(t)},updatesProps:["instances"]},numPlaceholderItems:{getValue:function(e,t,n){return i.default.isNaN(t)?t:i.default.toNumber(t)},updatesProps:["instances"]},scrollToIndex:{type:a.TriggerActionIdentifier,getValue:function(e,t,n){return s.scrollToIndex},actionMetadata:{editableInputParams:{scrollIndex:"",animated:"{{false}}"}}},slideNext:{type:a.TriggerActionIdentifier,getValue:function(e,t,n){return s.slideNext},actionMetadata:{editableInputParams:{animated:"{{false}}"}}},slidePrev:{type:a.TriggerActionIdentifier,getValue:function(e,t,n){return s.slidePrev},actionMetadata:{editableInputParams:{animated:"{{false}}"}}}},g={basic:[].concat((0,r.default)(a.defaultEditors.basic),[{type:"codeInput",name:"instances",props:{label:"Instances",placeholder:"{{Query1.data.length}}"}},{type:"codeInput",name:"numColumns",props:{label:"Number of Columns",placeholder:"1"}}]),advanced:[{type:"checkbox",name:"isRepeaterMode",props:{label:"Repeater Mode\n(⚠️ DEV ONLY)"}},{type:"checkbox",name:"disableVirtualizationIos",props:{label:"Disable Virtualization (iOS)\n(⚠️ DEV ONLY)"},hidden:function(e){return e.get("isRepeaterMode")}},{type:"checkbox",name:"disableVirtualizationAndroid",props:{label:"Disable Virtualization (Android)\n(⚠️ DEV ONLY)"},hidden:function(e){return e.get("isRepeaterMode")}},{type:"numericInput",name:"initialNumToRender",props:{label:"Initial No. to Render\n(⚠️ DEV ONLY)",noUnit:!0},hidden:function(e){return e.get("isRepeaterMode")}},{type:"numericInput",name:"windowSize",props:{label:"Window Size\n(⚠️ DEV ONLY)",noUnit:!0},hidden:function(e){return e.get("isRepeaterMode")}},{type:"numericInput",name:"maxToRenderPerBatch",props:{label:"Max to Render per Batch\n(⚠️ DEV ONLY)",noUnit:!0},hidden:function(e){return e.get("isRepeaterMode")}},{type:"numericInput",name:"scrollEventThrottle",props:{label:"Scroll Event Throttle\n(⚠️ DEV ONLY)",noUnit:!0},hidden:function(e){return e.get("isRepeaterMode")}},{type:"checkbox",name:"horizontal",props:{label:"Horizontal"},hidden:function(e){return e.get("isRepeaterMode")}},{type:"numericInput",name:"itemHeight",props:{label:"Item Height",placeholder:"240",noUnit:!0},hidden:function(e){return e.get("isRepeaterMode")||e.get("horizontal")}},{type:"numericInput",name:"itemWidth",props:{label:"Item Width",placeholder:"300",noUnit:!0},hidden:function(e){return e.get("isRepeaterMode")||!e.get("horizontal")}},{type:"checkbox",name:"isSliderMode",props:{label:"Slider Mode"},hidden:function(e){return e.get("isRepeaterMode")}},{type:"codeInput",name:"isLoading",props:{label:"Loading State"}},{type:"codeInput",name:"numPlaceholderItems",props:{label:"Placeholder Items when loading"}}],layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0},hidden:function(e){return!e.get("isRepeaterMode")}},{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!1},hidden:function(e){return e.get("isRepeaterMode")}}],animations:a.defaultEditors.animations};t.default=(0,a.connectWidget)("ListViewWidget",p,{instances:"",data:[],horizontal:!1,itemWidth:"",itemHeight:"",numColumns:1,onEndReachedThreshold:.5,onEndReached:"",isSliderMode:!1,isRepeaterMode:!1,currentOffset:0,scrollToIndex:"action",slideNext:"action",slidePrev:"action",isLoading:!1,numPlaceholderItems:3,disableVirtualizationIos:!1,disableVirtualizationAndroid:!1,initialNumToRender:10,windowSize:11,scrollEventThrottle:16,maxToRenderPerBatch:10},void 0,g,{propertySettings:f,pluginListing:{labelPrefix:"listview",type:"widget",name:"List View",description:"Display a list of items.",defaultHeight:"auto",defaultWidth:"auto",section:"Layout",icon:"list-view"},docs:u.default,animations:{animatedValues:["scrollY","scrollX","itemSize","currentItem","width","height","contentWidth","contentHeight"]}})},4389:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.slidePrev=t.slideNext=t.scrollToIndex=void 0;var o=n(3216),r=n(892);t.scrollToIndex=function(e,t,n,a,i){var l=a[0],u=a[2],d=r.WidgetRefRegistry.getWidgetRef(l,u,void 0),s=i.scrollIndex,c=i.animated;(0,o.isNil)(s)||d&&(null==d||d.slideTo(s,c))},t.slideNext=function(e,t,n,o,a){var i=o[0],l=o[2],u=r.WidgetRefRegistry.getWidgetRef(i,l,void 0),d=a.animated;u&&(null==u||u.slideNext(d))},t.slidePrev=function(e,t,n,o,a){var i=o[0],l=o[2],u=r.WidgetRefRegistry.getWidgetRef(i,l,void 0),d=a.animated;u&&(null==u||u.slidePrev(d))}},9588:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},1525:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2766)),a=o(n(7488)),i=o(n(5971)),l=n(892),u=o(n(3216)),d=b(n(6840)),s=n(6352),c=n(2112),p=n(4700),f=b(n(5996)),g=o(n(2492)),y=n(4312),m=o(n(9588)),h=n(4178);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}s.NativeModules.PIPModule;var S={value:"",streamConfig:"",userName:"",userId:"",showComments:!0,sendComment:l.TriggerActionIdentifier,startPip:l.TriggerActionIdentifier,cartDetails:"{{shopify.currentCart}}",onCheckoutTap:"",onCommentSent:"",onCommentError:"",viewersCount:"",viewersMultipler:1,muteSpeaker:!1,sendingComment:!1},w=(0,l.createDeepEqualSelector)((0,p.createSelector)((function(e){return(0,l.datasourceTypeModelSel)(e,"lively")}),(function(e){return{brandId:null==e?void 0:e.get("brandId")}})),(function(e){return e})),x=[].concat((0,i.default)(l.layoutEditors),(0,i.default)(l.containerLayoutEditors)),P={comments:"Comments",commentItem:"Comment Item",hostCommentItem:"Host Comment Item"},C=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}}].concat((0,i.default)(l.defaultStyleEditors)),I=[].concat((0,i.default)(Object.keys(P).map((function(e){return[{type:"editorSectionHeader",name:"",props:{label:P[e]}}].concat((0,i.default)(C.map((function(t){return"trblValuesEditor"==t.type?Object.assign({},t,{props:Object.assign({},t.props,{options:t.props.options.map((function(t){return`${e}-${t}`}))}),name:`${e}-${t.name}`}):Object.assign({},t,{name:`${e}-${t.name}`})}))))})).flat()),[{type:"editorSectionHeader",name:"",props:{label:"Comments Text"}},{type:"colorInput",name:"commentsColor",props:{label:"Comments Text Color"}},{type:"typographyInput",name:"commentsTypography",props:{label:"Comments Typography"}},{type:"colorInput",name:"commentsHeadingColor",props:{label:"Comments Heading Text Color"}},{type:"typographyInput",name:"commentsHeadingTypography",props:{label:"Comments Heading Typography"}},{type:"editorSectionHeader",name:"",props:{label:"Host Comments Text"}},{type:"colorInput",name:"hostCommentsColor",props:{label:"Host Comments Text Color"}},{type:"typographyInput",name:"hostCommentsTypography",props:{label:"Host Comments Typography"}},{type:"colorInput",name:"hostCommentsHeadingColor",props:{label:"Host Comments Heading Text Color"}},{type:"typographyInput",name:"hostCommentsHeadingTypography",props:{label:"Host Comments Heading Typography"}}]),j=d.default.forwardRef((function(e,t){var n,o,p,y,m,v,b=e.modelStyles,S=e.config,I=e.model,j=e.triggerEvent,k=(e.modelUpdate,e.pageKey),T=e.id,O=e.instance,M=S.get("layout"),E={};Object.keys(P).map((function(e){E[e]||(E[e]={}),x.map((function(t){var n=null==I?void 0:I.get(`${e}-${t.name}`);n&&(E[e][t.name]=n)}))}));var R={};Object.keys(P).map((function(e){R[e]||(R[e]={}),C.map((function(t){var n=b[`${e}-${t.name}`];n&&(R[e][t.name]=n),"trblValuesEditor"==t.type&&t.props.options.map((function(t){var n=b[`${e}-${t}`];n&&(R[e][t]=n)}))}))}));var _,A=M?M.getFlexProperties():{flex:1},V=new l.LayoutRecord(null!=(n=E.comments)?n:{}),D=new l.LayoutRecord(null!=(o=E.commentItem)?o:{}),W=new l.LayoutRecord(null!=(p=E.hostCommentItem)?p:{}),L=V?V.getFlexProperties():{flex:1},B=D?D.getFlexProperties():{flex:1},F=W?W.getFlexProperties():{flex:1},N=null!=(y=R.comments)?y:{},H=null!=(m=R.commentItem)?m:{},U=null!=(v=R.hostCommentItem)?v:{},z=b.hostCommentsColor,$=b.commentsColor,G=b.hostCommentsHeadingColor,q=b.commentsHeadingColor,Y=b.hostCommentsTypography,K=b.commentsTypography,J=b.hostCommentsHeadingTypography,Q=b.commentsHeadingTypography,Z=(0,c.useSelector)(w).brandId,X=(0,c.useSelector)(l.selectAppConfig),ee=I.get("streamConfig"),te=I.get("showComments"),ne=I.get("muteSpeaker"),oe=I.get("userName")?I.get("userName").startsWith("undefined")?"Anonymous":I.get("userName"):"Anonymous",re=(0,d.useRef)(null),ae=(0,d.useRef)([]),ie=(0,d.useRef)(null),le=(0,d.useRef)({}),ue=((0,d.useRef)({up:0,down:0}),(0,d.useCallback)((function(e){var t=X.getImageId(e);return{imageRecord:t,getOptimalImage:function(e){return(0,l.getOptimalImageSize)(t,e)}}}),[X])),de="USER",se="HOST",ce=function(){for(var e="",t=0;t<5;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62*Math.random())];return e}(),pe=(0,d.useState)(f.ZegoRoomState.Connecting),fe=(0,a.default)(pe,2),ge=fe[0],ye=fe[1],me=(0,d.useState)(f.ZegoPublisherState.NoPublish),he=(0,a.default)(me,2),ve=he[0],be=he[1],Se=(0,d.useState)(f.ZegoRemoteDeviceState.Open),we=(0,a.default)(Se,2),xe=(we[0],we[1]),Pe=(0,d.useState)(f.ZegoRemoteDeviceState.Open),Ce=(0,a.default)(Pe,2),Ie=Ce[0],je=Ce[1],ke=(0,d.useState)(f.ZegoRemoteDeviceState.Open),Te=(0,a.default)(ke,2),Oe=(Te[0],Te[1]),Me=(0,d.useState)([]),Ee=(0,a.default)(Me,2),Re=Ee[0],_e=Ee[1],Ae=(0,d.useRef)("HOST"),Ve=(0,c.useDispatch)(),De=function(e,t){console.log("handleInfoUpdate recieved",t);var n=JSON.parse(t[0].extraInfo);console.log("handleInfoUpdate payload recieved",n);var o=n.event;if("PRODUCT_CHANGE"===o)!function(e,t){var n,o;console.log("handleProductAdd recieved",t);var r=JSON.parse(t[0].extraInfo);if(console.log("handleProductAdd payload recieved",r),"PRODUCT_CHANGE"===r.event){var a=r.data,u=!(null==(n=null!=(o=ae.current)?o:[])||!n.find((function(e){return e.product_id==a.product_id})));console.log("handleProductAdd payload recieved",u,a);var d,s,c=[];re.current!=(null==a?void 0:a.product_id)&&c.push({selector:[k,"plugins",T,"currentProduct"],newValue:null!=a?a:null}),re.current=null==a?void 0:a.product_id,console.log("handleProductAdd updates 1 recieved",c,re.current),u||(null==(d=null!=(s=ae.current)?s:[])||d.push(a),c.push({selector:[k,"plugins",T,"allProducts"],newValue:ae.current}),ae.current=(0,i.default)(ae.current)),console.log("handleProductAdd updates 2 recieved",c,ae.current),c.length&&Ve((0,l.modelUpdateAction)(c))}}(0,t);else if("DELETE_PRODUCT"===o){var r,a,u=n.data;console.log(u);var d=null==(r=null!=(a=ae.current)?a:[])?void 0:r.filter((function(e){return e.product_id!=u.product_id}));console.log("newProducts",d,ae.current),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"allProducts"],newValue:d}])),ae.current=(0,i.default)(d)}else"MULTIPLIER_CHANGE"===o&&Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"viewersMultipler"],newValue:isNaN(parseInt(n.count))?1:parseInt(n.count)}]))},We=function(e,t,n){var o={text:e,userName:n===se||"MODERATOR"===n?Ae.current:t,source:n};console.log("commentObject",Ae.current,o),_e((function(e){return[].concat((0,i.default)(e.slice(-999)),[o])})),setTimeout((function(){var e,t,n,o;"column-reverse"==L.flexDirection?null==(e=Fe.current)||e.scrollTo(0,0,!0):null==(t=Fe.current)||t.scrollToEnd({animated:!0}),"column-reverse"==L.flexDirection?null==(n=Ne.current)||n.scrollTo(0,0,!0):null==(o=Ne.current)||o.scrollToEnd({animated:!0})}),200)},Le=(_=(0,r.default)((function*(e){var t,n,o,a,i,u,d,c,p;l.LivelyApi.getCompanyInfo(Z).then((function(e){var t,n,o,r;Ae.current=(null==(t=e.data)||null==(n=t.data)||null==(o=n.company_details)||null==(r=o[0])?void 0:r.company_name)||"HOST"})),ae.current=null!=(t=null==le||null==(n=le.current)?void 0:n.product_info)?t:[];var g,y,m=[{selector:[k,"plugins",T,"currentProduct"],newValue:null!=(o=null==le||null==(a=le.current)||null==(i=a.product_info)?void 0:i[0])?o:null}];Ve((0,l.modelUpdateAction)(m));try{e.on("roomStateUpdate",(function(e,t,n,o){console.log("Room State Changed",t),ye(t),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"streamEnded"],newValue:0==t},{selector:[k,"plugins",T,"streamStatus"],newValue:t}]))})),e.on("publisherStateUpdate",(function(e,t,n,o){console.log("Publisher State Changed",t),be(t),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"publisherState"],newValue:t}]))})),e.on("remoteMicStateUpdate",(function(e,t){console.log("Mic State Changed",t),xe(t),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"micState"],newValue:t}]))})),e.on("remoteCameraStateUpdate",(function(e,t){console.log("Camera State Changed",t),je(t),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"cameraState"],newValue:t}]))})),e.on("playerStateUpdate",(function(e,t){console.log("Player State Changed",t)})),e.on("playerMediaEvent",(function(e,t,n,o){console.log("Media State Changed",e,t,n,o),t==f.ZegoPlayerMediaEvent.VideoBreakOccur?(je(10),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"cameraState"],newValue:10}]))):t==f.ZegoPlayerMediaEvent.VideoBreakResume?(je(0),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"cameraState"],newValue:0}]))):t==f.ZegoPlayerMediaEvent.AudioBreakOccur?(xe(10),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"micState"],newValue:10}]))):t==f.ZegoPlayerMediaEvent.AudioBreakResume&&(xe(0),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"micState"],newValue:0}])))})),e.on("roomOnlineUserCountUpdate",(y=(0,r.default)((function*(e,t){Oe(t),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"viewersCount"],newValue:t}]))})),function(e,t){return y.apply(this,arguments)})),e.on("roomStreamUpdate",(g=(0,r.default)((function*(e,t,n,o){try{console.log({roomID:e,updateType:t,streamList:n,extendedData:o}),De(0,n)}catch(e){}t===f.ZegoUpdateType.Delete?(be(f.ZegoPublisherState.NoPublish),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"publisherState"],newValue:f.ZegoPublisherState.NoPublish}]))):t===f.ZegoUpdateType.Add&&(be(f.ZegoPublisherState.Publishing),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"publisherState"],newValue:f.ZegoPublisherState.Publishing}])))})),function(e,t,n,o){return g.apply(this,arguments)})),e.on("roomStreamExtraInfoUpdate",De),e.on("IMRecvBarrageMessage",(function(e,t){var n,o,r,a,i,l;console.log("Comment recieved");var u=JSON.parse(null==(n=t[0])?void 0:n.message);We(null==u?void 0:u.comment,null!=(o=t[0])&&null!=(r=o.fromUser)&&null!=(a=r.userName)&&a.startsWith("Anonymous")?null==u?void 0:u.name:(null==(i=t[0])||null==(l=i.fromUser)?void 0:l.userName)||"Anonymous",null==u?void 0:u.source)}))}catch(e){console.error(e)}var h=yield l.LivelyApi.generateZeegoToken(ce,null==le||null==(u=le.current)?void 0:u.streaming_id);if(!(h=null==(d=h)||null==(c=d.data)?void 0:c.data))return Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"streamError"],newValue:"Error in joining the stream"}])),void console.log("Error in generating token from lively");var v=new f.ZegoRoomConfig;v.isUserStatusNotify=!0,v.token=h;var b=new f.ZegoUser(ce,oe);try{var S,w=yield f.default.instance().loginRoom(null==le||null==(S=le.current)?void 0:S.room_id,b,v);0!==(null==w?void 0:w.errorCode)&&(Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"streamError"],newValue:"Error in joining the stream"}])),console.log(`Error in login to room\nCode ${null==w?void 0:w.errorCode} message ${null==w?void 0:w.extendedData}`))}catch(e){console.log(`Error in login to room\n ${null==e?void 0:e.toString()}`)}var x=(0,s.findNodeHandle)(ie.current);console.log("Zego view ref id: ",x);var P=new f.ZegoView(x,1,0);yield f.default.instance().startPlayingStream(null==le||null==(p=le.current)?void 0:p.streaming_id,P,void 0),f.default.instance().muteSpeaker(!1)})),function(e){return _.apply(this,arguments)});(0,d.useEffect)((function(){if(ee){le.current=ee,console.log("streamConfig changed");var e=null;try{e=f.default.instance()}catch(e){console.log("Creating Engine")}e||f.default.createEngineWithProfile({appID:1082395432,scenario:f.ZegoScenario.Default}).then((function(e){console.log("Calling startStreaming"),Le(e)}))}return function(){var e,t=null;try{t=f.default.instance()}catch(e){console.log("Destroying Engine")}t&&(console.log("Stop playing the stream"),f.default.instance().stopPlayingStream(null==(e=ee.current)?void 0:e.streaming_id),f.default.destroyEngine())}}),[ee]);var Be=(0,d.useContext)(l.WidgetRefContext);(0,d.useEffect)((function(){var e;return Be.registerWidgetRef({current:{sendComment:function(e){if(console.log("Sending comment",e),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"sendingComment"],newValue:!0}])),e.trim()){var t,n,o={name:oe,comment:e,source:de};console.log("Sending comment",null==le||null==(t=le.current)?void 0:t.room_id,o),f.default.instance().sendBarrageMessage(null==le||null==(n=le.current)?void 0:n.room_id,JSON.stringify(o)).then((function(t){console.log(t),We(e,oe,de),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"sendingComment"],newValue:!1}])),j("onCommentSent")})).catch((function(e){console.error(e),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"sendingComment"],newValue:!1}])),j("onCommentError")}))}else console.log("empty comment message"),Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"sendingComment"],newValue:!1}]))},sendReactions:(e=(0,r.default)((function*(e){var t,n=Number(yield localStorage.getValue(`${null==le||null==(t=le.current)?void 0:t.streaming_id}-EngagementAvailable`));if((u.default.isNil(n)||isNaN(n))&&(n=10),console.log("Engagement Available",n),n>0){var o,r;if(e.startsWith("asset:")){var a,i=e.replace("asset:",""),d=ue(i).getOptimalImage;e=null==(a=d("700x700"))?void 0:a.fileUrl}var s={type:"REACTION_ANNOUCEMENT",reactionUrl:e,userName:oe,roomId:null==le||null==(o=le.current)?void 0:o.room_id};console.log("Sending reaction REACTION_ANNOUCEMENT",s),f.default.instance().sendCustomCommand(null==le||null==(r=le.current)?void 0:r.room_id,JSON.stringify(s),[]).then((function(t){var o;Ve((0,l.modelUpdateAction)([{selector:[k,"plugins",T,"reactionAnnoucement"],newValue:{userName:oe,reactionUrl:e}}])),triggerEmoji(e),localStorage.setValue(`${null==le||null==(o=le.current)?void 0:o.streaming_id}-EngagementAvailable`,""+(n-1)),hideHeart(),console.log("REACTION_ANNOUCEMENT errorCode After Success",t)})).catch((function(e){console.log("REACTION_ANNOUCEMENT error * Code",e)}))}else j("onReactionLimitReached")})),function(t){return e.apply(this,arguments)}),startPip:function(){}}},k,T,O),function(){Be.unRegisterWidgetRef(k,T,O)}}),[k,T,O,Be,oe]),(0,d.useEffect)((function(){if(ee){var e,t=null;try{t=f.default.instance()}catch(e){console.log("Creating Engine")}console.log("zegoEngine",t),t&&(null==(e=t)||e.muteSpeaker(ne))}}),[ne]);var Fe=(0,d.useRef)(null),Ne=(0,d.useRef)(null);return(0,d.useEffect)((function(){console.log("Mount effect running for background subscriptions")}),[]),ee?(0,h.jsx)(s.View,{style:[A,b],children:0==ge?(0,h.jsxs)(s.View,{style:{height:"100%",width:"100%"},children:[(0,h.jsx)(s.View,{style:{position:"absolute",height:"100%",width:"100%"},children:(0,h.jsx)(s.Image,{source:{uri:null==ee?void 0:ee.streaming_thumbnail},resizeMode:"cover",style:{height:"100%",width:"100%"}})}),(0,h.jsxs)(s.View,{style:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#0006",zIndex:1,justifyContent:"center",alignItems:"center"},children:[(0,h.jsx)(s.Text,{style:{fontWeight:"900",fontSize:28,width:"100%",textAlign:"center",color:"#fff"},children:"The live stream has ended"}),(0,h.jsx)(s.Text,{style:{fontSize:14,width:"100%",textAlign:"center",color:"#fff"},children:"Explore and purchase featured products"})]})]}):(0,h.jsxs)(s.View,{style:{height:"100%",width:"100%"},children:[(0!=Ie||0==ve)&&(0,h.jsxs)(s.View,{style:{position:"absolute",height:"100%",width:"100%",zIndex:1},children:[(0,h.jsx)(s.View,{style:{height:"100%",width:"100%"},children:(0,h.jsx)(s.Image,{source:{uri:null==ee?void 0:ee.streaming_thumbnail},resizeMode:"cover",style:{height:"100%",width:"100%"}})}),(0,h.jsxs)(s.View,{style:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#0006",zIndex:1,justifyContent:"center",alignItems:"center"},children:[(0,h.jsx)(s.Text,{style:{fontWeight:"900",fontSize:28,width:"100%",textAlign:"center",color:"#fff"},children:"Waiting for host to present"}),te&&(0,h.jsx)(s.ScrollView,{contentContainerStyle:u.default.pick(L,["flexDirection","justifyContent","alignItems","alignContent"]),ref:Fe,onContentSizeChange:function(){var e,t;"column-reverse"==L.flexDirection?null==(e=Fe.current)||e.scrollTo(0,0,!0):null==(t=Fe.current)||t.scrollToEnd({animated:!0})},style:[u.default.omit(L,["flexDirection","justifyContent","alignItems","alignContent"]),N],children:Re.map((function(e,t){return(0,h.jsxs)(s.View,{contentContainerStyle:u.default.pick(e.source==se?F:B,["flexDirection","justifyContent","alignItems","alignContent"]),style:[u.default.omit(e.source==se?F:B,["flexDirection","justifyContent","alignItems","alignContent"]),e.source==se?U:H],children:[(0,h.jsx)(s.Text,{style:[{color:e.source==se?G:q},e.source==se?J:Q],children:e.userName}),(0,h.jsx)(s.Text,{style:[{color:e.source==se?z:$},e.source==se?Y:K],children:e.text})]},`comment-${t}`)}))})]})]}),(0,h.jsxs)(s.View,{style:{height:"100%",width:"100%",flex:1},children:[(0,h.jsx)(f.ZegoTextureView,{ref:ie,style:{height:"100%",width:"100%",flex:1}}),te&&(0,h.jsx)(s.ScrollView,{contentContainerStyle:u.default.pick(L,["flexDirection","justifyContent","alignItems","alignContent"]),ref:Ne,onContentSizeChange:function(){var e,t;"column-reverse"==L.flexDirection?null==(e=Ne.current)||e.scrollTo(0,0,!0):null==(t=Ne.current)||t.scrollToEnd({animated:!0})},style:[u.default.omit(L,["flexDirection","justifyContent","alignItems","alignContent"]),N],children:Re.map((function(e,t){return(0,h.jsxs)(s.ScrollView,{contentContainerStyle:u.default.pick(e.source==se?F:B,["flexDirection","justifyContent","alignItems","alignContent"]),style:[u.default.omit(e.source==se?F:B,["flexDirection","justifyContent","alignItems","alignContent"]),e.source==se?U:H],children:[(0,h.jsx)(s.Text,{style:[{color:e.source==se?G:q},e.source==se?J:Q],children:e.userName}),(0,h.jsx)(s.Text,{style:[{color:e.source==se?z:$},e.source==se?Y:K],children:e.text})]},`comment-${t}`)}))})]}),(0,h.jsx)(g.default,{})]})}):(0,h.jsx)(s.View,{})})),k={basic:[{type:"codeInput",name:"cartDetails",props:{label:"Cart Details"}},{type:"codeInput",name:"streamConfig",props:{label:"Stream Config"}},{type:"codeInput",name:"userName",props:{label:"User Name"}},{type:"codeInput",name:"userid",props:{label:"User Id"}},{type:"checkbox",name:"showComments",props:{label:"Show Comments",disableBinding:!1}}].concat((0,i.default)(l.defaultEditors.basic),[{type:"layoutEditor",name:"commentsLayout",props:{label:"Comments Layout",isContainer:!0}},{type:"layoutEditor",name:"commentItemLayout",props:{label:"Comment Item Layout",isContainer:!0}}]),layout:l.defaultEditors.layout},T={onCheckoutTap:{type:l.EventTriggerIdentifier},onCommentSent:{type:l.EventTriggerIdentifier},onCommentError:{type:l.EventTriggerIdentifier},sendComment:{type:l.TriggerActionIdentifier,getValue:function(e,t,n){return y.sendComment},actionMetadata:{editableInputParams:{comment:""}}},startPip:{type:l.TriggerActionIdentifier,getValue:function(e,t,n){return y.startPip}}};t.default=(0,l.connectWidget)("LivelyLiveSellingWidgetV2",j,S,null,k,{propertySettings:T,widgetStyleConfig:(0,l.mergeWithDefaultStyles)(I),pluginListing:{labelPrefix:"livelySellingWidgetV2",type:"widget",name:"Lively Live Selling Widget V2",description:"Load Lively Live Selling Widget in the app",layout:{flex:1},section:"Display",icon:"web-view",defaultHeight:"auto",defaultWidth:"auto"},docs:m.default,themeProfileSel:[]})},4312:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendComment=function(e,t,n,r,a){var i,l,u=r[0],d=r[2],s=n.get("instance"),c=o.WidgetRefRegistry.getWidgetRef(u,d,s);logger.info("[STREAMUPDATE] updating stream info"),null==c||null==(i=c.current)||i.sendComment(null!=(l=null==a?void 0:a.comment)?l:{})};var o=n(892)},6661:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(4776)),i=n(804),l=n(892),u=a.default.fromJS(Object.assign({},{key:"",value:""})),d={basic:[].concat((0,r.default)(l.defaultEditors.basic),[{type:"codeInput",name:"key",props:{label:"Key",placeholder:"@LocalStorageKey"}}])};t.default=(0,l.connectPlugin)("LocalStoragePlugin",null,u,(function*(e,t,n,o,r,a){e.stageModel.pageKeysToId.get(n);var u=e.stageModel.getPluginModel(n,t),d=null==u?void 0:u.get("key"),s=null==u?void 0:u.get("value");return a?{modelUpdates:[{selector:[t,"value"],newValue:yield(0,i.call)(l.LocalStorage.getValue,d)}]}:(yield(0,i.call)(l.LocalStorage.setValue,d,s),null)}),d,{propertySettings:{value:{getValue:function(e,t){return""===t?null==e?void 0:e.value:t}}},pluginListing:{labelPrefix:"localStorage",type:"state",name:"LocalStorage",description:"Store data as part in Local Storage.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"local-storage"}})},3231:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=n(804),i=o(n(3216)),l={onReturnFalse:i.default.identity,onReturnTrue:i.default.identity,value:"",previousValue:"",runWhenModelUpdates:!1,runWhenPageLoads:!1,runOnPageFocus:!1},u={value:{getValue:function(e,t,n){return!("false"===t||"0"===t||i.default.isObjectLike(t)&&i.default.isEmpty(t)||!t)}},previousValue:{getValue:function(e,t,n){return!("false"===t||"0"===t||i.default.isObjectLike(t)&&i.default.isEmpty(t)||!t)},updatesProps:["value"]},onReturnFalse:{type:r.EventTriggerIdentifier},onReturnTrue:{type:r.EventTriggerIdentifier}};t.default=(0,r.connectPlugin)("LogicalExpressionPlugin",null,l,(function*(e,t,n,o,i,l,u){var d=e.stageModel.getPluginModel(n,t),s=[t];null!=o&&(s=s.concat([o+""]));var c=null==d?void 0:d.get("value"),p=null==d?void 0:d.get("previousValue"),f=null==d?void 0:d.get("runWhenModelUpdates"),g=null==d?void 0:d.get("runWhenPageLoads"),y=null==d?void 0:d.get("runOnPageFocus");if((null==u||!u.focusTrigger||y)&&(i||f||l&&g||null!=u&&u.focusTrigger&&y)&&(c?(c!==p||null!=u&&u.focusTrigger&&y)&&(yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onReturnTrue"))):(c!==p||null!=u&&u.focusTrigger&&y)&&(yield(0,a.put)((0,r.triggerPageEvent)(n,t,o,"onReturnFalse"))),c!==p))return{modelUpdates:[{selector:s.concat(["previousValue"]),newValue:c}]}}),{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:""}}],advanced:[{type:"checkbox",name:"runWhenModelUpdates",props:{label:"Run when model updates",checkedValue:!1}},{type:"checkbox",name:"runWhenPageLoads",props:{label:"Run when page loads",checkedValue:!1}},{type:"checkbox",name:"runOnPageFocus",props:{label:"Run on page focus",checkedValue:!1}}]},{propertySettings:u,pluginListing:{labelPrefix:"logicalExpression",type:"state",name:"Expression",description:"Functional Expression plugin",defaultHeight:0,defaultWidth:0,section:"Data",icon:"expression"}})},6032:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={showModal:"boolean"}},9385:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.modelWidgetStyleConfig=t.default=void 0;var r=o(n(6840)),a=o(n(6032)),i=n(892),l=n(2992),u=n(4178),d=t.modelWidgetStyleConfig=[{type:"colorInput",name:"backdropColor",props:{label:"Backdrop Color",placeholder:"#HexCode"}}],s=r.default.forwardRef((function(e,t){var n,o=(null==(n=e.model)?void 0:n.get("position"))||"bottom";return(0,u.jsx)(i.CurrentScreenContext.Consumer,{children:function(n){var r,a;return(0,u.jsx)(l.Portal,{hostName:n.isModal?e.model.get("pageKey"):"root",children:null!=(r=e.model)&&r.get("value")?(0,u.jsx)(i.CustomModal,{position:o,isDismissible:null==(a=e.model)?void 0:a.get("isDismissible"),onClose:function(){return e.triggerEvent("onClose")},model:e.model,children:(0,u.jsx)(i.ApptileFlexbox,Object.assign({},e,{ref:t,renderWidgetTreeNode:(0,i.renderWidgetTreeNode)(Object.assign({},e)),message:"Start by dropping a container widget."}))}):(0,u.jsx)(u.Fragment,{})},e.model.get("pageKey")||"root")}})})),c={value:{getValue:function(e,t,n){return t}},onClose:{type:i.EventTriggerIdentifier}};t.default=(0,i.connectWidget)("ModalWidget",s,{value:!1,isDismissible:!0,onClose:""},(function(){}),{basic:[{type:"checkbox",name:"value",props:{label:"Show Modal"}},{type:"checkbox",name:"isDismissible",props:{label:"Is Dismissible"}}],layout:[{type:"radioGroup",name:"position",props:{label:"Position",options:["top","center","bottom"]}}]},{propertySettings:c,widgetStyleConfig:d,pluginListing:{labelPrefix:"Modal",type:"widget",name:"Modal",description:"Display Modal on screen with varying styles.",defaultHeight:0,defaultWidth:0,section:"Display",layout:{flex:1,flexDirection:"column"},icon:"modal"},docs:a.default,themeProfileSel:["tile","modal"]})},8901:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(804),r=n(892),a=n(4800),i=n(8837),l=[{sortFilterName:"Featured",sortKey:"",sortOrder:""},{sortFilterName:"Price: Low to High",sortKey:"price",sortOrder:"asc"},{sortFilterName:"Price: High to Low",sortKey:"price",sortOrder:"desc"},{sortFilterName:"Alphabetically, A-Z",sortKey:"name",sortOrder:"asc"},{sortFilterName:"Alphabetical, Z-A",sortKey:"name",sortOrder:"desc"},{sortFilterName:"Newest",sortKey:"datePublished",sortOrder:"desc"},{sortFilterName:"Oldest",sortKey:"datePublished",sortOrder:"asc"}],u={selectedFilters:{updatesProps:["checkFilters"]},searchQuery:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.searchQuery},actionMetadata:{editableInputParams:{query:""}}},queryCollectionWithoutFiltersAndSort:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.queryCollectionWithoutFiltersAndSort},actionMetadata:{editableInputParams:{collectionHandle:""}}},queryRandomRecommendations:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.queryRandomRecommendations},actionMetadata:{editableInputParams:{minProducts:1,maxProducts:10}}},queryWithoutFiltersAndSort:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.queryWithoutFiltersAndSort},actionMetadata:{editableInputParams:{query:"",fetchType:""}}},getNextPageForSearch:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.getNextPageForSearch}},setSortOptions:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.setSortOptions},actionMetadata:{editableInputParams:{sortObj:""}}},onChooseFilterCategory:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.onChooseFilterCategory},actionMetadata:{editableInputParams:{filterName:""}}},onChooseFilterValue:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.onChooseFilterValue},actionMetadata:{editableInputParams:{filterName:"",value:"",selectedMin:"",selectedMax:""}}},resetFilters:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.resetFilters},actionMetadata:{editableInputParams:{}}},applyFilters:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.applyFilters},actionMetadata:{editableInputParams:{}}},changeFetchType:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.changeFetchType},actionMetadata:{editableInputParams:{fetchType:"SEARCH"}}},clearSearch:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return a.clearSearch},actionMetadata:{editableInputParams:{}}},checkFilters:{getValue:function(e,t,n){return function(t){var n=null==e?void 0:e.selectedFilters,o=t.value,r=t.field;return!!n.find((function(e){return e.field===r&&e.value.includes(o)}))}}},getSelectedMinMaxFilter:{getValue:function(e,t,n){return function(t){var n=null==e?void 0:e.selectedFilters,o=(null==e?void 0:e.filters)[null==e?void 0:e.displayFilterName].field,r=n.find((function(e){return e.field===o}));return r?r[t]:""}}}};t.default=(0,r.connectPlugin)("NostoHelper",null,{datasource:"nosto",numItems:24,initialNumItems:8,loading:!1,filters:[],filterNames:[],selectedFilters:[],displayFilterName:"",displayFilterValues:[],randomNostoProducts:[],displayFilterType:"",products:[],sortOptions:[],query:"",queryType:"",collectionHandle:"",collectionId:null,_doFetch:!1,_doNextPage:!1,fetchType:"COLLECTION",paginationMeta:null,hasNextPage:!1,selectFilter:"action",searchQuery:"action",getNextPageForSearch:"action",selectedSortName:"Featured",sortBy:"",sortOrder:"",setSortOptions:"action",queryWithoutFiltersAndSort:"action",queryCollectionWithoutFiltersAndSort:"action",onChooseFilterCategory:"action",queryRandomRecommendations:"action",onChooseFilterValue:"action",resetFilters:"action",applyFilters:"action",checkFilters:"function",changeFetchType:"function",clearSearch:"action",getSelectedMinMaxFilter:"function"},(function*(e,t,n,r,a,u,d){var s;if(null==d||!d.focusTrigger){var c=e.stageModel.getPluginModel(n,t),p=[t],f=[n,"plugins"].concat(p);null!=r&&(p=p.concat([r+""]));var g=null==c?void 0:c.get("collectionHandle"),y=null!=(s=null==c?void 0:c.get("_doFetch"))&&s;if(u){var m=g&&""!==g.trim()?"COLLECTION":"SEARCH_SUGGESTIONS";return"COLLECTION"===m&&(yield(0,o.spawn)(i.fetchSearchResults,f,e,t,n,m,g,u)),{modelUpdates:[{selector:p.concat(["loading"]),newValue:"COLLECTION"===m},{selector:p.concat(["sortOptions"]),newValue:l},{selector:p.concat(["selectedSortName"]),newValue:"Featured"},{selector:p.concat(["fetchType"]),newValue:m},{selector:p.concat(["selectedFilters"]),newValue:[]}]}}if(y){var h,v=null!=(h=null==c?void 0:c.fetchType)?h:"SEARCH";yield(0,o.spawn)(i.fetchSearchResults,f,e,t,n,v,g,u)}return{modelUpdates:[]}}}),{basic:[{type:"codeInput",name:"datasource",props:{label:"Nosto Datasource Id",placeholder:"Nosto"}},{type:"codeInput",name:"numItems",props:{label:"Number of Items",placeholder:"24"}},{type:"codeInput",name:"initialNumItems",props:{label:"Initial Number of Items to load",placeholder:"8"}},{type:"codeInput",name:"collectionHandle",props:{label:"Collection Handle",placeholder:"{{currentPage.params.collectionHandle}}"}}]},{propertySettings:u,pluginListing:{labelPrefix:"NostoHelper",type:"state",name:"Nosto Helper",description:"Nosto Helper For PLP,FILTER,SORT,SEARCH",defaultHeight:0,defaultWidth:0,section:"Data",icon:"state"},docs:null})},4800:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.applyFilters=function(e,t,n,o,r){return d.apply(this,arguments)},t.changeFetchType=function(e,t,n,o,r){return w.apply(this,arguments)},t.clearSearch=function(e,t,n,o,r){return x.apply(this,arguments)},t.getFilterValues=S,t.getNextPageForSearch=function(e,t,n,o,r){return y.apply(this,arguments)},t.getPluginModelUpdate=b,t.onChooseFilterCategory=function(e,t,n,o,r){return s.apply(this,arguments)},t.onChooseFilterValue=function(e,t,n,o,r){return c.apply(this,arguments)},t.queryCollectionWithoutFiltersAndSort=function(e,t,n,o,r){return g.apply(this,arguments)},t.queryRandomRecommendations=function(e,t,n,o,r){return f.apply(this,arguments)},t.querySearch=function(e,t,n,o,r){return h.apply(this,arguments)},t.queryWithoutFiltersAndSort=function(e,t,n,o,r){return p.apply(this,arguments)},t.resetFilters=function(e,t,n,o,r){return u.apply(this,arguments)},t.searchQuery=function(e,t,n,o,r){return v.apply(this,arguments)},t.setSortOptions=function(e,t,n,o,r){return m.apply(this,arguments)};var r=o(n(7488)),a=o(n(2766)),i=n(892),l=o(n(3216));function u(){return(u=(0,a.default)((function*(e,t,n,o,r){e((0,i.modelUpdateAction)(b(o,{selectedFilters:[],_doFetch:!0,_doNextPage:!1,fetchType:"SEARCH",paginationMeta:null,hasNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function d(){return(d=(0,a.default)((function*(e,t,n,o,r){e((0,i.modelUpdateAction)(b(o,{_doFetch:!0,_doNextPage:!1,fetchType:"SEARCH",paginationMeta:null,hasNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function s(){return(s=(0,a.default)((function*(e,t,n,o,r){var a=r.filterName,l=(null==n?void 0:n.get("filters"))[a],u=l.type,d=S(l);e((0,i.modelUpdateAction)(b(o,{displayFilterName:a,displayFilterValues:d,displayFilterType:u}),void 0,!0))}))).apply(this,arguments)}function c(){return(c=(0,a.default)((function*(e,t,n,o,r){var a=r.filterName,l=r.value,u=null==n?void 0:n.get("selectedFilters"),d=null==n?void 0:n.get("displayFilterType");if("terms"===d){var s=u.find((function(e){return e.field===a}));s?s.value.includes(l)?s.value=s.value.filter((function(e){return e!==l})):s.value.push(l):u.push({field:a,value:[l]}),u=u.filter((function(e){var t;return null==e||!e.value||0!==(null==(t=e.value)?void 0:t.length)}))}if("stats"===d){var c=r.selectedMin,p=r.selectedMax;if(!c&&!p)return;var f={};c&&(f.gte=c.toString()),p&&(f.lte=p.toString());var g=u.find((function(e){return e.field===a}));g?g.range=[f]:u.push({field:a,range:[f]})}e((0,i.modelUpdateAction)(b(o,{selectedFilters:u}),void 0,!0))}))).apply(this,arguments)}function p(){return(p=(0,a.default)((function*(e,t,n,o,r){var a=r.query,l=r.fetchType,u=void 0===l?"SEARCH":l;e((0,i.modelUpdateAction)(b(o,{query:a,selectedFilters:[],_doFetch:!0,_doNextPage:!1,fetchType:u,sortBy:"",sortOrder:"",selectedSortName:"Featured",paginationMeta:null,hasNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function f(){return(f=(0,a.default)((function*(e,t,n,o,r){var a=r.minProducts,l=r.maxProducts;e((0,i.modelUpdateAction)(b(o,{minRandomProducts:a,maxRandomProducts:l}),void 0,!0))}))).apply(this,arguments)}function g(){return(g=(0,a.default)((function*(e,t,n,o,r){var a=r.collectionHandle;e((0,i.modelUpdateAction)(b(o,{query:null,collectionHandle:a,selectedFilters:[],_doFetch:!0,_doNextPage:!1,fetchType:"COLLECTION",sortBy:"",sortOrder:"",selectedSortName:"Featured",paginationMeta:null,hasNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function y(){return(y=(0,a.default)((function*(e,t,n,o,r){e((0,i.modelUpdateAction)(b(o,{_doFetch:!0,_doNextPage:!0}),void 0,!0))}))).apply(this,arguments)}function m(){return(m=(0,a.default)((function*(e,t,n,o,r){var a=r.sortObj,l=a.sortFilterName,u=a.sortKey,d=void 0===u?"":u,s=a.sortOrder,c=void 0===s?"":s;e((0,i.modelUpdateAction)(b(o,{sortOrder:c,sortBy:d,selectedSortName:l,_doFetch:!0,_doNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function h(){return(h=(0,a.default)((function*(e,t,n,o,r){var a=r.query;e((0,i.modelUpdateAction)(b(o,{query:a,_doFetch:!0,paginationMeta:null,hasNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function v(){return(v=(0,a.default)((function*(e,t,n,o,r){var a=r.query;e((0,i.modelUpdateAction)(b(o,{query:a,_doFetch:!0,paginationMeta:null,hasNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function b(e,t){var n=[];return t&&!l.default.isEmpty(t)&&Object.entries(t).map((function(t){var o=(0,r.default)(t,2),a=o[0],i=o[1];n.push({selector:e.concat([a]),newValue:i})})),n}function S(e){if(!e)return[];var t=e.field,n=e.fieldKeys;return"stats"===e.type?{min:e.min,max:e.max}:n.map((function(e){return Object.assign({},e,{field:t})}))}function w(){return(w=(0,a.default)((function*(e,t,n,o,r){var a=r.fetchType;e((0,i.modelUpdateAction)(b(o,{fetchType:a}),void 0,!0))}))).apply(this,arguments)}function x(){return(x=(0,a.default)((function*(e,t,n,o,r){r.query,e((0,i.modelUpdateAction)(b(o,{query:null,_doFetch:!1,_doNextPage:!1,products:[],selectedFilters:[],filterNames:[],filters:{},displayFilterValues:[],sortBy:"",paginationMeta:null,hasNextPage:!1,fetchType:"SEARCH_SUGGESTIONS"}),void 0,!0))}))).apply(this,arguments)}},8837:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSearchResults=function*(e,t,n,o,r,a,l){var u=null;"COLLECTION"===r&&l&&(u=yield(0,i.call)(s,e,n,o,a)),yield(0,i.call)(c,e,n,o,l,r,u)},t.getPluginModelUpdate=g,t.queryNostoDataSource=c,t.queryNostoRandomRecommendations=f,t.queryProductsFromShopifyDatasource=p,t.queryShopifyDataSource=s;var r=o(n(7488)),a=o(n(5971)),i=n(804),l=n(892),u=n(4800),d=o(n(3216));function*s(e,t,n,o){var r=yield(0,i.select)(),a=r.stageModel.getModelValue([]).get("shopify"),u=(yield(0,i.select)(l.selectAppConfig)).getPlugin("shopify"),d=a.get("pluginType"),s=(0,l.GetRegisteredPlugin)(d),c=(r.stageModel.getModelValue([t]),yield(0,i.call)(s.runQuery,s,u,a,"GetCollectionDetailsByHandle",{collectionHandle:o},{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:null})),p=c.data,f=(c.errors,c.hasError,p.id.split("/")),y=f[f.length-1],m=g(e,{collectionId:y});return yield(0,i.put)((0,l.modelUpdateAction)(m)),y}function*c(e,t,n,o,r,s){var c=yield(0,i.select)(),p=c.stageModel.getModelValue([]).get("nosto"),y=(yield(0,i.select)(l.selectAppConfig)).getPlugin("Nosto"),m=p.get("pluginType"),h=g(e,{loading:!0});yield(0,i.put)((0,l.modelUpdateAction)(h));var v=(0,l.GetRegisteredPlugin)(m),b=c.stageModel.getPluginModel(n,t),S=null==b?void 0:b.get("numItems",24),w=null==b?void 0:b.get("initialNumItems"),x=null==b?void 0:b.get("_doNextPage",!1),P=null==b?void 0:b.get("sortBy",""),C=null==b?void 0:b.get("sortOrder",""),I="SEARCH"===r?S:w,j=null==b?void 0:b.get("selectedFilters"),k=null==b?void 0:b.get("products",[]),T=x?null==b?void 0:b.get("paginationMeta",null):null,O=!!x&&(null==b?void 0:b.get("hasNextPage",null)),M=null==p?void 0:p.get("accountId"),E="COLLECTION"!==r?null==b?void 0:b.get("query"):null;s=o?s:null==b?void 0:b.get("collectionId");var R=yield(0,i.call)(v.runQuery,v,y,p,"Search",{query:E,accountId:M,size:I,sortBy:P,sortOrder:C,collectionId:s,filter:j},{transformers:void 0,getNextPage:O,paginationMeta:T,cachePolicy:null}),_=R.data,A=(R.errors,R.hasError,R.hasNextPage),V=R.paginationMeta;d.default.isEmpty(_.products)&&(yield(0,i.call)(f,e,t,n));var D=Object.keys(_.filters),W=[],L="",B="";D.length&&(L=D[0],W=(0,u.getFilterValues)(_.filters[L]),B=_.filters[L].type);var F=g(e,{products:x?[].concat((0,a.default)(k),(0,a.default)(_.products)):_.products,filters:_.filters,filterNames:D,loading:!1,displayFilterName:L,displayFilterValues:W,hasNextPage:A,paginationMeta:V,_doFetch:!1,_doNextPage:!1,displayFilterType:B});yield(0,i.put)((0,l.modelUpdateAction)(F))}function*p(e,t){var n=(yield(0,i.select)()).stageModel.getModelValue([]).get("shopify"),o=(yield(0,i.select)(l.selectAppConfig)).getPlugin("shopify"),r=n.get("pluginType"),a=(0,l.GetRegisteredPlugin)(r),u=yield(0,i.call)(a.runQuery,a,o,n,"GetProductByIds",{productIds:t},{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:null}),d=u.data,s=(u.errors,u.hasError,g(e,{randomNostoProducts:d}));yield(0,i.put)((0,l.modelUpdateAction)(s))}function*f(e,t,n){var o=yield(0,i.select)(),r=o.stageModel.getModelValue([]).get("nosto"),a=(yield(0,i.select)(l.selectAppConfig)).getPlugin("nosto"),u=r.get("pluginType"),d=g(e,{loading:!0});yield(0,i.put)((0,l.modelUpdateAction)(d));var s=(0,l.GetRegisteredPlugin)(u),c=o.stageModel.getPluginModel(n,t),f=null==c?void 0:c.get("minRandomProducts",1),y=null==c?void 0:c.get("maxRandomProducts",10),m=yield(0,i.call)(s.runQuery,s,a,r,"RandomRecommendations",{minProducts:f,maxProducts:y},{transformers:void 0,getNextPage:!1,paginationMeta:null,cachePolicy:null}),h=m.data,v=(m.errors,m.hasError,m.hasNextPage,m.paginationMeta,h.map((function(e){return`gid://shopify/Product/${null==e?void 0:e.productId}`})));yield(0,i.call)(p,e,v)}function g(e,t){var n=[];return t&&!d.default.isEmpty(t)&&Object.entries(t).map((function(t){var o=(0,r.default)(t,2),a=o[0],i=o[1];n.push({selector:e.concat([a]),newValue:i})})),n}},6207:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NostoHelper",{enumerable:!0,get:function(){return r.default}});var r=o(n(8901))},4588:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PazoCalendar",{enumerable:!0,get:function(){return o.Calendar}});var o=n(4756)},6569:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7488)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=n(6352),l=o(n(9569)),u=o(n(6196)),d=n(4588),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=i.StyleSheet.create({headerBox:{backgroundColor:"#3C3050",padding:10},headerDateRow:{flexDirection:"row"},headerDateBox:{padding:8},headerDateLabel:{fontSize:8,color:"#FFF"},headerDateValue:{fontSize:10,color:"#FFF"},headerStatsWell:{backgroundColor:"#544667",padding:5,flexDirection:"row",borderRadius:5},headerStatBox:{backgroundColor:"#3C3050",padding:8,margin:5,borderRadius:5},headerStatTitle:{color:"#FFF",fontSize:10,paddingVertical:5},headerStatValue:{color:"#FFF",fontSize:20}});t.default=function(e){var t=null==e?void 0:e.data,n=t.siteGroups,o=t.totalSalesActiveStores,c=t.totalNoOfStores,f=t.fromDate,g=t.toDate,y=(0,a.useState)(""),m=(0,r.default)(y,2),h=m[0],v=m[1],b=(0,u.default)().format("YYYY-MM-DD"),S=(0,u.default)().subtract(90,"days").format("YYYY-MM-DD"),w=(0,a.useState)(f),x=(0,r.default)(w,2),P=x[0],C=x[1],I=(0,a.useState)(g),j=(0,r.default)(I,2),k=j[0],T=j[1],O=(0,a.useState)({}),M=(0,r.default)(O,2),E=M[0],R=M[1],_=(0,a.useCallback)((function(e){var t=(0,u.default)(e,"YYYY-MM-DD");"setStart"==h&&((0,u.default)(k,"DD-MM-YYYY").isBefore(t)||C(t.format("DD-MM-YYYY"))),"setEnd"==h&&((0,u.default)(P,"DD-MM-YYYY").isAfter(t)||T(t.format("DD-MM-YYYY"))),v("")}),[h,k,P]);return(0,a.useEffect)((function(){var e={},t=(0,u.default)(P,"DD-MM-YYYY"),n=(0,u.default)(k,"DD-MM-YYYY");e[t.format("YYYY-MM-DD")]={startingDay:!0,color:"#50cebb",textColor:"white"},e[n.format("YYYY-MM-DD")]={selected:!0,endingDay:!0,color:"#50cebb",textColor:"white"};for(var o=t.add(1,"days");o.isBefore(n);)e[o.format("YYYY-MM-DD")]={color:"#70d7c7",textColor:"white"},o=o.add(1,"days");console.log(e),R(e)}),[k,P]),(0,s.jsxs)(i.View,{children:[(0,s.jsxs)(i.View,{style:p.headerBox,children:[""==h?(0,s.jsxs)(i.View,{style:p.headerDateRow,children:[(0,s.jsxs)(i.Pressable,{style:p.headerDateBox,onPress:function(){return v("setStart")},children:[(0,s.jsx)(i.Text,{style:p.headerDateLabel,children:"From date"}),(0,s.jsx)(i.Text,{style:p.headerDateValue,children:P})]}),(0,s.jsxs)(i.Pressable,{style:p.headerDateBox,onPress:function(){return v("setEnd")},children:[(0,s.jsx)(i.Text,{style:p.headerDateLabel,children:"To date"}),(0,s.jsx)(i.Text,{style:p.headerDateValue,children:k})]})]}):(0,s.jsx)(d.PazoCalendar,{maxDate:b,minDate:S,enableSwipeMonths:!0,onDayPress:function(e){console.log(e),_(null==e?void 0:e.dateString)},markingType:"period",markedDates:E}),(0,s.jsxs)(i.View,{style:p.headerStatsWell,children:[(0,s.jsxs)(i.View,{style:p.headerStatBox,children:[(0,s.jsx)(i.Text,{style:p.headerStatTitle,children:"Sales active stores"}),(0,s.jsx)(i.Text,{style:p.headerStatValue,children:o})]}),(0,s.jsxs)(i.View,{style:p.headerStatBox,children:[(0,s.jsx)(i.Text,{style:p.headerStatTitle,children:"Total stores"}),(0,s.jsx)(i.Text,{style:p.headerStatValue,children:c})]})]})]}),null==n?void 0:n.map((function(e,t){return(0,s.jsx)(l.default,{siteGroup:e},t)}))]})}},9569:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n(6840));var r=n(6352),a=o(n(2422)),i=n(4178),l=r.StyleSheet.create({groupContainer:{paddingHorizontal:8,marginVertical:8},labelBox:{backgroundColor:"#EBEEF3",marginBottom:8}});t.default=function(e){var t=null==e?void 0:e.siteGroup,n=t.sitesData,o=t.name;return(0,i.jsxs)(r.View,{style:l.groupContainer,children:[(0,i.jsx)(r.View,{style:l.labelBox,children:(0,i.jsx)(r.Text,{children:o})}),n.map((function(e,t){return(0,i.jsx)(a.default,{siteData:e},t)}))]})}},2422:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6196)),a=(o(n(6840)),n(6352)),i=n(4178),l=a.StyleSheet.create({siteContainer:{flex:1,backgroundColor:"#FFF",padding:10,fontSize:10,marginVertical:4},labelBox:{padding:10},billDatesRow:{flexDirection:"row",paddingVertical:4,marginBottom:8},billDatesBox:{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"space-around"},billDatesText:{marginVertical:4},siteStatsRow:{flexDirection:"row",flexWrap:"wrap"},siteStatBox:{backgroundColor:"#F5F5F5",flex:1,flexShrink:0,minWidth:"26%",maxWidth:"40%",height:50,padding:8,justifyContent:"center",alignItems:"center",margin:4},siteStatValue:{fontSize:20,marginBottom:4},siteStatLabel:{fontSize:10},deptStatsBox:{flex:1},deptLabel:{fontSize:12,marginVertical:4}}),u=function(e){var t=e.title,n=e.value;return(0,i.jsxs)(a.View,{style:l.siteStatBox,children:[(0,i.jsx)(a.Text,{style:l.siteStatValue,children:n}),(0,i.jsx)(a.Text,{style:l.siteStatLabel,children:t})]})};t.default=function(e){var t=null==e?void 0:e.siteData,n=(t._id,t.name),o=t.totalSalesQty,d=t.cashSales,s=t.otherSales,c=t.return,p=t.voidBills,f=t.bankDeposit,g=t.firstBill,y=t.lastBill,m=t.depts;return(0,i.jsxs)(a.View,{style:l.siteContainer,children:[(0,i.jsx)(a.View,{style:l.labelBox,children:(0,i.jsx)(a.Text,{children:n})}),(0,i.jsxs)(a.View,{style:l.billDatesRow,children:[(0,i.jsxs)(a.View,{style:l.billDatesBox,children:[(0,i.jsx)(a.Text,{children:"First Bill"}),(0,i.jsx)(a.View,{children:(0,i.jsxs)(a.View,{children:[(0,i.jsx)(a.Text,{children:(0,r.default)(g).format("DD-MM-YYYY")}),(0,i.jsx)(a.Text,{children:(0,r.default)(g).format("hh-mm")})]})})]}),(0,i.jsxs)(a.View,{style:l.billDatesBox,children:[(0,i.jsx)(a.Text,{children:"Last Bill"}),(0,i.jsx)(a.View,{children:(0,i.jsxs)(a.View,{children:[(0,i.jsx)(a.Text,{children:(0,r.default)(y).format("DD-MM-YYYY")}),(0,i.jsx)(a.Text,{children:(0,r.default)(y).format("hh-mm")})]})})]})]}),(0,i.jsxs)(a.View,{style:l.siteStatsRow,children:[(0,i.jsx)(u,{title:"Total sales quantity",value:o}),(0,i.jsx)(u,{title:"Cash sales",value:d}),(0,i.jsx)(u,{title:"Other sales",value:s}),(0,i.jsx)(u,{title:"Return",value:c}),(0,i.jsx)(u,{title:"Void bills",value:p}),(0,i.jsx)(u,{title:"Bank deposit",value:f})]}),m.map((function(e,t){return(0,i.jsxs)(a.View,{style:l.deptStatsBox,children:[(0,i.jsx)(a.Text,{style:l.deptLabel,children:null==e?void 0:e.name}),(0,i.jsxs)(a.View,{style:l.siteStatsRow,children:[(0,i.jsx)(u,{title:"Sales",value:null==e?void 0:e.sales}),(0,i.jsx)(u,{title:"Quantity",value:null==e?void 0:e.quantity})]})]},t)}))]})}},4977:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={iconType:"string",value:"boolean"}},868:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7128)),a=o(n(6840)),i=o(n(4977)),l=n(6352),u=o(n(6569)),d=n(892),s=n(4178),c=["typography"],p=a.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,a=e.config,i=null==n?void 0:n.get("value"),p=a.get("layout"),f=(0,d.getPlatformStyles)(p?p.getFlexProperties():{flex:1}),g=(0,d.getPlatformStyles)(o),y=(g.typography,(0,r.default)(g,c));return(0,s.jsx)(l.View,{ref:t,style:[f,y],children:i?(0,s.jsx)(u.default,{data:i}):(0,s.jsx)(l.ActivityIndicator,{})})}));t.default=(0,d.connectWidget)("PazoReport",p,{value:""},null,{basic:[{type:"codeInput",name:"value",props:{label:"value",placeholder:"{{PazoQuery1.data}}"}}],layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!1}}]},{propertySettings:{value:{getValue:function(e,t,n){return t}}},widgetStyleConfig:(0,d.mergeWithDefaultStyles)([{type:"colorInput",name:"color",props:{label:"Color",placeholder:"#000000"}},{type:"codeInput",name:"fontSize",props:{label:"Size",placeholder:"18"}}]),pluginListing:{labelPrefix:"PazoReport",type:"widget",name:"Pazo Report",description:"Display Pazo Sales Report",defaultHeight:0,defaultWidth:0,section:"Display",layout:{flex:1,flexDirection:"column"},icon:"icon"},docs:i.default,themeProfileSel:["tile","text"]})},4246:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},type:{"!type":"string","!doc":'Type of pill need to displayed. One of: "without-cross", "with-cross"'}}},3799:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.pillWidgetStyleConfig=t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(892),d=o(n(4246)),s=n(4178),c=["typography"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=t.pillWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"crossColor",props:{label:"Cross color",placeholder:"#HexCode"}},{type:"colorInput",name:"color",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}},{type:"codeInput",name:"crossSize",props:{label:"Cross Size",placeholder:"0"}},{type:"borderRadiusEditor",name:"borderRadius",props:{label:"Border Radius",placeholder:"0",options:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],layout:"square"}},{type:"trblValuesEditor",name:"margin",props:{label:"Margin",placeholder:"0",options:["marginTop","marginRight","marginBottom","marginLeft"]}},{type:"trblValuesEditor",name:"padding",props:{label:"Padding",placeholder:"0",options:["paddingTop","paddingRight","paddingBottom","paddingLeft"]}}],g=i.default.forwardRef((function(e,t){var n,o,r=e.model,d=(e.modelUpdate,e.modelStyles),p=e.triggerEvent,f=e.config,g=(0,u.usePlaceHolder)(),y=r.get("enableHaptics"),m=r.get("hapticMethod"),v=null==(n=r.get("value"))?void 0:n.toString(),b=null==(o=r.get("type"))?void 0:o.toString(),S=f.get("layout"),w=!!r.get("isLoading"),x=(0,u.getPlatformStyles)(S?S.getFlexProperties():{flex:1}),P=(0,u.getPlatformStyles)(d),C=P.typography,I=(0,a.default)(P,c),j=(0,i.useCallback)((function(){y&&(0,u.performHapticFeedback)(m),p("onTap")}),[y,m,p]),k=(0,i.useCallback)((function(){y&&(0,u.performHapticFeedback)(m),p("onRemove")}),[y,m,p]),T=((0,u.useTheme)().themeEvaluator,(0,i.useRef)(new l.Animated.Value(1)).current);return w?(0,s.jsx)(g,{layoutStyles:Object.assign({},x,I,{minHeight:35})}):(0,s.jsxs)(l.Animated.View,{style:[h.container,x,I,{transform:[{scale:T}]}],ref:t,children:[(0,s.jsx)(l.Pressable,{onPressIn:function(){l.Animated.spring(T,{toValue:1.5,useNativeDriver:!0}).start()},onPressOut:function(){l.Animated.spring(T,{toValue:1,useNativeDriver:!0}).start(),j()},children:(0,s.jsx)(l.Animated.Text,{style:[h.text,C,{color:P.color}],children:v||""})}),"with-cross"===b&&(0,s.jsx)(l.Pressable,{onPress:k,children:(0,s.jsx)(l.Animated.View,{style:[h.crossContainer],children:(0,s.jsx)(u.MaterialCommunityIcons,{name:"close",size:P.crossSize,color:P.crossColor})})})]})})),y={basic:[{type:"radioGroup",name:"type",props:{label:"Type",options:["with-cross","without-cross"]}},{type:"codeInput",name:"isLoading",props:{label:"Loading State"}}].concat((0,r.default)(u.defaultEditors.basic)),advanced:u.hapticEditors.advanced,layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0}}]},m={value:{getValue:function(e,t,n){return t?t.toString():""}},enableHaptics:{getValue:function(e,t,n){return(0,u.makeBoolean)(t)}},onTap:{type:u.EventTriggerIdentifier},onRemove:{type:u.EventTriggerIdentifier},isLoading:{getValue:function(e,t,n){return(0,u.makeBoolean)(t)}}},h=l.StyleSheet.create({text:{marginHorizontal:6},crossContainer:{marginRight:2},container:{minWidth:50}});t.default=(0,u.connectWidget)("PillWidget",g,{value:"",type:"without-cross",onRemove:"",onTap:"",enableHaptics:"",hapticMethod:"",isLoading:!1},null,y,{propertySettings:m,widgetStyleConfig:(0,u.mergeWithDefaultStyles)(f),pluginListing:{labelPrefix:"pill",type:"widget",name:"Pill",description:"Display pill with text",layout:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},section:"Inputs",icon:"pills"},docs:d.default,themeProfileSel:["tile","pill"]})},9087:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(3216)),i={onPollTrigger:{type:r.EventTriggerIdentifier},enabled:{getValue:function(e,t,n){return!("false"===t||"0"===t||a.default.isObjectLike(t)&&a.default.isEmpty(t)||!t)}},value:{getValue:function(e,t,n){return a.default.isNaN(1*t)?t:a.default.toNumber(t)}}};t.default=(0,r.connectPlugin)("PollPlugin",null,{enabled:!1,value:5e3,onPollTrigger:""},(function*(e,t,n,o,a,i){var l=e.stageModel.getPluginModel(n,t),u=null==l?void 0:l.get("enabled"),d=null==l?void 0:l.get("value"),s=null==l?void 0:l.get("currentPoll"),c=((0,r.getPluginSelector)(n,t).concat(o?[o]:[]),r.store.dispatch);if(logger.info("Poll::onPluginUpdate",u,d,s),u&&!s)return s=setInterval((function(){c((0,r.triggerPageEvent)(n,t,o,"onPollTrigger"))}),d),{modelUpdates:[{selector:[t,"currentPoll"],newValue:s}]};!u&&s&&clearInterval(s)}),{basic:[{type:"codeInput",name:"enabled",props:{label:"Enabled",placeholder:"false"}},{type:"codeInput",name:"value",props:{label:"Value",placeholder:5e3}}]},{propertySettings:i,pluginListing:{labelPrefix:"poll",type:"state",name:"Poll",description:"Poll plugin",defaultHeight:0,defaultWidth:0,section:"Data",icon:"timer"}})},4260:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},2629:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProfileWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(7128)),i=o(n(2766)),l=o(n(7488)),u=n(892),d=o(n(3216)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),c=n(6352),p=o(n(4260)),f=n(4178),g=["shadowColor","shadowOffset","shadowRadius","iconSize","iconColor","typography"],y=["typography","subHeadingTypography","color"];function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var h=t.ProfileWidgetStyleConfig=[{type:"codeInput",name:"iconSize",props:{label:"Icon Size",placeholder:"20"}},{type:"colorInput",name:"backgroundColor",props:{label:"Background"}},{type:"colorInput",name:"color",props:{label:"Text Color"}},{type:"colorInput",name:"iconColor",props:{label:"Icon Color"}},{type:"typographyInput",name:"typography",props:{label:"Typography"}},{type:"typographyInput",name:"subHeadingTypography",props:{label:"SubHeading Typography"}}],v=s.default.forwardRef((function(e,t){var n,o,r=e.model,p=e.modelStyles,m=e.config,h=e.triggerEvent,v=(0,u.usePlaceHolder)(),b=(null==(n=r.get("value"))||n.toString(),(0,s.useState)({})),S=(0,l.default)(b,2),w=S[0],x=S[1];(0,s.useEffect)((function(){function e(){return(e=(0,i.default)((function*(){var e=yield u.LocalStorage.getValue("loggedInUser");x(e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var P=m.get("layout"),C=!!r.get("isLoading"),I=(0,u.getPlatformStyles)(P?P.getFlexProperties():{}),j=p?(0,u.getPlatformStyles)(p):{},k=j.shadowColor,T=j.shadowOffset,O=j.shadowRadius,M=j.iconSize,E=j.iconColor,R=(j.typography,(0,a.default)(j,g)),_=R.typography,A=R.subHeadingTypography,V=R.color,D=(0,a.default)(R,y),W=d.default.isEmpty(r.get("horizontalAlign","auto"))?"auto":r.get("horizontalAlign","auto"),L=d.default.isEmpty(r.get("verticalAlign","auto"))?"auto":r.get("verticalAlign","auto"),B=r.get("overflowType")?r.get("overflowType"):"hidden",F=!d.default.isEmpty(w),N=(null==(o=r.get("iconType"))?void 0:o.toString())||"Material Icons",H=r.get("iconName")||"help",U=(0,s.useCallback)((function(){h(F?"onLoggedInTap":"onGuestInTap")}),[h,F]);return C?(0,f.jsx)(v,{layoutStyles:Object.assign({},I,D,{height:null==_?void 0:_.fontSize,minWidth:"75%"})}):(0,f.jsxs)(c.View,{ref:t,style:[I,R,D,{padding:8},{textShadowColor:k,textShadowOffset:T,textShadowRadius:O}],children:[(0,f.jsxs)(c.Pressable,{onPress:U,children:[(0,f.jsx)(c.Text,{style:[_,{padding:2,color:V},{textAlign:["auto","left","center","right"].includes(W)?W:"auto",textAlignVertical:["auto","top","center","bottom"].includes(L)?L:"auto",overflow:B}],children:F?w.firstName+" "+(null==w?void 0:w.lastName):"Hello Guest"}),(0,f.jsx)(c.Text,{style:[A,{padding:2,color:V},{textAlign:["auto","left","center","right"].includes(W)?W:"auto",textAlignVertical:["auto","top","center","bottom"].includes(L)?L:"auto",overflow:B},{textShadowColor:k,textShadowOffset:T,textShadowRadius:O}],children:F?w.email:"Login"})]}),F?(0,f.jsx)(c.Pressable,{style:{position:"absolute",top:0,right:4,padding:4},onPress:U,children:(0,f.jsx)(u.Icon,{iconType:N,name:H,style:[I,R,{fontSize:M,color:E}]})}):(0,f.jsx)(f.Fragment,{})]})})),b={basic:[].concat((0,r.default)(u.defaultEditors.basic),[{type:"iconChooserInput",name:"iconName",props:{label:"Icon Name",placeholder:"help"}}]),layout:u.defaultEditors.layout},S={isLoading:{getValue:function(e,t){return(0,u.makeBoolean)(t)}},onLoggedInTap:{type:u.EventTriggerIdentifier},onGuestInTap:{type:u.EventTriggerIdentifier},iconName:{getValue:function(e,t){return t}}};t.default=(0,u.connectWidget)("ProfileWidget",v,{value:"Text",onLoggedInTap:"",onGuestInTap:"",iconName:"",iconType:"Material Icon",isLoading:""},null,b,{propertySettings:S,widgetStyleConfig:(0,u.mergeWithDefaultStyles)(h),pluginListing:{labelPrefix:"profileWidget",type:"widget",name:"ProfileWidget",description:"Display Text on screen with varying styles.",layout:{flex:1},section:"Display",icon:"text"},docs:p.default,animations:{references:{textValue:{name:"textValue"}}},themeProfileSel:["tile","text"]})},9359:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},8042:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.progressBarStyleConfig=t.default=void 0;var r=o(n(7128)),a=o(n(6840)),i=n(892),l=o(n(9359)),u=o(n(3216)),d=n(6352),s=n(4178),c=["foregroundColor"],p=t.progressBarStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background"}},{type:"colorInput",name:"foregroundColor",props:{label:"Foreground"}}],f=a.default.forwardRef((function(e,t){var n,o=e.model,a=e.modelStyles,l=e.config,p=null==(n=o.get("value",0))?void 0:n.toString(),f=u.default.clamp(0,Number(p),100),g=l.get("layout"),m=(0,i.getPlatformStyles)(g?g.getFlexProperties():{flex:1}),h=a?(0,i.getPlatformStyles)(a):{},v=u.default.toInteger(l.getIn(["style","elevation"],0)),b=Object.assign({},(0,i.getShadowStyle)(v),{elevation:v}),S=h.foregroundColor,w=(0,r.default)(h,c);return(0,s.jsx)(d.View,{ref:t,style:[m,w,b,{overflow:"hidden"}],children:(0,s.jsx)(d.View,{style:[y.foregroundContainer,{width:`${f}%`},{backgroundColor:S}]})})})),g={basic:i.defaultEditors.basic,layout:i.defaultEditors.layout},y=d.StyleSheet.create({foregroundContainer:{height:"100%"}});t.default=(0,i.connectWidget)("ProgressBarWidget",f,{value:""},null,g,{propertySettings:{},widgetStyleConfig:(0,i.mergeWithDefaultStyles)(p),pluginListing:{labelPrefix:"progressBar",type:"widget",name:"Progress Bar",description:"Show progress bar on screen",layout:{flex:1,width:"100%",height:"10"},section:"Display",icon:"container"},docs:l.default,themeProfileSel:["tile","progressBar"]})},4905:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7128)),a=(o(n(6840)),n(6352)),i=n(892),l=o(n(3216)),u=n(4178),d=["backgroundColor","borderColor","color","selectedBackgroundColor","disabledBackgroundColor","strikedBackgroundColor","selectedBorderColor","disabledBorderColor","strikedBorderColor","selectedTextColor","disabledTextColor","strikedTextColor","selectedTypography","disabledTypography","typography","border","padding","paddingLeft","paddingRight","paddingBottom","paddingTop"];t.default=function(e){var t,n,o=e.activeTypography,s=e.handleSelection,c=e.horizontalAlign,p=e.item,f=e.itemSelected,g=e.itemLayoutStyles,y=e.modelPlatformStyles,m=e.shadowStyles,h=e.verticalAlign,v=e.radioGroupType,b=e.modelStyles,S=null!=y?y:{},w=S.backgroundColor,x=S.borderColor,P=S.color,C=S.selectedBackgroundColor,I=S.disabledBackgroundColor,j=S.strikedBackgroundColor,k=S.selectedBorderColor,T=S.disabledBorderColor,O=S.strikedBorderColor,M=S.selectedTextColor,E=S.disabledTextColor,R=S.strikedTextColor,_=(S.selectedTypography,S.disabledTypography),A=S.typography,V=(S.border,S.padding),D=S.paddingLeft,W=S.paddingRight,L=S.paddingBottom,B=S.paddingTop,F=(0,r.default)(S,d),N=(0,i.useIsEditable)(),H=b.width,U=b.height,z=b.margin,$=f?C:null!=p&&p.striked?j:null!=p&&p.disabled?I:w,G=f?k:null!=p&&p.striked?O:null!=p&&p.disabled?T:x,q=f?M:null!=p&&p.striked?R:null!=p&&p.disabled?E:P,Y={paddingTop:V,paddingBottom:V,paddingLeft:V,paddingRight:V};return l.default.isNil(B)||(Y.paddingTop=B),l.default.isNil(D)||(Y.paddingLeft=D),l.default.isNil(W)||(Y.paddingRight=W),l.default.isNil(L)||(Y.paddingBottom=L),(0,u.jsxs)(a.Pressable,{disabled:null==p?void 0:p.disabled,onPress:N?function(){}:function(){return s(p)},style:[m,F,Y,{margin:null!=z?z:5},{backgroundColor:$},{borderColor:G}],children:["Text"===v?(0,u.jsx)(a.Text,{style:Object.assign({textAlign:c,textAlignVertical:h},b,A,o,null!=p&&p.disabled?_:{},g,{color:q,textDecorationLine:null!=p&&p.striked?"line-through":"none"}),children:p.name}):(0,u.jsx)(u.Fragment,{}),"Color"===v?(0,u.jsx)(a.View,{style:Object.assign({width:null!=H?H:40,height:null!=U?U:40,backgroundColor:p.name,borderRadius:null!=(t=F.borderRadius)?t:4},g)}):(0,u.jsx)(u.Fragment,{}),"Image"===v?(0,u.jsx)(a.Image,{style:Object.assign({width:null!=H?H:40,height:null!=U?U:40,borderRadius:null!=(n=F.borderRadius)?n:4},g),source:{uri:p.name}}):(0,u.jsx)(u.Fragment,{})]})}},4137:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The selected value."},displayValue:{"!type":"string","!doc":"The selected display value."},horizontalAlign:{"!type":"string","!doc":'Horizontal alignment of Text. One of:  "auto", "left", "center", "right", "justify"'},verticalAlign:{"!type":"string","!doc":'Horizontal alignment of Text. One of:  "auto", "top", "center", "bottom"'},overflowType:{"!type":"string","!doc":'Overflow behaivour. One of: "hidden", "visible"'}}},6236:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RadioGroupStyleConfig=void 0;var r=o(n(7128)),a=o(n(5971)),i=o(n(7488)),l=m(n(6840)),u=n(6352),d=n(892),s=o(n(4137)),c=m(n(3216)),p=o(n(4905)),f=n(4178),g=["typography","selectedTypography"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}var h=t.RadioGroupStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"color",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"selectedBackgroundColor",props:{label:"SelectedBackground",placeholder:"#HexCode"}},{type:"colorInput",name:"selectedTextColor",props:{label:"Selected Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledBackgroundColor",props:{label:"Disabled Item Background",placeholder:"#HexCode"}},{type:"colorInput",name:"strikedBackgroundColor",props:{label:"Striked Item Background",placeholder:"#HexCode"}},{type:"colorInput",name:"strikedTextColor",props:{label:"Striked Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledTextColor",props:{label:"Disabled Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}},{type:"typographyInput",name:"selectedTypography",props:{label:"Selected Typography",placeholder:"typography.body"}},{type:"typographyInput",name:"disabledTypography",props:{label:"Disabled Typography",placeholder:"typography.body"}},{type:"codeInput",name:"itemWidth",props:{label:"Item width",placeholder:""}},{type:"codeInput",name:"itemHeight",props:{label:"Item height",placeholder:""}},{type:"borderRadiusEditor",name:"borderRadius",props:{label:"Border Radius",placeholder:"0",options:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],layout:"square"}},{type:"trblValuesEditor",name:"padding",props:{label:"Padding",placeholder:"0",options:["paddingTop","paddingRight","paddingBottom","paddingLeft"]}},{type:"trblValuesEditor",name:"margin",props:{label:"Margin",placeholder:"0",options:["marginTop","marginRight","marginBottom","marginLeft"]}},{type:"trblValuesEditor",name:"itemMargin",props:{label:"Item Margin",placeholder:"0",options:["marginTop","marginRight","marginBottom","marginLeft"]}},{type:"trblValuesEditor",name:"borderWidth",props:{label:"Border",placeholder:"0",options:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"]}},{type:"colorInput",name:"borderColor",props:{label:"Border Color",placeholder:"transparent"}},{type:"colorInput",name:"selectedBorderColor",props:{label:"Selected Border Color",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledBorderColor",props:{label:"Disabled Border Color",placeholder:"#HexCode"}},{type:"colorInput",name:"strikedBorderColor",props:{label:"Striked Border Color",placeholder:"#HexCode"}}],v=l.default.forwardRef((function(e,t){var n,o=e.model,s=e.modelStyles,y=e.modelUpdate,m=e.config,h=e.triggerEvent,v=o.get("value"),b=(0,d.usePlaceHolder)(),S=l.default.useState(v),w=(0,i.default)(S,2),x=w[0],P=w[1];(0,l.useEffect)((function(){c.default.isEqual(v,x)||y([{selector:["value"],newValue:v}]),P(v)}),[y,h,v]);var C=o.get("enableHaptics"),I=o.get("hapticMethod"),j=o.get("radioGroupType"),k=o.get("input"),T=!!o.get("isLoading");k=Array.isArray(k)?k:[];var O=(0,l.useCallback)((function(e){P(null==e?void 0:e.value),C&&(0,d.performHapticFeedback)(I),y([{selector:["value"],newValue:null==e?void 0:e.value}])}),[C,I,y]),M=(0,l.useCallback)((function(e){C&&(0,d.performHapticFeedback)(I);var t=x||[];Array.isArray(t)||(t=[t]),t.includes(null==e?void 0:e.value)?t=t.filter((function(t){return t!==e.value})):t.push(null==e?void 0:e.value),P((0,a.default)(t)),y([{selector:["value"],newValue:(0,a.default)(t)}])}),[C,I,y,x]),E=o.get("isMultiSelect",!1),R=(0,l.useCallback)((function(e){E?M(e):O(e),setTimeout((function(){return h("onTap")}),50)}),[M,O,E,h]),_=m.get("layout"),A=(0,d.getPlatformStyles)(_?_.getNonContainerFlexProperties():{flex:1}),V=(0,d.getPlatformStyles)(_?null==_?void 0:_.getContainerFlexProperties():{flex:1}),D=(0,d.getPlatformStyles)(s),W={};o.get("itemOverflow")&&(W.overflow=o.get("itemOverflow")),o.get("itemWrap")&&(W.flexWrap=o.get("itemWrap")),o.get("itemAlignSelf")&&(W.alignSelf=o.get("itemAlignSelf"));var L={},B=s.itemWidth,F=s.itemHeight,N=s.itemMargin;N&&(L.margin=N),F&&(L.height=F),B&&(L.width=B);var H=(0,c.toInteger)(m.getIn(["style","elevation"],0)),U=Object.assign({},(0,d.getShadowStyle)(H),{elevation:H}),z="scroll"===(null==V?void 0:V.overflow),$=z?u.ScrollView:u.View,G=z?{contentContainerStyle:V,horizontal:"row"===(null==V?void 0:V.flexDirection),showsHorizontalScrollIndicator:!1}:{},q=D||{},Y=q.typography,K=q.selectedTypography,J=(0,r.default)(q,g);return T?(0,f.jsx)(b,{layoutStyles:Object.assign({},A,J,{minHeight:35})}):(0,f.jsx)($,Object.assign({ref:t},G,{style:[{margin:null!=(n=D.margin)?n:0},A,z?{}:V],children:k.map((function(e,t){var n=Array.isArray(x)&&x.includes(e.value)||x===e.value,o=n?K:Y;return(0,f.jsx)(p.default,{activeTypography:o,handleSelection:R,horizontalAlign:D.alignItems,item:e,itemSelected:n,radioGroupType:j,itemLayoutStyles:W,modelPlatformStyles:D,shadowStyles:U,modelStyles:L,verticalAlign:D.justifyContent},`${v}-${t}`)}))}))})),b={basic:[{type:"codeInput",name:"input",props:{label:"Input Options [{name,value,disabled}]",placeholder:""}},{type:"codeInput",name:"value",props:{label:"value",placeholder:""}},{type:"radioGroup",name:"isMultiSelect",props:{label:"MultiSelect",options:["true","false"]}},{type:"radioGroup",name:"radioGroupType",defaultValue:"Text",props:{label:"RadioGroup Type",options:["Image","Text","Color"]}},{type:"codeInput",name:"isLoading",props:{label:"Loading State"}}],advanced:d.hapticEditors.advanced,layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0}},{type:"radioGroup",name:"itemOverflow",props:{label:"Item Overflow",options:["Visible","Hidden","Scroll"]}},{type:"radioGroup",name:"itemWrap",props:{label:"Item Wrap",options:[{icon:"wrap",text:"Wrap",value:"wrap"},{icon:"wrap-disabled",text:"No-Wrap",value:"nowrap"}]}},{type:"radioGroup",name:"itemAlignSelf",props:{label:"Item Align Self",options:["auto","flex-start","flex-end","center","stretch","baseline"]}}]},S={value:{getValue:function(e,t,n){var o;return null!=e&&e.isMultiSelect?t=c.default.isArray(t)?t:[]:t?null==(o=t)?void 0:o.toString():""}},enableHaptics:{getValue:function(e,t,n){return(0,d.makeBoolean)(t)}},isMultiSelect:{getValue:function(e,t,n){return(0,d.makeBoolean)(t)}},onTap:{type:d.EventTriggerIdentifier},isLoading:{getValue:function(e,t,n){return(0,d.makeBoolean)(t)}}};t.default=(0,d.connectWidget)("RadioGroupWidget",v,{value:"",isMultiSelect:!1,input:'{{[{name: "Text", value: "new", isDisabled?: false}]}}',onTap:"",enableHaptics:"",hapticMethod:"",isLoading:!1,radioGroupType:"Text",itemAlignSelf:"center"},null,b,{propertySettings:S,widgetStyleConfig:(0,d.mergeWithDefaultStyles)(h),pluginListing:{labelPrefix:"RadioGroup",type:"widget",name:"RadioGroup",description:"Displays radio group button.",section:"Display",layout:{flex:1,flexDirection:"row",width:70},icon:"radio-button"},docs:s.default,themeProfileSel:["tile","radioGroup"]})},5815:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={minBoundary:{"!type":"number","!doc":"The Minimum boundary for slider."},maxBoundary:{"!type":"number","!doc":"The Maximum boundary for slider."},minCurrentVal:{"!type":"number","!doc":"The Minimum Initial Value for slider."},maxCurrentVal:{"!type":"number","!doc":"The Maximum Initial Value for slider."},sliderType:{"!type":"string","!doc":'Slider Type of Slider Component. One of:  "2 Way", "1 Way"'}}},2930:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RangeSliderWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(2584)),i=o(n(3664)),l=o(n(3815)),u=o(n(5259)),d=o(n(5144)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),c=n(6352),p=n(892),f=o(n(5815)),g=n(4178);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t,n){return t=(0,u.default)(t),(0,l.default)(e,h()?Reflect.construct(t,n||[],(0,u.default)(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var v={minBoundary:0,maxBoundary:100,minCurrentVal:0,maxCurrentVal:100,sliderType:"2 Way",showLabel:"Show",showBreakpoints:"Hide",breakpointsType:"Static",breakpoints:"",onChange:"",prefix:"",hideMinSlider:"Show"},b=t.RangeSliderWidgetStyleConfig=[{type:"codeInput",name:"lineThickness",props:{label:"Line Thickness",placeholder:"4"}},{type:"codeInput",name:"minIconSize",props:{label:"Min Icon Size",placeholder:"20"}},{type:"codeInput",name:"maxIconSize",props:{label:"Max Icon Size",placeholder:"25"}},{type:"codeInput",name:"breakpointHeight",props:{label:"Breakpoint Height",placeholder:"6"}},{type:"codeInput",name:"breakpointWidth",props:{label:"Breakpoint Width",placeholder:"2"}},{type:"colorInput",name:"fontColor",props:{label:"Font Color",placeholder:"transparentBackground"}},{type:"colorInput",name:"selectedLineColor",props:{label:"Selected Line Color",placeholder:"transparentBackground"}},{type:"colorInput",name:"lineColor",props:{label:"Line Color",placeholder:"transparentBackground"}},{type:"colorInput",name:"breakpointColor",props:{label:"Breakpoint Color",placeholder:"transparentBackground"}},{type:"colorInput",name:"iconColor",props:{label:"Icon Color",placeholder:"transparentBackground"}},{type:"colorInput",name:"endPointsBackground",props:{label:"End Points Background",placeholder:"transparentBackground"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}}],S=c.StyleSheet.create({line:{height:"100%",width:"100%",position:"absolute"},circle:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.24,shadowRadius:2.8,elevation:3,alignItems:"center",justifyContent:"center",flexDirection:"row",flexWrap:"wrap",overflow:"visible",padding:2},labelContainer:{alignItems:"center",justifyContent:"center",width:"100%",bottom:0,wordBreak:"break-all",textAlign:"center"}}),w=function(e){function t(e){var n;return(0,a.default)(this,t),(n=m(this,t,[e])).state={rootBoxWidth:0},n}return(0,d.default)(t,e),(0,i.default)(t,[{key:"setRootboxWidth",value:function(e){this.setState({rootBoxWidth:e})}},{key:"render",value:function(){var e=this.props,t=e.breakpoints,n=e.minBoundary,o=e.maxBoundary,r=e.breakpointColor,a=e.breakpointHeight,i=e.breakpointWidth,l=.8*this.state.rootBoxWidth,u=.1*this.state.rootBoxWidth;return t.map((function(e,t){var d=u+(e-n)/(o-n)*l;return(0,g.jsx)(c.View,{style:{backgroundColor:r,height:a,width:i,borderRadius:5,left:d,position:"absolute"}},"breakpoint-"+t)}))}}])}(s.default.Component),x=s.default.forwardRef((function(e){var t=c.Platform.OS,n=e.model,o=e.modelUpdate,r=e.modelStyles,a=e.triggerEvent,i=(0,p.getPlatformStyles)(r),l=i.typography,u=n.get("icon")?n.get("icon"):"circle",d=n.get("minBoundary")?parseInt(n.get("minBoundary"),10):v.minBoundary;d=isNaN(d)?0:d;var f=n.get("maxBoundary")?1*parseInt(n.get("maxBoundary"),10):v.maxBoundary;f=isNaN(f)?100:f;var y=n.get("hideMinSlider","Show"),m=n.get("prefix"),h=n.get("minCurrentVal"),b=parseInt(h,10);b=isNaN(b)?d:b;var x=(0,s.useRef)(null),P=(0,s.useRef)(b<d?d:b),C=(0,s.useRef)(0),I=(0,s.useRef)(P.current),j=n.get("maxCurrentVal"),k=parseInt(j,10);k=isNaN(k)?f:k;var T=(0,s.useRef)(k>f?f:k),O=(0,s.useRef)(0),M=(0,s.useRef)(T.current),E=(0,s.useRef)(0),R=n.get("sliderType")?n.get("sliderType"):"2 Way",_=[],A=n.get("breakpoints"),V="Show"===n.get("showBreakpoints"),D=n.get("breakpointsType")?n.get("breakpointsType"):"Static";if("Fixed Difference"===D)for(var W=parseFloat(A)||(f-d)/10,L=d;L<f;L+=W)_.push(L);else if("Fixed Total Breakpoints"===D){var B=parseInt(null!=A?A:5,10);B=isNaN(B)?5:B;for(var F=Math.floor((f-d)/B),N=0;N<B;N++)_.push(d+N*F)}else A.trim()&&(_=A.split(",").map((function(e){var t=parseInt(e,10);return isNaN(t)?0:t})));var H=null!=i&&i.selectedLineColor?null==i?void 0:i.selectedLineColor:"#008ee6",U=null!=i&&i.lineColor?null==i?void 0:i.lineColor:"#888888",z=null!=i&&i.breakpointColor?null==i?void 0:i.breakpointColor:"#555555",$=null!=i&&i.lineThickness?null==i?void 0:i.lineThickness:4,G=null!=i&&i.iconColor?null==i?void 0:i.iconColor:"#008ee6",q=null!=i&&i.minIconSize?parseInt(null==i?void 0:i.minIconSize,10):20,Y=null!=i&&i.maxIconSize?parseInt(null==i?void 0:i.maxIconSize,10):25,K=null!=i&&i.breakpointHeight?parseInt(null==i?void 0:i.breakpointHeight,10):6,J=null!=i&&i.breakpointWidth?parseInt(null==i?void 0:i.breakpointWidth,10):2,Q=null!=i&&i.endPointsBackground?null==i?void 0:i.endPointsBackground:"#ffffff",Z=null!=i&&i.fontColor?null==i?void 0:i.fontColor:"#ffffff",X=n.get("showLabel");V&&_.length>0&&(_[0]!==d&&_.unshift(d),_[_.length-1]!==f&&_.push(f));var ee=(0,s.useRef)(new c.Animated.Value(0)).current,te=(0,s.useRef)(new c.Animated.Value(300)).current,ne=(0,s.useRef)(new c.Animated.ValueXY({x:300,y:100})).current,oe=(0,s.useRef)(300),re=(0,s.useCallback)((function(e){var t=.8*oe.current;return.1*oe.current+(e-d)/(f-d)*t}),[oe.current]),ae=(0,s.useCallback)((function(e){var t=.8*oe.current,n=.1*oe.current;return d+(e-n)/t*(f-d)}),[oe.current]),ie=(0,s.useRef)(null),le=(0,s.useRef)(null),ue=(0,s.useRef)(null),de=(0,s.useCallback)((function(e){ne.setValue({x:e.width,y:e.height}),oe.current=e.width,x.current&&x.current.setRootboxWidth(e.width);var n=re(P.current);ee.setValue(n);var o,r,a,i=re(T.current);te.setValue(i),ie.current&&("web"!==t&&"web"!==t?null==(o=ie.current)||o.setNativeProps({text:m+Math.floor(P.current).toString()}):ie.current.value=m+Math.floor(P.current).toString()),le.current&&("web"!==t?null==(r=le.current)||r.setNativeProps({text:m+Math.floor(T.current).toString()}):le.current.value=m+Math.floor(T.current).toString()),ue.current&&("web"!==t?null==(a=ue.current)||a.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(T.current).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(T.current).toString()}`)}),[ne,ee,te,ie.current,le.current,ue.current]),se=function(e,t){logger.info("[LIFECYCLE] handleChange: ",e,t),o([{selector:[e],newValue:t}])},ce=c.Platform.select({android:4,ios:1,web:1}),pe=s.default.useRef(c.PanResponder.create({onMoveShouldSetPanResponder:function(){return ee.setOffset(ee._value),C.current=ee._value,E.current=0,I.current=P.current,!0},onPanResponderMove:c.Animated.event([null,{dx:ee}],{listener:function(e,n){var o=n.dx;if(Math.abs(o-E.current)>ce){E.current=o;var r,a,i=n.dx,l=C.current+i,u=ae(l);ie.current&&("web"!==t?null==(r=ie.current)||r.setNativeProps({text:m+Math.floor(u).toString()}):ie.current.value=m+Math.floor(u).toString()),ue.current&&("web"!==t?null==(a=ue.current)||a.setNativeProps({text:`${m}${Math.floor(u).toString()} - ${m}${Math.floor(T.current).toString()}`}):ue.current.value=`${m}${Math.floor(u).toString()} - ${m}${Math.floor(T.current).toString()}`),P.current=u}}}),onPanResponderRelease:function(){ee.flattenOffset();var e=P.current;if(e<d){e=d;var n,o,r=re(d);c.Animated.spring(ee,{toValue:r,useNativeDriver:!1}).start(),ie.current&&("web"!==t?null==(n=ie.current)||n.setNativeProps({text:m+Math.floor(d).toString()}):ie.current.value=m+Math.floor(d).toString()),ue.current&&("web"!==t?null==(o=ue.current)||o.setNativeProps({text:`${m}${Math.floor(d).toString()} - ${m}${Math.floor(T.current).toString()}`}):ue.current.value=`${m}${Math.floor(d).toString()} - ${m}${Math.floor(T.current).toString()}`)}else if(e>T.current){e=I.current;var a,i,l=re(e);c.Animated.spring(ee,{toValue:l,useNativeDriver:!1}).start(),ie.current&&("web"!==t?null==(a=ie.current)||a.setNativeProps({text:m+Math.floor(P.current).toString()}):ie.current.value=m+Math.floor(P.current).toString()),ue.current&&("web"!==t?null==(i=ue.current)||i.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(e).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(e).toString()}`)}else if(V){for(var u=null,s=null,p=0;p<_.length-1;++p)if(_[p]<e&&e<_[p+1]){u=_[p],s=_[p+1];break}u&&s&&(e=e-u<s-e?u:s);var f,g,y=re(e);"ios"===c.Platform.OS?c.Animated.spring(ee,{toValue:y,useNativeDriver:!1}).start():ee.setValue(y),ie.current&&("web"!==t?null==(f=ie.current)||f.setNativeProps({text:m+Math.floor(e).toString()}):ie.current.value=m+Math.floor(e).toString()),ue.current&&("web"!==t?null==(g=ue.current)||g.setNativeProps({text:`${m}${Math.floor(e).toString()} - ${m}${Math.floor(e).toString()}`}):ue.current.value=`${m}${Math.floor(e).toString()} - ${m}${Math.floor(e).toString()}`)}P.current=e,se("minCurrentVal",e)}})).current,fe=s.default.useRef(c.PanResponder.create({onMoveShouldSetPanResponder:function(){return te.setOffset(te._value),O.current=te._value,E.current=0,M.current=T.current,!0},onPanResponderMove:c.Animated.event([null,{dx:te}],{listener:function(e,n){var o=n.dx;if(Math.abs(o-E.current)>ce){E.current=o;var r,a,i=n.dx,l=O.current+i,u=ae(l);le.current&&("web"!==t?null==(r=le.current)||r.setNativeProps({text:m+Math.floor(u).toString()}):le.current.value=m+Math.floor(u).toString()),ue.current&&("web"!==t?null==(a=ue.current)||a.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(u).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(u).toString()}`),T.current=u}}}),onPanResponderRelease:function(){te.flattenOffset();var e=T.current;if(e>f){e=f;var n,o,r=re(f);c.Animated.spring(te,{toValue:r,useNativeDriver:!1}).start(),le.current&&("web"!==t?null==(n=le.current)||n.setNativeProps({text:m+Math.floor(f).toString()}):le.current.value=m+Math.floor(f).toString()),ue.current&&("web"!==t?null==(o=ue.current)||o.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(f).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(f).toString()}`)}else if(e<P.current){e=M.current;var a,i,l=re(e);c.Animated.spring(te,{toValue:l,useNativeDriver:!1}).start(),le.current&&("web"!==t?null==(a=le.current)||a.setNativeProps({text:m+Math.floor(e).toString()}):le.current.value=m+Math.floor(e).toString()),ue.current&&("web"!==t?null==(i=ue.current)||i.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(e).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(e).toString()}`)}else if(V){for(var u=null,d=null,s=0;s<_.length-1;++s)if(_[s]<e&&e<_[s+1]){u=_[s],d=_[s+1];break}u&&d&&(e=e-u<d-e?u:d);var p,g,y=re(e);"ios"===c.Platform.OS?c.Animated.spring(te,{toValue:y,useNativeDriver:!1}).start():te.setValue(y),le.current&&("web"!==t?null==(p=le.current)||p.setNativeProps({text:m+Math.floor(e).toString()}):le.current.value=m+Math.floor(e).toString()),ue.current&&("web"!==t?null==(g=ue.current)||g.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(e).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(e).toString()}`)}T.current=e,se("maxCurrentVal",e)}})).current;(0,s.useEffect)((function(){var e,o,r;(!n.get("minCurrentVal")||b<d)&&se("minCurrentVal",P.current),(!n.get("maxCurrentVal")||k>f)&&se("maxCurrentVal",T.current),ie.current&&("web"!==t?null==(e=ie.current)||e.setNativeProps({text:m+Math.floor(P.current).toString()}):ie.current.value=m+Math.floor(P.current).toString()),le.current&&("web"!==t?null==(o=le.current)||o.setNativeProps({text:m+Math.floor(T.current).toString()}):le.current.value=m+Math.floor(T.current).toString()),ue.current&&("web"!==t?null==(r=ue.current)||r.setNativeProps({text:`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(T.current).toString()}`}):ue.current.value=`${m}${Math.floor(P.current).toString()} - ${m}${Math.floor(T.current).toString()}`)}),[]),(0,s.useEffect)((function(){var e=n.get("minCurrentVal"),t=n.get("maxCurrentVal");P.current!==e&&T.current!==t||(logger.info("[LIFECYCLE] trigger on change: ",e,t),a("onChange"))}),[n,P,T]);var ge=.5*(q+5),ye=.5*(Y+5),me=V?(0,g.jsx)(c.Animated.View,{style:{top:c.Animated.subtract(c.Animated.divide(ne.y,2),.5*$+1),width:ne.x,position:"absolute"},children:(0,g.jsx)(w,{ref:x,breakpoints:_,minBoundary:d,maxBoundary:f,breakpointColor:z,breakpointHeight:K,breakpointWidth:J,rootBoxWidth:oe.current})}):null,he=c.Platform.select({web:{userSelect:"none"},ios:{},android:{}});return(0,g.jsxs)(c.View,{style:[{overflow:"hidden",width:"100%",aspectRatio:3,position:"relative"}],onLayout:function(e){return de(e.nativeEvent.layout)},children:["ShowFixed"===X&&(0,g.jsx)(c.TextInput,{ref:ue,style:{position:"absolute",textAlign:"center",top:10,left:"10%",color:Z},editable:!1}),(0,g.jsx)(c.Animated.View,{style:[{overflow:"hidden",flexDirection:"row",position:"relative",backgroundColor:U,height:$,width:c.Animated.multiply(.8,ne.x),left:c.Animated.multiply(.1,ne.x),top:c.Animated.subtract(c.Animated.multiply(.5,ne.y),.5*$)}]},"full-line"),(0,g.jsx)(c.Animated.View,{style:[{backgroundColor:H,position:"absolute",height:$,width:c.Animated.subtract(te,ee),transform:[{translateX:ee}],top:c.Animated.subtract(c.Animated.multiply(.5,ne.y),.5*$)}]},"selected-line"),me,"Show"===y&&(0,g.jsxs)(c.Animated.View,Object.assign({style:[{position:"absolute",width:q+10,height:ne.y,flexDirection:"column",justifyContent:"center",alignItems:"center",transform:[{translateX:c.Animated.subtract(ee,ye)}]},he]},"2 Way"===R?pe.panHandlers:{},{children:["Show"===X&&(0,g.jsx)(c.TextInput,{ref:ie,style:{position:"absolute",textAlign:"center",top:10,color:Z,width:100},editable:!1}),(0,g.jsx)(c.View,{style:[S.circle,{backgroundColor:Q,borderRadius:q+5,width:q+5,height:q+5}],children:(0,g.jsx)(c.View,{style:{alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,g.jsx)(p.MaterialCommunityIcons,{name:u,size:q,color:G})})})]}),"min-slider"),(0,g.jsxs)(c.Animated.View,Object.assign({style:[{position:"absolute",width:Y+10,height:ne.y,flexDirection:"column",justifyContent:"center",alignItems:"center",transform:[{translateX:c.Animated.subtract(te,ge)}]},he]},fe.panHandlers,{children:["Show"===X&&(0,g.jsx)(c.TextInput,{ref:le,style:[l,{position:"absolute",textAlign:"center",top:10,color:Z,width:100}],editable:!1}),(0,g.jsx)(c.View,{style:[S.circle,{backgroundColor:Q,borderRadius:Y+5,width:Y+5,height:Y+5}],children:(0,g.jsx)(c.View,{style:{alignItems:"center",justifyContent:"center",overflow:"hidden"},children:(0,g.jsx)(p.MaterialCommunityIcons,{name:u,size:Y,color:G})})})]}),"max-slider")]},"root-container")})),P={basic:[{type:"codeInput",name:"icon",props:{label:"Slider Icon",placeholder:"circle"}},{type:"codeInput",name:"minBoundary",props:{label:"Min Boundary",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"maxBoundary",props:{label:"Max Boundary",placeholder:"{{textInput1.value}}"}},{type:"codeInput",name:"minCurrentVal",props:{label:"Min. Current Value (no binding)",placeholder:"0"}},{type:"codeInput",name:"maxCurrentVal",props:{label:"Max. Current Value (no binding)",placeholder:"100"}},{type:"radioGroup",name:"hideMinSlider",props:{label:"Hide min slider",options:["Show","Hide"]}},{type:"radioGroup",name:"sliderType",props:{label:"Slider Type",options:["2 Way","1 Way"]}},{type:"radioGroup",name:"showLabel",props:{label:"Show Label",options:["Show","ShowFixed","Hide"]}},{type:"radioGroup",name:"showBreakpoints",props:{label:"Show Breakpoints",options:["Show","Hide"]}},{type:"radioGroup",name:"breakpointsType",props:{label:"Breakpoints Type",options:["Static","Fixed Difference","Fixed Total Breakpoints"]}},{type:"codeInput",name:"breakpoints",props:{label:"Breakpoints",placeholder:"25,50,75(Static) or 10(Fixed)"}},{type:"codeInput",name:"prefix",props:{label:"Label prefix",placeholder:"₹"}}],layout:(0,r.default)(p.defaultEditors.layout)},C={onChange:{type:p.EventTriggerIdentifier}};t.default=(0,p.connectWidget)("RangeSliderWidget",x,v,null,P,{propertySettings:C,widgetStyleConfig:(0,p.mergeWithDefaultStyles)(b),pluginListing:{labelPrefix:"rangeSlider",type:"widget",name:"Range-Slider",description:"Display A 2/1 Way Range Slider",layout:{flex:1,flexDirection:"row"},section:"Display",icon:"slider-range",defaultHeight:0,defaultWidth:0},docs:f.default,themeProfileSel:["tile","rangeSlider"]})},1236:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"number","!doc":"The value displayed by the widget."},readType:{"!type":"string","!doc":'Read Type of Rating Component. One of:  "Rating Selector", "Read Only"'}}},1669:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.ratingWidgetStyleConfig=t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(892),d=o(n(1236)),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=t.ratingWidgetStyleConfig=[{type:"codeInput",name:"fontSize",props:{label:"Size",placeholder:"0"}},{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"colorInput",name:"color",props:{label:"Text Color",placeholder:"#HexCode"}}],f=i.default.forwardRef((function(e,t){var n=e.model,o=e.modelUpdate,d=e.modelStyles,c=e.config,p=e.triggerEvent,f=n.get("value")?n.get("value"):0,g=!!n.get("readonly")&&n.get("readonly"),y=c.get("layout"),m=(0,u.getPlatformStyles)(y?y.getFlexProperties():{flex:5,flexDirection:"row"}),h=(0,u.getPlatformStyles)(d),v=n.get("horizontalAlign","left"),b=n.get("verticalAlign","auto"),S=n.get("flexDirection","row"),w=(0,i.useState)(f),x=(0,a.default)(w,2),P=x[0],C=x[1];(0,i.useEffect)((function(){P!==f&&C(f)}),[P,f,o]);var I=(0,i.useCallback)((function(e){C(e),P!==e&&o([{selector:["value"],newValue:e}]),p("onChange")}),[o,p,P]);return g?(0,s.jsx)(l.View,{ref:t,style:[m,h,{textAlign:v,textAlignVertical:b,flexDirection:S}],children:(0,r.default)(new Array(5)).map((function(e,t){return t<P?(0,s.jsx)(u.MaterialCommunityIcons,{style:[m,h,{textAlign:v,textAlignVertical:b}],name:t==Math.floor(P)&&Math.round(P)-t==1?"star-half-full":P-t>0&&P-t<1?"star-outline":"star"},t):(0,s.jsx)(u.MaterialCommunityIcons,{style:[m,h,{textAlign:v,textAlignVertical:b}],name:"star-outline"},t)}))}):(0,s.jsx)(l.View,{ref:t,style:[m,h,{textAlign:v,textAlignVertical:b,flexDirection:S}],children:(0,r.default)(new Array(5)).map((function(e,t){return t<P?(0,s.jsx)(l.TouchableOpacity,{activeOpacity:.7,onPress:function(){return I(t+1)},children:(0,s.jsx)(u.MaterialCommunityIcons,{style:[m,h,{textAlign:v,textAlignVertical:b}],name:t==Math.floor(P)&&Math.round(P)-t==1?"star-half-full":P-t>0&&P-t<1?"star-outline":"star"})},t):(0,s.jsx)(l.TouchableOpacity,{activeOpacity:.7,onPress:function(){return I(t+1)},children:(0,s.jsx)(u.MaterialCommunityIcons,{style:[m,h,{textAlign:v,textAlignVertical:b}],name:"star-outline"})},t)}))})})),g={basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:"{{textInput1.value}}"}},{type:"checkbox",name:"readonly",props:{label:"Read Only"}}],layout:(0,r.default)(u.defaultEditors.layout)},y={value:{getValue:function(e,t,n){return isNaN(Number(t)),Number(t)}},onChange:{type:u.EventTriggerIdentifier}};t.default=(0,u.connectWidget)("RatingWidget",f,{value:0,readonly:!1,onChange:""},null,g,{propertySettings:y,widgetStyleConfig:(0,u.mergeWithDefaultStyles)(p),pluginListing:{labelPrefix:"Rating",type:"widget",name:"Rating",description:"Display A 5 Star Rating",layout:{flex:1,flexDirection:"row"},section:"Display",icon:"star-rating",defaultHeight:0,defaultWidth:0},docs:d.default,themeProfileSel:["tile","star"]})},5720:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},onLoadEnd:"function",headers:{"!type":"string","!doc":"Request headers for web view "}}},3473:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=o(n(7488)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(820),s=o(n(3216)),c=n(892),p=o(n(5720)),f=n(2112),g=n(4178),y=["borderRadius","margin","padding","elevation"];function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var h=l.default.forwardRef((function(e,t){(0,l.useRef)(null);var n,o,r,p=(0,f.useDispatch)(),m=(0,l.useState)(0),h=(0,i.default)(m,2),v=h[0],b=h[1],S=e.model,w=e.modelUpdate,x=e.modelStyles,P=e.config,C=e.triggerEvent,I=(e.pageKey,e.id,null==(n=S.get("value"))?void 0:n.toString()),j=null==(o=S.get("headers"))?void 0:o.toString(),k=S.get("injectedJavaScript").toString(),T=null==(r=S.get("injectedJavaScriptWhileContentIsLoading"))?void 0:r.toString(),O=S.get("onTokenExpiryRedirectTo"),M=S.get("incognito"),E=S.get("domStorageEnabled"),R=P.get("layout"),_=R?R.getFlexProperties():{flex:1},A=null!=x?x:{},V=A.borderRadius,D=A.margin,W=A.padding,L=(A.elevation,(0,a.default)(A,y)),B=(0,c.getPlatformStyles)(Object.assign({},L,{borderRadius:V,margin:D,padding:W})),F=j?Object.fromEntries(j.split(",").map((function(e){return e.split(":")}))):{},N=(0,l.useState)(1),H=(0,i.default)(N,2),U=H[0],z=H[1],$=(0,l.useState)({uri:I,headers:F}),G=(0,i.default)($,2),q=G[0],Y=G[1];return(0,l.useEffect)((function(){var e={uri:I,headers:F};s.default.isEqual(q,e)||(Y(e),z(U+1))}),[F,q,I,U]),(0,g.jsx)(u.View,{style:[_,B],children:q.uri&&(0,g.jsx)(d.WebView,Object.assign({incognito:M,onLoadEnd:function(){C("onLoadEnd"),w([{selector:["loading"],newValue:!1}])},cacheEnabled:!1,cacheMode:"LOAD_NO_CACHE",onSuccess:function(){C("onSuccess")},originWhitelist:["*"],source:q,onNavigationStateChange:function(e){var t=e.url;b((function(e){return e+1})),t.includes("/account/invalid_token")&&(C("onTokenExpiry"),p((0,c.navigateToScreen)(O,{}))),t.includes("/account/reset/")&&("ios"===u.Platform.OS&&v>1||"android"===u.Platform.OS&&v>=1)&&(w([{selector:["resetPasswordUrl"],newValue:t}]),C("onTokenAcquired"))},onError:function(){w([{selector:["loading"],newValue:!1}])},onMessage:function(e){var t=JSON.parse(e.nativeEvent.data);"log"===t.type&&console.log("WebView log:",t.message)},domStorageEnabled:E},T?{injectedJavaScript:T}:{},k?{injectedJavaScriptBeforeContentLoaded:k}:{},{javaScriptEnabled:!0}),U)})})),v={basic:[{type:"codeInput",name:"headers",props:{label:"Headers",placeholder:""}},{type:"codeInput",name:"injectedJavaScript",props:{label:"Injected JavaScript",placeholder:""}},{type:"codeInput",name:"onTokenExpiryRedirectTo",props:{label:"On Token Expiry Redirect To",placeholder:""}},{type:"checkbox",name:"incognito",props:{label:"Incognito Mode\n(⚠️ DEV ONLY)"}},{type:"checkbox",name:"domStorageEnabled",props:{label:"DomStorage Enabled\n(⚠️ DEV ONLY)"}},{type:"codeInput",name:"injectedJavaScriptWhileContentIsLoading",props:{label:"Injected JS Loading",placeholder:""}}].concat((0,r.default)(c.defaultEditors.basic)),layout:c.defaultEditors.layout},b={onLoadEnd:{type:c.EventTriggerIdentifier},headers:{getValue:function(e,t,n){return t?t.toString():""}}};u.StyleSheet.create({loader:{bottom:0,left:0,position:"absolute",right:0,top:0}}),t.default=(0,c.connectWidget)("ResetPasswordWebViewWidget",h,{value:"",loading:!0,onLoadEnd:"",headers:"",injectedJavaScript:"",onTokenExpiryRedirectTo:"",incognito:!0,domStorageEnabled:!1,injectedJavaScriptWhileContentIsLoading:"",resetPasswordUrl:""},null,v,{propertySettings:b,widgetStyleConfig:c.defaultStyleEditors,pluginListing:{labelPrefix:"resetPasswordWebView",type:"widget",name:"Reset Password Web View",description:"Load external uri in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:p.default})},2884:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"Rich Text (HTML) to be parsed"}}},1765:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6840)),a=o(n(3216)),i=n(6352),l=n(892),u=o(n(2884)),d=n(4178),s=r.default.forwardRef((function(e,t){var n,o,r=e.model,u=e.modelStyles,s=e.config,c=(0,l.useLoadedFonts)().loadedFonts,p=r.get("value");o="string"==typeof p&&(0,l.isJSBinding)(p)?"":p;var f=s.get("layout"),g=(0,l.getPlatformStyles)(f?f.getFlexProperties():{flex:1}),y=null!=(n=(0,l.getPlatformStyles)(u))?n:{},m={},h={},v=new Set([]),b={};a.default.forEach(y,(function(e,t){t.includes("_")||((0,l.isTypographyStyleSheet)(e)?(e.fontFamily&&v.add(e.fontFamily),b=e):a.default.set(h,t,e))})),a.default.forEach(l.editableTags,(function(e){var t=e.toLowerCase();a.default.forEach(y,(function(e,n){a.default.startsWith(n,`${t}_`)&&((0,l.isTypographyStyleSheet)(e)?(e.fontFamily&&v.add(e.fontFamily),a.default.set(m,t,Object.assign({},a.default.get(m,t,{}),e))):a.default.set(m,a.default.replace(n,"_","."),e))}))}));var S="web"===i.Platform.OS?Array.from(v):Object.values(c);return(0,d.jsx)(i.View,{ref:t,style:[g,h],children:(0,d.jsx)(l.RichTextDisplay,{html:o,tagsStyles:m,baseStyle:b,systemFonts:S})})}));t.default=(0,l.connectWidget)("RichTextWidget",s,{value:"Html Mark up"},null,l.defaultEditors,{propertySettings:{value:{getValue:function(e,t,n){return t?t.toString():""}}},widgetStyleConfig:[{type:"richTextStyleControl",name:"richText",props:{label:"richText"}}],pluginListing:{labelPrefix:"richText",type:"widget",name:"Rich Text",description:"Parses the html to react native components",defaultHeight:20,defaultWidth:"auto",section:"Inputs",icon:"text",layout:{}},docs:u.default,themeProfileSel:["tile","richTextV2"]})},5854:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ScrollBubblesWidgetStyleConfig=void 0;var r=o(n(5971)),a=o(n(7128)),i=n(892),l=o(n(3216)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),d=o(n(7715)),s=n(6352),c=n(4178),p=["Itemwidth","Itemheight","ItembackgroundColor","ItemborderRadius","ActiveItembackgroundColor"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var g=t.ScrollBubblesWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background"}},{type:"numericInput",name:"Itemwidth",props:{label:"Item Width",noUnit:!0}},{type:"numericInput",name:"Itemheight",props:{label:"Item Height",noUnit:!0}},{type:"colorInput",name:"ItembackgroundColor",props:{label:"Item Background"}},{type:"colorInput",name:"ActiveItembackgroundColor",props:{label:"Active Item Background"}},{type:"numericInput",name:"ItemborderRadius",props:{label:"Item Border Radius",noUnit:!0}},{type:"colorInput",name:"color",props:{label:"Text Color"}}],y=u.default.forwardRef((function(e,t){var n,o=(0,u.useContext)(i.ApptileAnimationsContext),r=e.model,d=e.modelStyles,f=e.config,g=(e.isAnimated,e.animations),y=e.pageKey,m=null==r?void 0:r.get("value"),h=null==r?void 0:r.get("padItems"),v=l.default.toInteger(h)||2,b=l.default.isNumber(m)?l.default.toNumber(m):0,S=null==r?void 0:r.get("scaleBubbles");!1!==S&&(S=!0);var w=f.get("layout"),x=(0,i.getPlatformStyles)(w?w.getFlexProperties():{flex:1}),P=null==g?void 0:g.get("references").get("currentItem"),C=f.get("namespace"),I="";if(C&&P){var j=C.getNamespace().join(".");I=`${y}.${j}::${P.join(".")}`}else P&&(I=`${y}.${P.join(".")}`);var k=d?(0,i.getPlatformStyles)(d):{},T=k.Itemwidth,O=k.Itemheight,M=k.ItembackgroundColor,E=k.ItemborderRadius,R=k.ActiveItembackgroundColor,_=(0,a.default)(k,p),A={width:null!=T?T:16,height:null!=O?O:16,backgroundColor:null!=M?M:"#888",borderRadius:null!=E?E:8,activeItemBackgroundColor:null!=(n=null!=R?R:M)?n:"#888"},V=Math.min(b,5),D=(A.width+2*v)*V,W=(0,u.useRef)(new s.Animated.Value(0)).current,L=(0,u.useRef)(new s.Animated.Value(0)).current,B=(0,u.useRef)(0),F=[(0,u.useRef)(new s.Animated.Value(1)).current,(0,u.useRef)(new s.Animated.Value(1)).current,(0,u.useRef)(new s.Animated.Value(1)).current,(0,u.useRef)(new s.Animated.Value(1)).current,(0,u.useRef)(new s.Animated.Value(1)).current],N=[.6,.8,.85,.8,.6],H=[.5,.5,.6,.8,.85],U=[.85,.8,.6,.5,.5];if(S)if(V<b)for(var z=0;z<F.length;++z)s.Animated.timing(F[z],{toValue:U[z],duration:150,useNativeDriver:!0}).start();else for(var $=[.85,.7,.6,.5,.3],G=0;G<b;++G){var q=Math.abs(G-0);s.Animated.timing(F[G],{toValue:$[q],duration:100,useNativeDriver:!0}).start()}var Y=(0,u.useCallback)((function(e){var t,n,o;function r(){for(var e=0;e<F.length;++e)s.Animated.timing(F[e],{toValue:N[e],duration:150,useNativeDriver:!0}).start()}function a(){s.Animated.timing(L,{toValue:1,duration:100,useNativeDriver:!0}).start((function(){if(L.setValue(0),S)for(var e=0;e<F.length;++e)s.Animated.timing(F[e],{toValue:U[e],duration:150,useNativeDriver:!0}).start()}))}function i(){s.Animated.timing(L,{toValue:-1,duration:100,useNativeDriver:!0}).start((function(){if(L.setValue(0),S)for(var e=0;e<F.length;++e)s.Animated.timing(F[e],{toValue:H[e],duration:150,useNativeDriver:!0}).start()}))}function l(){s.Animated.timing(L,{toValue:-1,duration:100,useNativeDriver:!0}).start((function(){L.setValue(0)}))}function u(){s.Animated.timing(L,{toValue:1,duration:100,useNativeDriver:!0}).start((function(){L.setValue(0)}))}function d(e,t){s.Animated.timing(W,{toValue:(e+t)*(2*v+A.width),duration:100,useNativeDriver:!0}).start()}var c=null!=(t=null==(n=e.changed.find((function(e){return e.isViewable})))?void 0:n.index)?t:-1;o=c>=0?c:B.current,console.log("lastItem: ",B.current," currentItem: ",o);var p;if(p=o>B.current?"right":o<B.current?"left":"",b>=8){var f=o>2&&o<b-2-1,g=B.current>2&&B.current<b-2-1;console.log("configs: ",p,g,f,o,b-3),g!=f&&(f&&S?r():o<=2?a():i()),""!==p&&(f&&"right"===p?l():f&&"left"===p?u():d(o<5?0:5-b,o))}else if(7==b){var y="";o>B.current?y="right":o<B.current&&(y="left"),"right"==y&&2==o?(r(),l(),d(0,o)):"right"!=y||3!=o&&4!=o?"left"==y&&4==o?(r(),u(),d(-2,o)):"left"!=y||2!=o&&3!=o?"right"==y&&o<2?d(0,o):"left"==y&&o>4?d(-2,o):"right"==y&&o>4?(i(),d(-2,o)):"left"==y&&B.current<3&&(2==B.current&&a(),d(0,o)):u():l()}else if(6==b){var m="";o>B.current?m="right":o<B.current&&(m="left"),""!=m&&("right"==m&&o<3?d(0,o):"right"==m&&3==o?(l(),r()):"right"==m&&o>3?(d(-1,o),4==o&&i()):"left"==m&&o>3?d(-1,o):"left"==m&&3==o?(u(),r(),d(-1,o)):"left"==m&&2==o?(u(),a()):"left"==m&&o<2?d(0,o):console.error("Bubbles should never have reached here"))}else b<=5&&""!==p&&(d(0,o),S&&function(e){for(var t=[.85,.6,.5,.4,.3],n=0;n<b;++n){var o=Math.abs(e-n);s.Animated.timing(F[n],{toValue:t[o],duration:100,useNativeDriver:!0}).start()}}(o));B.current=o}),[b]);(0,u.useEffect)((function(){if(I)return o.addListener(I,Y),function(){o.removeListener(I,Y)}}),[Y,I]);var K=new Array(V).fill(0).map((function(e,t){var n=s.Animated.add(s.Animated.multiply(L,A.width+2*v),(A.width+2*v)*t);return(0,c.jsx)(s.Animated.View,{style:{backgroundColor:A.backgroundColor,width:A.width,height:A.height,position:"absolute",borderRadius:A.borderRadius,opacity:.7,transform:[{translateX:n},{scale:F[t]}]}},t)})),J=l.default.isNumber(A.height)?2+A.height:18;return(0,c.jsx)(s.View,{ref:t,style:[x,_,{width:D,overflow:"hidden",minHeight:J,marginTop:2}],children:(0,c.jsxs)(s.View,{style:{flexDirection:"row",height:J},children:[K,(0,c.jsx)(s.Animated.View,{style:{backgroundColor:A.activeItemBackgroundColor,width:A.width,height:A.height,borderRadius:A.borderRadius,position:"absolute",left:0,transform:[{translateX:W}]}})]})})})),m={basic:[].concat((0,r.default)(i.defaultEditors.basic),[{type:"numericInput",name:"padItems",defaultValue:!1,props:{label:"Padded Items",noUnit:!0}}]),advanced:[{type:"codeInput",name:"isLoading",defaultValue:!1,props:{label:"Loading State"}},{type:"codeInput",name:"scaleBubbles",defaultValue:!0,props:{label:"Varying bubble sizes"}}],layout:i.defaultEditors.layout,animations:i.defaultEditors.animations},h={isLoading:{getValue:function(e,t,n){return(0,i.makeBoolean)(t)}},value:{getValue:function(e,t,n){return l.default.isNaN(1*t)?0:l.default.toNumber(t)}},scaleBubbles:{getValue:function(e,t,n){return!!t}}};t.default=(0,i.connectWidget)("ScrollBubblesWidget",y,{value:"",isLoading:!1,scaleBubbles:!0},null,m,{propertySettings:h,widgetStyleConfig:(0,i.mergeWithDefaultStyles)(g),pluginListing:{labelPrefix:"scrollBubbles",type:"widget",name:"Scroll Indicator(Bubbles)",description:"Display Bubble Indicator on screen tied to a listview carousel.",layout:{flex:1},section:"Display",icon:"text"},docs:d.default,themeProfileSel:["tile","text"],animations:{references:{currentItem:{name:"currentItem"}}}})},7715:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The number of bubbles to be shown."}}},6998:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(3216)),i=n(804),l=n(2902),u=o(n(4386)),d=n(343),s=[{label:"Relevance",sortBy:"relevance",sortOrder:"asc"},{label:"Price - Low to High",sortBy:"price",sortOrder:"asc"},{label:"Price - High to Low",sortBy:"price",sortOrder:"desc"},{label:"Best selling",sortBy:"sales_amount",sortOrder:"desc"}],c={value:{getValue:function(e,t){return t}},selectedFilters:{getValue:function(e,t){return"object"!=typeof t?{}:t}},sortOptions:{getValue:function(e,t){return a.default.isArray(t)?t:s}},searchProducts:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.searchProducts},actionMetadata:{editableInputParams:{term:""}}},getNextPage:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.getNextPage},actionMetadata:{editableInputParams:{}}},selectFilterAttribute:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.selectFilterAttribute},actionMetadata:{editableInputParams:{attribute:""}}},selectFilter:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.selectFilter},actionMetadata:{editableInputParams:{attribute:"",value:""}}},deselectFilter:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.deselectFilter},actionMetadata:{editableInputParams:{attribute:"",value:""}}},applyFilters:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.applyFilters},actionMetadata:{editableInputParams:{}}},resetFilters:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.resetFilters},actionMetadata:{editableInputParams:{}}},setSortOptions:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.setSortOptions},actionMetadata:{editableInputParams:{sortBy:"",sortOrder:""}}}};t.default=(0,r.connectPlugin)("SearchanizeHelper",null,{datasource:"searchanize",value:"",previousSuggestedTerm:"",searchTerm:"",doSearch:"",doNextPage:"",loading:"",suggesting:"",sortBy:"relevance",sortOrder:"asc",sortOptions:"",products:[],suggestedTerms:[],suggestedProducts:[],suggestedCollections:[],blacklistedFilters:[],selectedFilters:"",filters:[],displayFilters:[],filtersByAttribute:"",selectedFilterAttribute:"",selectedFilterAttributeValues:[],hasNextPage:"",paginationMeta:"",getNextPage:"action",searchProducts:"action",selectFilter:"action",deselectFilter:"action",selectFilterAttribute:"action",applyFilters:"action",resetFilters:"action",setSortOptions:"action"},(function*(e,t,n,o,a,u,s){var c=e.stageModel.getPluginModel(n,t),p=[t],f=[n,"plugins"].concat(p);null!=o&&(p=p.concat([o+""]));var g={modelUpdates:[]},y=null==c?void 0:c.get("value"),m=null==c?void 0:c.get("previousSuggestedTerm"),h=null==c?void 0:c.get("searchTerm"),v=null==c?void 0:c.get("doSearch",!1),b=null==c?void 0:c.get("doNextPage",!1),S=null==c?void 0:c.get("loading",!1);!u&&y===m||v||S||(yield(0,i.spawn)(d.fetchSuggestionsGenerator,e,t,n,o),g.modelUpdates.push({selector:p.concat(["doSearch"]),newValue:!1}),g.modelUpdates.push({selector:p.concat(["loading"]),newValue:!1}),g.modelUpdates.push({selector:p.concat(["suggesting"]),newValue:!0}),g.modelUpdates.push({selector:p.concat(["previousSuggestedTerm"]),newValue:y}));var w=null==c?void 0:c.get("hasNextPage",!1),x=b&&w;if(v&&h){yield(0,i.spawn)(d.fetchProductsGenerator,e,t,n,o),x||(yield(0,i.spawn)(d.fetchProductFiltersGenerator,e,t,n,o));var P=(0,l.getPluginModelUpdate)(f,{doSearch:!1,doNextPage:!1,loading:!0,suggesting:!1});yield(0,i.put)((0,r.modelUpdateAction)(P))}return g}),{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:"{{query1.value}}"}},{type:"codeInput",name:"datasource",props:{label:"Searchanize Datasource Id",placeholder:"searchanize"}}]},{propertySettings:c,pluginListing:{labelPrefix:"SearchanizeHelper",type:"state",name:"Searchanize Helper",description:"Searchanize helper plugin.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"state"},docs:u.default})},2902:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.applyFilters=function(e,t,n,o,r){return c.apply(this,arguments)},t.deselectFilter=function(e,t,n,o,r){return h.apply(this,arguments)},t.getNextPage=function(e,t,n,o,r){return s.apply(this,arguments)},t.getPluginModelUpdate=v,t.resetFilters=function(e,t,n,o,r){return p.apply(this,arguments)},t.searchProducts=function(e,t,n,o,r){return d.apply(this,arguments)},t.selectFilter=function(e,t,n,o,r){return m.apply(this,arguments)},t.selectFilterAttribute=function(e,t,n,o,r){return g.apply(this,arguments)},t.setSortOptions=function(e,t,n,o,r){return f.apply(this,arguments)};var r=o(n(5990)),a=o(n(7488)),i=o(n(2766)),l=n(892),u=o(n(3216));function d(){return(d=(0,i.default)((function*(e,t,n,o,r){var a=r.term;e((0,l.modelUpdateAction)(v(o,{searchTerm:a,doSearch:!0}),void 0,!0))}))).apply(this,arguments)}function s(){return(s=(0,i.default)((function*(e,t,n,o,r){e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!0}),void 0,!0))}))).apply(this,arguments)}function c(){return(c=(0,i.default)((function*(e,t,n,o,r){e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!1}),void 0,!0))}))).apply(this,arguments)}function p(){return(p=(0,i.default)((function*(e,t,n,o,r){e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!1,selectedFilters:{}}),void 0,!0))}))).apply(this,arguments)}function f(){return(f=(0,i.default)((function*(e,t,n,o,r){var a=r.sortBy,i=r.sortOrder;e((0,l.modelUpdateAction)(v(o,{doSearch:!0,doNextPage:!1,sortBy:a,sortOrder:i}),void 0,!0))}))).apply(this,arguments)}function g(){return(g=(0,i.default)((function*(e,t,n,o,r){var a=r.attribute;if(void 0!==a){var i,u=n.get("filtersByAttribute");e((0,l.modelUpdateAction)(v(o,{selectedFilterAttributeValues:null==(i=u[a])?void 0:i.values,selectedFilterAttribute:a}),void 0,!0))}}))).apply(this,arguments)}function y(e,t){if(u.default.isArray(e))return u.default.uniq(e.concat(t))}function m(){return(m=(0,i.default)((function*(e,t,n,o,a){var i=a.attribute,d=a.value;if(void 0!==i&&void 0!==d){var s=n.get("selectedFilters",{}),c=u.default.mergeWith(Object.assign({},s),(0,r.default)({},i,[d]),y);e((0,l.modelUpdateAction)(v(o,{selectedFilters:Object.assign({},c)}),void 0,!0))}}))).apply(this,arguments)}function h(){return(h=(0,i.default)((function*(e,t,n,o,r){var a=r.attribute,i=r.value;if(void 0!==a&&void 0!==i){var d=n.get("selectedFilters",{});u.default.isArray(d[a])&&u.default.remove(d[a],(function(e){return e==i})),e((0,l.modelUpdateAction)(v(o,{selectedFilters:Object.assign({},d)}),void 0,!0))}}))).apply(this,arguments)}function v(e,t){var n=[];return t&&!u.default.isEmpty(t)&&Object.entries(t).map((function(t){var o=(0,a.default)(t,2),r=o[0],i=o[1];n.push({selector:e.concat([r]),newValue:i})})),n}},4386:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"Object"}},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchProductFiltersGenerator=function*(e,t,n,l){var u=e.stageModel.getPluginModel(n,t),d=[t],s=[n,"plugins"].concat(d);null!=l&&(d=d.concat([l+""]));var c=e.stageModel.getModelValue([]),p=null==u?void 0:u.get("datasource"),f=c.get(p),g=null==u?void 0:u.get("searchTerm"),y=null==u?void 0:u.get("selectedFilters",{});console.log("selectedFilters: ",y);var m=(0,i.getFilterRestrictions)(y,"relevance","asc");console.log("Filters: ",m);var h=(yield(0,r.select)(o.selectAppConfig)).getPlugin(p),v=f.get("pluginType"),b=(0,o.GetRegisteredPlugin)(v),S=(0,a.getPluginModelUpdate)(s,{loading:!0,suggesting:!1});yield(0,r.put)((0,o.modelUpdateAction)(S));var w=yield(0,r.call)(b.runQuery,b,h,f,"GetProductFilters",Object.assign({q:g,startIndex:0,maxResults:1,sortBy:"relevance",sortOrder:"asc"},m),{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:null}),x=w.data,P=(w.rawData,w.errors,w.hasError,w.hasNextPage,w.paginationMeta,(0,a.getPluginModelUpdate)(s,Object.assign({filters:null!=x?x:[]},(0,i.getDisplayFilterOptions)(x,[]))));yield(0,r.put)((0,o.modelUpdateAction)(P,void 0,!0))},t.fetchProductsGenerator=function*(e,t,n,l){var u=e.stageModel.getPluginModel(n,t),d=[t],s=[n,"plugins"].concat(d);null!=l&&(d=d.concat([l+""]));var c=e.stageModel.getModelValue([]),p=null==u?void 0:u.get("datasource"),f=c.get(p),g=null==u?void 0:u.get("searchTerm"),y=null==u?void 0:u.get("hasNextPage",!1),m=(null==u?void 0:u.get("doNextPage",!1))&&y,h=null==u?void 0:u.get("paginationMeta",!1),v=null==u?void 0:u.get("selectedFilters",{}),b=null==u?void 0:u.get("sortBy","relevance"),S=null==u?void 0:u.get("sortOrder","asc"),w=u.get("products",[]),x=(0,i.getFilterRestrictions)(v,b,S),P=(yield(0,r.select)(o.selectAppConfig)).getPlugin(p),C=f.get("pluginType"),I=(0,o.GetRegisteredPlugin)(C),j=(0,a.getPluginModelUpdate)(s,Object.assign({loading:!0,suggesting:!1},m?{}:{products:[]}));yield(0,r.put)((0,o.modelUpdateAction)(j));var k=yield(0,r.call)(I.runQuery,I,P,f,"SearchProducts",Object.assign({q:g,startIndex:0,maxResults:24,sortBy:"relevance",sortOrder:"asc"},x),{transformers:void 0,getNextPage:m,paginationMeta:m?h:void 0,cachePolicy:null}),T=k.data,O=(k.rawData,k.errors,k.hasError,k.hasNextPage),M=k.paginationMeta,E=(0,a.getPluginModelUpdate)(s,{products:m?w.concat(T):null!=T?T:[],previousSuggestedTerm:g,loading:!1,suggesting:!1,hasNextPage:O,paginationMeta:M});yield(0,r.put)((0,o.modelUpdateAction)(E,void 0,!0))},t.fetchSuggestionsGenerator=function*(e,t,n,i){var l=e.stageModel.getPluginModel(n,t),u=[t],d=[n,"plugins"].concat(u);null!=i&&(u=u.concat([i+""]));var s=e.stageModel.getModelValue([]),c=null==l?void 0:l.get("datasource"),p=s.get(c),f=null==l?void 0:l.get("value"),g=(yield(0,r.select)(o.selectAppConfig)).getPlugin(c),y=p.get("pluginType"),m=(0,o.GetRegisteredPlugin)(y),h=yield(0,r.call)(m.runQuery,m,g,p,"GetSuggestions",{q:f,count:5},{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:null}),v=h.data,b=(h.rawData,h.errors,h.hasError,h.hasNextPage,h.paginationMeta,(0,a.getPluginModelUpdate)(d,{suggestedTerms:null==v?void 0:v.suggestions,suggestedProducts:null==v?void 0:v.products,suggestedCollections:null==v?void 0:v.collections}));yield(0,r.put)((0,o.modelUpdateAction)(b,void 0,!0))};var o=n(892),r=n(804),a=n(2902),i=n(3048)},4721:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SearchanizeHelper",{enumerable:!0,get:function(){return r.default}});var r=o(n(6998))},3048:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayFilterOptions=function(e,t){var n,o,a=r.default.omitBy(e,(function(e,n){return null==t?void 0:t.includes(null==e?void 0:e.attribute)})),i=r.default.keyBy(a,(function(e){return null==e?void 0:e.attribute})),l=null==(n=a[0])?void 0:n.attribute;return{displayFilters:a,filtersByAttribute:i,selectedFilterAttribute:l,selectedFilterAttributeValues:null==(o=i[l])?void 0:o.values}},t.getFilterRestrictions=function(e,t,n){var o=r.default.transform(e,(function(e,t,n){r.default.isArray(t)&&!r.default.isEmpty(t)&&(e[`restrictBy[${n}]`]=null==t?void 0:t.join("|"))}),{});return Object.assign({},o,{sortBy:t,sortOrder:n})};var r=o(n(3216))},9769:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),a=o(n(820)),i=o(n(7709)),l=o(n(3216)),u=n(3578),d=n(6352),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}t.default=function(e){var t=e.value,n=e.onCancel,o=e.onSuccess,c=(0,r.useCallback)((function(e){var t=e.nativeEvent;if(console.log(t),!1===(null==t?void 0:t.loading)){var r=null==t?void 0:t.url,a=i.default.parseUrl(r);null!=a&&a.url&&l.default.endsWith(a.url,"/null")&&n&&n(),u.SHOPIFY_SUCCESS_PAGE_URL_REGEX.test(r)&&o&&o()}}),[n,o]);return(0,s.jsx)(a.default,{onMessage:function(e){!function(e){var t="";try{var o;if("undefined"!==(null==e||null==(o=e.nativeEvent)?void 0:o.data)){var r,a,i=null==e||null==(r=e.nativeEvent)?void 0:r.data.toString();logger.warn("stringData: ",i),t=null==(a=JSON.parse(i))?void 0:a.type}"FLO_EXIT_CHECKOUT"===t&&n()}catch(e){logger.error("Failure when handling iframe message")}}(e)},androidLayerType:"software",incognito:!1,onLoad:c,originWhitelist:["*"],source:{uri:t},injectedJavaScript:"\nwindow.addEventListener(\n    'message',\n    event => {\n      window.ReactNativeWebView.postMessage(event);\n    },\n    false,\n  );\n",onShouldStartLoadWithRequest:function(e){return null==(t=e.url)||!(t.startsWith("upi://pay")||t.startsWith("tez://")||t.startsWith("gpay://")||t.startsWith("paytmmp://")||t.startsWith("phonepe://")||t.startsWith("paytm://"))||(d.Linking.openURL(e.url).then((function(){console.log("Opening link:",e.url)})).catch((function(e){console.log("Unable to open the link:",e)})),!1);var t}},t)}},3578:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SHOPIFY_SUCCESS_PAGE_URL_REGEX=void 0,t.SHOPIFY_SUCCESS_PAGE_URL_REGEX=/(\s*)\/orders\/(\s*)/g},1394:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"ShopFlo checkout url"}}},7243:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(892),d=o(n(1394)),s=o(n(9769)),c=n(4178),p=["borderRadius","margin","padding","elevation"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var g=i.default.forwardRef((function(e,t){var n,o=e.model,r=e.modelStyles,d=e.config,f=e.triggerEvent,g=null==(n=o.get("value"))?void 0:n.toString(),y=d.get("layout"),m=y?y.getFlexProperties():{flex:1},h=null!=r?r:{},v=h.borderRadius,b=h.margin,S=h.padding,w=(h.elevation,(0,a.default)(h,p)),x=(0,u.getPlatformStyles)(Object.assign({},w,{borderRadius:v,margin:b,padding:S})),P=(0,i.useCallback)((function(){f("onCancel")}),[f]),C=(0,i.useCallback)((function(){f("onSuccess")}),[f]);return(0,c.jsx)(l.View,{style:[m,x],ref:t,children:(0,c.jsx)(s.default,{value:g,onCancel:P,onSuccess:C})})})),y={basic:(0,r.default)(u.defaultEditors.basic),layout:u.defaultEditors.layout},m={onCancel:{type:u.EventTriggerIdentifier},onSuccess:{type:u.EventTriggerIdentifier}};t.default=(0,u.connectWidget)("ShopFloCheckoutWidget",g,{value:"",onCancel:"",onSuccess:""},null,y,{propertySettings:m,widgetStyleConfig:u.defaultStyleEditors,pluginListing:{labelPrefix:"shopfloCheckout",type:"widget",name:"ShopFlo Checkout View",description:"Load ShopFlo Checkout in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:d.default})},4990:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(3216)),i=n(804),l=n(9266),u=o(n(2302)),d={value:{getValue:function(e,t){return t}},selectMenuChildCollectionAction:{type:r.TriggerActionIdentifier,getValue:function(e,t,n){return l.selectMenuChildCollectionAction},actionMetadata:{editableInputParams:{childCollectionHandle:""}}}},s=function*(e,t,n,o,r,a){return yield(0,i.call)(e.runQuery,e,t,n,o,r,{transformers:void 0,getNextPage:!1,paginationMeta:void 0,cachePolicy:a||null})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){t.push(null==e?void 0:e.collectionId),null!=e&&e.items&&c(e.items,t)})),t};t.default=(0,r.connectPlugin)("ShopifyCollectionsTree_22_10",null,{datasource:"shopify",collectionHandle:"",shopifyMenuHandle:"",value:"",menuCollections:[],selectedCollectionChilds:[],selectMenuChildCollectionAction:"action",selectedChildCollectionHandle:"",activeChildCollection:"",metafieldsIdentifiers:[],cachePolicy:""},(function*(e,t,n,o,l,u,d){var p=e.stageModel.getPluginModel(n,t),f=[t];null!=o&&(f=f.concat([o+""]));var g={modelUpdates:[]};if(u){var y,m=e.stageModel.getModelValue([]),h=null==p?void 0:p.get("shopifyMenuHandle"),v=null==p?void 0:p.get("collectionHandle"),b=null==p?void 0:p.get("metafieldsIdentifiers"),S=null==p?void 0:p.get("datasource"),w=m.get(S),x=(yield(0,i.select)(r.selectAppConfig)).getPlugin(S),P=w.get("pluginType"),C=(0,r.GetRegisteredPlugin)(P),I=null==p?void 0:p.get("cachePolicy"),j=(yield(0,i.call)(s,C,x,w,"GetMenu",{menuHandle:h},I)).data,k=[],T=[];if(!a.default.isEmpty(null==j?void 0:j.items)){var O=c(j.items),M=a.default.filter(O,(function(e){return!a.default.isEmpty(e)&&a.default.startsWith(e,"gid://shopify/Collection/")})),E=(yield(0,i.call)(s,C,x,w,"GetCollectionsByIdsWithMetaField",{collectionIds:M,identifiers:a.default.isEmpty(b)?[]:b},I)).data,R=a.default.keyBy(E,"id"),_=a.default.map(null==j?void 0:j.items,(function(e){return e.collectionId}));T=a.default.map(_,(function(e){return R[e]}));var A=a.default.find(E,(function(e){return e.handle===v}));if(A){var V=a.default.find(null==j?void 0:j.items,(function(e){return e.collectionId===(null==A?void 0:A.id)}));k=a.default.map(null==V?void 0:V.items,(function(e){return R[e.collectionId]}))}}g.modelUpdates.push({selector:f.concat(["selectedCollectionChilds"]),newValue:k}),g.modelUpdates.push({selector:f.concat(["menuCollections"]),newValue:T}),g.modelUpdates.push({selector:f.concat(["menuItems"]),newValue:j.items}),p.get("selectedChildCollectionHandle")||(g.modelUpdates.push({selector:f.concat(["selectedChildCollectionHandle"]),newValue:null==(y=a.default.first(k))?void 0:y.handle}),g.modelUpdates.push({selector:f.concat(["activeChildCollection"]),newValue:a.default.first(k)}))}return g}),{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:"{{query1.value}}"}},{type:"codeInput",name:"datasource",props:{label:"Shopify Datasource Id",placeholder:"shopify"}},{type:"codeInput",name:"collectionHandle",props:{label:"Collection Handle",placeholder:"{{currentPage.params?.collectionHandle}}"}},{type:"codeInput",name:"shopifyMenuHandle",props:{label:"Shopify Menu Handle",placeholder:"{{shopifyMenuHandle}}"}},{type:"codeInput",name:"metafieldsIdentifiers",props:{label:"Shopify App Icon MetaField Identifiers",placeholder:"{{[{key: 'apptile_app_icon', namespace: 'custom'}]}}"}},{type:"radioGroup",name:"cachePolicy",defaultValue:"no-cache",props:{label:"Cache Policy",options:["cache-first","network-only","cache-only","no-cache"]}}]},{propertySettings:d,pluginListing:{labelPrefix:"ShopifyCollectionsTree",type:"state",name:"Shopify Collections Tree Helper",description:"Shopify Collections Tree helper.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"state"},docs:u.default})},9266:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.getPluginModelUpdate=d,t.selectMenuChildCollectionAction=function(e,t,n,o,r){return u.apply(this,arguments)};var r=o(n(7488)),a=o(n(2766)),i=n(892),l=o(n(3216));function u(){return(u=(0,a.default)((function*(e,t,n,o,r){var a=r.childCollectionHandle,u=n.get("selectedCollectionChilds"),s=l.default.find(u,(function(e){return e.handle===a}));e((0,i.modelUpdateAction)(d(o,{selectedChildCollectionHandle:a,activeChildCollection:s})))}))).apply(this,arguments)}function d(e,t){var n=[];return t&&!l.default.isEmpty(t)&&Object.entries(t).map((function(t){var o=(0,r.default)(t,2),a=o[0],i=o[1];n.push({selector:e.concat([a]),newValue:i})})),n}},2302:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"Object"}},3965:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ShopifyCollectionsTree_22_10",{enumerable:!0,get:function(){return r.default}});var r=o(n(4990))},2347:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7488)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=o(n(820)),l=o(n(3216)),u=n(9320),d=n(6352),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p='\nwindow.setInterval(() => {\n  const SHOPIFY_LOGIN_URL_REGEX = /(\\s*)\\/account\\/(\\s*)/g;\n  const SHOPIFY_OAUTH_URL_REGEX = /(\\s*)\\/oauth\\/(\\s*)/g;\n  const at_links = document.getElementsByTagName("A");\n  for (const el of at_links) {\n    if (SHOPIFY_LOGIN_URL_REGEX.test(el.href) || SHOPIFY_OAUTH_URL_REGEX.test(el.href)) {\n      el.style.display = "none";\n    }\n  }\n\n  const at_footer = document.getElementsByTagName("FOOTER");\n  for (const el of at_footer) {\n    el.style.display = "none";\n  }\n\n  if (window.location.href?.endsWith(\'/thank-you\')) {\n    window.location.reload();\n  }\n  if (window.location.href?.endsWith(\'/thank_you\')) {\n    window.location.reload();\n  }\n}, 300);\n';t.default=function(e){var t=e.value,n=(e.onCancel,e.onSuccess),o=e.customerAccessToken,c=e.disableFacebookPixel,f=(0,a.useState)(!0),g=(0,r.default)(f,2),y=(g[0],g[1]),m=(0,a.useCallback)((function(e){var t=e.nativeEvent;!1===(null==t?void 0:t.loading)&&y(!1),null==t||t.url}),[]),h=(0,a.useCallback)((function(e){var t=e.nativeEvent,o=null==t?void 0:t.url;console.log("OnLoadStart: ",o),(u.SHOPIFY_SUCCESS_PAGE_URL_REGEX.test(o)||null!=o&&o.endsWith("/thank_you")||null!=o&&o.endsWith("/thank-you"))&&n&&(n(),x(""))}),[n]),v=(0,a.useCallback)((function(e){}),[]),b=(0,a.useState)(t),S=(0,r.default)(b,2),w=S[0],x=S[1],P=t===w?{headers:{"X-Shopify-Customer-Access-Token":o},uri:w}:{uri:w},C=(0,a.useMemo)((function(){return Boolean(c)?p+"\nwindow.fbq = function() {};\n":p}),[c]);return console.log(`WebviewSource: ${JSON.stringify(P)}`),l.default.isEmpty(w)?(0,s.jsx)(d.View,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.default,{onLoad:m,onLoadStart:h,originWhitelist:["*"],source:P,incognito:!1,startInLoadingState:!0,renderLoading:function(){return(0,s.jsx)(d.View,{style:[d.StyleSheet.absoluteFill,{alignItems:"center",height:20}],children:(0,s.jsx)(d.ActivityIndicator,{size:"small"})})},onMessage:v,injectedJavaScriptForMainFrameOnly:!0,injectedJavaScript:C,onShouldStartLoadWithRequest:function(e){return null==(t=e.url)||!(t.startsWith("upi://pay")||t.startsWith("tez://")||t.startsWith("gpay://")||t.startsWith("paytmmp://")||t.startsWith("phonepe://")||t.startsWith("paytm://"))||(d.Linking.openURL(e.url).then((function(){console.log("Opening link:",e.url)})).catch((function(e){console.log("Unable to open the link:",e)})),!1);var t}},w)})}},9320:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SHOPIFY_SUCCESS_PAGE_URL_REGEX=t.SHOPIFY_LOGIN_URL_REGEX=t.SHOPIFY_CHECKOUT_URL_REGEX=void 0,t.SHOPIFY_SUCCESS_PAGE_URL_REGEX=/(\s*)\/orders\/(\s*)/g,t.SHOPIFY_LOGIN_URL_REGEX=/(\s*)\/account\/login\/(\s*)/g,t.SHOPIFY_CHECKOUT_URL_REGEX=/(\s*)(\/checkouts\/|\/cart\/)(\s*)/},4415:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"Shopify web checkout"}}},6154:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=o(n(7488)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(892),s=o(n(4415)),c=o(n(2347)),p=n(9320),f=n(4178),g=["borderRadius","margin","padding","elevation"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=n(1636),h=l.default.forwardRef((function(e,t){var n,o=e.model,r=e.modelStyles,s=e.config,y=e.triggerEvent,h=null==(n=o.get("value"))?void 0:n.toString(),v=o.get("customerAccessToken",""),b=o.get("shopDomain",""),S=Boolean(o.get("disableFacebookPixel",!1)),w=(0,l.useState)(h),x=(0,i.default)(w,2),P=x[0],C=x[1],I=(0,l.useState)(!1),j=(0,i.default)(I,2),k=j[0],T=j[1];(0,l.useEffect)((function(){if(C(h),p.SHOPIFY_CHECKOUT_URL_REGEX.test(h)){if(b){var e=m(h);e.set("host",b),C(e.toString())}T(!0)}}),[b,h]);var O=s.get("layout"),M=O?O.getFlexProperties():{flex:1},E=null!=r?r:{},R=E.borderRadius,_=E.margin,A=E.padding,V=(E.elevation,(0,a.default)(E,g)),D=(0,d.getPlatformStyles)(Object.assign({},V,{borderRadius:R,margin:_,padding:A})),W=(0,l.useCallback)((function(){y("onCancel")}),[y]),L=(0,l.useCallback)((function(){y("onSuccess")}),[y]);return(0,f.jsx)(u.View,{style:[M,D],ref:t,children:k?(0,f.jsx)(c.default,{value:P,customerAccessToken:v,onCancel:W,onSuccess:L,disableFacebookPixel:S}):(0,f.jsx)(f.Fragment,{})})})),v={basic:[].concat((0,r.default)(d.defaultEditors.basic),[{type:"codeInput",name:"customerAccessToken",props:{label:"Shopify customer token"}},{type:"codeInput",name:"shopDomain",props:{label:"Shopify shop primary domain"}}]),advanced:[{type:"checkbox",name:"disableFacebookPixel",props:{label:"Disable Facebook Pixel",checkedValue:!1}}],layout:d.defaultEditors.layout},b={onCancel:{type:d.EventTriggerIdentifier},onSuccess:{type:d.EventTriggerIdentifier}};t.default=(0,d.connectWidget)("ShopifyWebCheckoutWidget",h,{value:"",customerAccessToken:"",shopDomain:"",onCancel:"",onSuccess:""},null,v,{propertySettings:b,widgetStyleConfig:d.defaultStyleEditors,pluginListing:{labelPrefix:"ShopifyWebCheckout",type:"widget",name:"Shopify Web Checkout View",description:"Load Shopify Web Checkout in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:s.default})},3405:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"Object"}},4304:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(3405));t.default=(0,r.connectPlugin)("StatePlugin",null,{value:null},null,{basic:[{type:"codeInput",name:"value",props:{label:"Value",placeholder:"{{query1.value}}"}}]},{propertySettings:{value:{getValue:function(e,t){return t}}},pluginListing:{labelPrefix:"state",type:"state",name:"State",description:"Store data as part of the application state.",defaultHeight:0,defaultWidth:0,section:"Data",icon:"state"},docs:a.default})},8050:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n(6840));var r=n(6352),a=n(4178),i=function(e){var t=e.x,n=e.y,o=Math.atan2(n,t)*(180/Math.PI),i=1.1*Math.sqrt(t*t+n*n);return(0,a.jsx)(r.View,{style:[{position:"absolute",top:0,left:0,bottom:0,right:0,justifyContent:"center",alignItems:"center",overflow:"visible"}],children:(0,a.jsx)(r.View,{style:[{width:i,height:3,backgroundColor:"#12121236",transform:[{rotate:`-${o}deg`}],zIndex:99}]})})};t.default=function(e){var t,n,o,l,u,d,s,c,p,f,g=e.item,y=e.handleSelection,m=e.isSelected,h=e.shadowStyles,v=e.modelPlatformStyles,b=function(e){var t={};return Object.keys(e).forEach((function(n){n.includes("item_")&&(n.includes("width")||n.includes("height")||n.includes("Radius"))&&(t[n.replace("item_","")]=e[n])})),t};return(0,a.jsx)(r.Pressable,{disabled:null!=(t=null==g?void 0:g.disabled)&&t,onPress:function(){return y(g)},children:(0,a.jsxs)(r.View,{style:[(p=v,f={},Object.keys(p).forEach((function(e){(e.includes("shadow")||e.includes("item_")&&!e.includes("width")&&!e.includes("height"))&&(f[e.replace("item_","")]=p[e])})),f),h,m?function(e){var t={};return Object.keys(e).forEach((function(n){n.includes("selectedItem_")&&(t[n.replace("selectedItem_","")]=e[n])})),t}(v):{},null!=g&&g.disabled?function(e){var t={};return Object.keys(e).forEach((function(n){n.includes("disabledItem_")&&(t[n.replace("disabledItem_","")]=e[n])})),t}(v):{}],children:["colour"===g.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.View,{style:[{width:50,height:50},b(v),{backgroundColor:g.source},null!=g&&g.disabled?{opacity:.5}:{}]}),(null==g?void 0:g.striked)&&(0,a.jsx)(i,{x:null!=(n=v.item_width)?n:50,y:null!=(o=v.item_height)?o:50})]}),"image"===g.type&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Image,{style:[{width:50,height:50},b(v),null!=g&&g.disabled?{opacity:.5}:{}],source:{uri:g.source}}),(null==g?void 0:g.striked)&&(0,a.jsx)(i,{x:null!=(l=v.item_width)?l:50,y:null!=(u=v.item_height)?u:50})]}),"text"===g.type&&(0,a.jsx)(r.Text,{style:[{color:m?null!=(d=null==v?void 0:v.selectedText_color)?d:"black":null!=(s=null==v?void 0:v.text_color)?s:"black"},Object.assign({},m?v.selectedTypography:v.typography),Object.assign({},null!=g&&g.disabled?v.disabledTypography:{}),{textDecorationLine:null!=g&&g.striked?"line-through":"none"},null!=g&&g.disabled?{opacity:.5}:{}],children:null!=(c=g.source)?c:g.value})]})})}},4514:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SwatchWidgetStyleConfig=void 0;var r=o(n(7488)),a=n(892),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=o(n(8050)),d=o(n(3216)),s=n(4178);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var p=t.SwatchWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background",placeholder:"#HexCode"}},{type:"codeInput",name:"item_width",props:{label:"Item width",placeholder:""}},{type:"codeInput",name:"item_height",props:{label:"Item height",placeholder:""}},{type:"colorInput",name:"text_color",props:{label:"Text Color",placeholder:"#HexCode"}},{type:"colorInput",name:"selectedText_color",props:{label:"Selected Text Color",placeholder:"#HexCode"}},{type:"typographyInput",name:"typography",props:{label:"Typography",placeholder:"typography.body"}},{type:"typographyInput",name:"selectedTypography",props:{label:"Selected Typography",placeholder:"typography.body"}},{type:"typographyInput",name:"disabledTypography",props:{label:"Disabled Typography",placeholder:"typography.body"}},{type:"colorInput",name:"item_backgroundColor",props:{label:"Item Background",placeholder:"#HexCode"}},{type:"colorInput",name:"selectedItem_backgroundColor",props:{label:"Selected Item Background",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledItem_backgroundColor",props:{label:"Disabled Item Background",placeholder:"#HexCode"}},{type:"borderRadiusEditor",name:"item_borderRadius",props:{label:"Item Border Radius",placeholder:"0",options:["item_borderTopLeftRadius","item_borderTopRightRadius","item_borderBottomRightRadius","item_borderBottomLeftRadius"],layout:"square"}},{type:"trblValuesEditor",name:"item_margin",props:{label:"Item Margin",placeholder:"0",options:["item_marginTop","item_marginRight","item_marginBottom","item_marginLeft"]}},{type:"trblValuesEditor",name:"item_padding",props:{label:"Item Padding",placeholder:"0",options:["item_paddingTop","item_paddingRight","item_paddingBottom","item_paddingLeft"]}},{type:"trblValuesEditor",name:"item_borderWidth",props:{label:"Item Border",placeholder:"0",options:["item_borderTopWidth","item_borderRightWidth","item_borderBottomWidth","item_borderLeftWidth"]}},{type:"trblValuesEditor",name:"selectedItem_borderWidth",props:{label:"Selected Item Border",placeholder:"0",options:["selectedItem_borderTopWidth","selectedItem_borderRightWidth","selectedItem_borderBottomWidth","selectedItem_borderLeftWidth"]}},{type:"colorInput",name:"item_borderColor",props:{label:"Item Border Color",placeholder:"transparent"}},{type:"colorInput",name:"selectedItem_borderColor",props:{label:"Selected Item Border Color",placeholder:"#HexCode"}},{type:"colorInput",name:"disabledItem_borderColor",props:{label:"Disabled Item Border Color",placeholder:"#HexCode"}}],f=i.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,c=e.modelUpdate,p=e.config,f=e.triggerEvent,g=n.get("value"),y=n.get("input");y=Array.isArray(y)?y:[];var m=!!n.get("isLoading"),h=n.get("enableHaptics"),v=n.get("hapticMethod"),b=(0,a.usePlaceHolder)(),S=(0,i.useState)(g),w=(0,r.default)(S,2),x=w[0],P=w[1];(0,i.useEffect)((function(){P(g)}),[g]);var C,I,j=(0,i.useCallback)((function(e){P(null==e?void 0:e.value),h&&(0,a.performHapticFeedback)(v),c([{selector:"value",newValue:null==e?void 0:e.value}]),setTimeout((function(){f("onTap")}))}),[c,f,h,v]),k=p.get("layout"),T=(0,a.getPlatformStyles)(k?k.getNonContainerFlexProperties():{flex:1}),O=(0,a.getPlatformStyles)(k?null==k?void 0:k.getContainerFlexProperties():{flex:1}),M=(0,a.getPlatformStyles)(o),E="scroll"===(null==O?void 0:O.overflow),R=E?l.ScrollView:l.View,_=E?{contentContainerStyle:O,horizontal:"row"===(null==O?void 0:O.flexDirection),showsHorizontalScrollIndicator:!1}:{},A=d.default.toInteger(p.getIn(["style","elevation"],0)),V=Object.assign({},(0,a.getShadowStyle)(A),{elevation:A});return m?(0,s.jsx)(b,{layoutStyles:Object.assign({},T,{minHeight:35})}):(0,s.jsx)(R,Object.assign({ref:t},_,{style:[(C=M,I={},Object.keys(C).forEach((function(e){e.includes("item_")||e.includes("selectedItem_")||e.includes("shadow")||e.includes("elevation")||(I[e]=C[e])})),I),T,E?{}:O],children:y.map((function(e,t){return(0,s.jsx)(u.default,{item:e,handleSelection:j,isSelected:x===(null==e?void 0:e.value),modelPlatformStyles:M,shadowStyles:V},`${g}-${t}`)}))}))})),g={basic:[{type:"codeInput",name:"input",props:{label:"Input [{type,source,value,disabled,striked}]",placeholder:""}},{type:"codeInput",name:"value",props:{label:"Value",placeholder:""}},{type:"codeInput",name:"isLoading",props:{label:"Loading"}}],advanced:a.hapticEditors.advanced,layout:[{type:"layoutEditor",name:"layout",props:{label:"Layout",isContainer:!0}}]},y={value:{getValue:function(e,t,n){return d.default.isNumber(t)?t:t?t.toString():""}},enableHaptics:{getValue:function(e,t,n){return(0,a.makeBoolean)(t)}},onTap:{type:a.EventTriggerIdentifier},isLoading:{getValue:function(e,t,n){return(0,a.makeBoolean)(t)}}};t.default=(0,a.connectWidget)("SwatchWidget",f,{value:"",input:"{{\n    [\n      {type: 'colour', source: '#EB8334', value: 1},\n      {type: 'image', source: 'https://images.unsplash.com/photo-1559703248-dcaaec9fab78?w=100&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8aWNlY3JlYW18ZW58MHx8MHx8fDA%3D', value: 2},\n    ]\n  }}",onTap:"",enableHaptics:"",hapticMethod:"",isLoading:!1},null,g,{propertySettings:y,widgetStyleConfig:(0,a.mergeWithDefaultStyles)(p),pluginListing:{labelPrefix:"SwatchWidget",type:"widget",name:"SwatchWidget",description:"Displays Swatch Widget.",section:"Display",layout:{flex:1,flexDirection:"row",width:100},icon:"radio-button"},docs:{},themeProfileSel:["tile","swatchWidget"]})},9850:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},onLoadEnd:"function",headers:{"!type":"string","!doc":"Request headers for web view "}}},3:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=o(n(7128)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(820),s=o(n(3216)),c=n(892),p=o(n(9850)),f=n(4178),g=["borderRadius","margin","padding","elevation"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=l.default.forwardRef((function(e,t){var n,o,r=e.model,p=e.modelUpdate,y=e.modelStyles,m=e.config,h=e.triggerEvent,v=null==(n=r.get("value"))?void 0:n.toString(),b=null==(o=r.get("headers"))?void 0:o.toString(),S=r.get("injectedJavaScript").toString(),w=m.get("layout"),x=w?w.getFlexProperties():{flex:1},P=null!=y?y:{},C=P.borderRadius,I=P.margin,j=P.padding,k=(P.elevation,(0,i.default)(P,g)),T=(0,c.getPlatformStyles)(Object.assign({},k,{borderRadius:C,margin:I,padding:j})),O=b?Object.fromEntries(b.split(",").map((function(e){return e.split(":")}))):{},M=(0,l.useState)(1),E=(0,a.default)(M,2),R=E[0],_=E[1],A=(0,l.useState)({uri:v,headers:O}),V=(0,a.default)(A,2),D=V[0],W=V[1];return(0,l.useEffect)((function(){var e={uri:v,headers:O};s.default.isEqual(D,e)||(W(e),_(R+1))}),[O,D,v,R]),(0,f.jsx)(u.View,{style:[x,T],children:D.uri&&(0,f.jsx)(d.WebView,Object.assign({incognito:!1,onLoadEnd:function(){h("onLoadEnd"),p([{selector:["loading"],newValue:!1}])},originWhitelist:["*"],source:D,onError:function(){p([{selector:["loading"],newValue:!1}])}},S?{injectedJavaScriptBeforeContentLoaded:S}:{},{javaScriptEnabled:!0}),R)})})),h={basic:[{type:"codeInput",name:"headers",props:{label:"Headers",placeholder:""}},{type:"codeInput",name:"injectedJavaScript",props:{label:"Injected JavaScript",placeholder:""}}].concat((0,r.default)(c.defaultEditors.basic)),layout:c.defaultEditors.layout},v={onLoadEnd:{type:c.EventTriggerIdentifier},headers:{getValue:function(e,t,n){return t?t.toString():""}}};u.StyleSheet.create({loader:{bottom:0,left:0,position:"absolute",right:0,top:0}}),t.default=(0,c.connectWidget)("TawkToWebViewWidget",m,{value:"",loading:!0,onLoadEnd:"",headers:"",injectedJavaScript:""},null,h,{propertySettings:v,widgetStyleConfig:c.defaultStyleEditors,pluginListing:{labelPrefix:"tawkToWebView",type:"widget",name:"TawkTo Web View",description:"Load external uri in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:p.default})},8427:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.setText=t.setFocus=void 0;var r=o(n(3580)),a=n(3216),i=n(892),l=n(6352);t.setText=function(e,t,n,o,u){var d,s=o[0],c=o[2],p=null==n?void 0:n.get("instance"),f=i.WidgetRefRegistry.getWidgetRef(s,c,p),g=u.value;f&&((0,a.isNil)(g)&&(0,r.default)("value"),"web"===l.Platform.OS?(0,a.set)(f,"current.value",g):null==f||null==(d=f.current)||d.setNativeProps({text:g}))},t.setFocus=function(e,t,n,o){var r,a=o[0],l=o[2],u=null==n?void 0:n.get("instance"),d=i.WidgetRefRegistry.getWidgetRef(a,l,u);d&&(null==d||null==(r=d.current)||r.focus())}},405:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputWidgetAutocompleteTypes=void 0,t.getPlatformAutoCompleteType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"off";e||(e="off");var t=a.Platform.select({ios:"textContentType",default:"autoComplete"}),n=a.Platform.select(i[e]);return(0,r.default)({},t,n)};var r=o(n(5990)),a=n(6352),i={off:{ios:"none",android:"off"},country:{ios:"countryName",android:"postal-address-country"},"cc-number":{ios:"creditCardNumber",android:"cc-number"},email:{ios:"emailAddress",android:"email"},"family-name":{ios:"familyName",android:"name-family"},"street-address":{ios:"fullStreetAddress",android:"street-address"},"given-name":{ios:"givenName",android:"name-given"},name:{ios:"name",android:"name-given"},"honorific-prefix":{ios:"namePrefix",android:"name-prefix"},"honorific-suffix":{ios:"nameSuffix",android:"name-suffix"},"postal-code":{ios:"postalCode",android:"postal-code"},tel:{ios:"telephoneNumber",android:"tel"},username:{ios:"username",android:"username"},"current-password":{ios:"password",android:"password"},"new-password":{ios:"newPassword",android:"password-new"},"one-time-code":{ios:"oneTimeCode",android:"sms-otp"}};t.TextInputWidgetAutocompleteTypes=Object.keys(i)},436:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"string",placeholder:"string",label:"string",hasLabel:"boolean",labelPosition:"string",labelAlign:"string",labelWidth:"number",labelWidthUnit:"string"}},1237:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.textInputWidgetStyleConfig=t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=n(3216),d=o(n(436)),s=n(892),c=n(7328),p=n(405),f=n(8427),g=n(4178),y=["typography","innerBackgroundColor","backgroundColor","placeholderColor"],m=["width"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var v=["value"],b=(0,c.populateValidationConfig)(Object.assign({value:"",placeholder:"Enter value",onSubmit:"",onBlur:"",onFocus:"",onTypingPaused:"",keyboardType:"",setText:"action",setFocus:"action"},s.LabelTemplateConfig),v),S=t.textInputWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background"}},{type:"colorInput",name:"innerBackgroundColor",props:{label:"InnerBackgroundColor"}},{type:"colorInput",name:"color",props:{label:"Text Color"}},{type:"colorInput",name:"placeholderColor",props:{label:"Placeholder Color"}},{type:"trblValuesEditor",name:"borderWidth",props:{label:"Border",options:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"]}},{type:"colorInput",name:"borderColor",props:{label:"Border Color"}},{type:"borderRadiusEditor",name:"borderRadius",props:{label:"Border Radius",options:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],layout:"square"}},{type:"trblValuesEditor",name:"padding",props:{label:"Padding",options:["paddingTop","paddingRight","paddingBottom","paddingLeft"]}},{type:"typographyInput",name:"typography",props:{label:"Typography"}},{type:"trblValuesEditor",name:"margin",props:{label:"Margin",options:["marginTop","marginRight","marginBottom","marginLeft"]}}],w=i.default.forwardRef((function(e,t){var n=e,o=n.model,r=n.modelUpdate,d=n.triggerEvent,f=n.config,h=n.modelStyles,b=n.instance,S=n.pageKey,w=n.id,x=f.get("layout"),P=(0,s.getPlatformStyles)(x?x.getFlexProperties():{flex:1}),C=(0,s.getPlatformStyles)(h),I=C.typography,j=C.innerBackgroundColor,k=C.backgroundColor,T=C.placeholderColor,O=(0,a.default)(C,y),M=(0,i.useRef)(!1),E=(0,i.useRef)(),R=(0,i.useContext)(s.WidgetRefContext);(0,i.useEffect)((function(){return null!=E&&E.current&&R.registerWidgetRef(E,S,w,b),function(){R.unRegisterWidgetRef(S,w,b)}}),[w,b,S,E,R]);var _=o.get("value"),A=o.get("placeholder"),V=(0,s.isJSBinding)(_)?"":_,D=(0,i.useRef)(""),W=(0,i.useRef)(!1),L=(0,i.useRef)(!1),B=function(e){var t=[{selector:["value"],newValue:D.current}];e&&t.push({selector:["placeholder"],newValue:o.get("placeholder")+" "}),r(t),W.current=!0,(0,c.fieldValidator)(o,v,r)};(0,i.useEffect)((function(){var e;!E.current||null!=M&&M.current||("web"===l.Platform.OS?(0,u.set)(E,"current.value",V):null==(e=E.current)||e.setNativeProps({text:V})),W.current&&(d("onTypingPaused"),W.current=!1),L.current&&(d("onSubmit"),L.current=!1)}),[V,A,d]);var F=o.get("disabled"),N=o.get("hasLabel"),H=o.get("clearButtonMode","always"),U=o.get("numberOfLines"),z=o.get("keyboardMode"),$=o.get("keyboardType")||"default",G=(0,p.getPlatformAutoCompleteType)(o.get("autoCompleteType")),q=o.get("autoFocus",!1),Y=P.width,K=(0,a.default)(P,m),J=o.get("hasPassword",!1)?{textContentType:"oneTimeCode",secureTextEntry:!0,autoCorrect:!1}:{},Q=parseInt(U,10)?{multiline:!0,numberOfLines:parseInt(U,10)}:{},Z=z?{keyboardModeValue:z}:{};return(0,g.jsxs)(l.View,{style:{backgroundColor:k,width:Y},ref:t,children:[N&&(0,g.jsx)(s.LabelControlComponent,Object.assign({},e)),(0,g.jsx)(l.TextInput,Object.assign({style:[{backgroundColor:j},K,O,I],ref:E,autoCapitalize:"none",clearButtonMode:H,autoFocus:q,editable:!F,keyboardType:$,onSubmitEditing:function(){return B(D.current===V),void(L.current=!0)}},Q,{onBlur:function(){M.current=!1,d("onBlur")},onFocus:function(){M.current=!0,d("onFocus")},onChangeText:function(e){return null!==(t=e)&&(D.current=t),void B(!1);var t},placeholder:A,placeholderTextColor:T},Z,J,G))]})})),x={value:{getValue:function(e,t,n){return t||""}},onSubmit:{type:s.EventTriggerIdentifier},onBlur:{type:s.EventTriggerIdentifier},onFocus:{type:s.EventTriggerIdentifier},onTypingPaused:{type:s.EventTriggerIdentifier},setText:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return f.setText},actionMetadata:{editableInputParams:{value:""}}},setFocus:{type:s.TriggerActionIdentifier,getValue:function(e,t,n){return f.setFocus}}},P={basic:[].concat((0,r.default)(s.defaultEditors.basic),[{type:"codeInput",name:"placeholder",props:{label:"Placeholder"}}]),layout:s.defaultEditors.layout,advanced:[].concat((0,r.default)(s.labelEditorsConfig.advanced),[{type:"checkbox",name:"hasPassword",props:{label:"Has Password"}},{type:"codeInput",name:"numberOfLines",props:{label:"Number of lines"}},{type:"radioGroup",name:"clearButtonMode",props:{label:"Show Clear Button",options:["always","never","unless-editing","while-editing"]}},{type:"codeInput",name:"disabled",props:{label:"Disabled"}},{type:"dropDown",name:"keyboardType",defaultValue:"default",props:{label:"keyboardType",options:["default","number-pad","numeric","email-address","phone-pad"]}},{type:"checkbox",name:"autoFocus",props:{label:"Auto Focus"}},{type:"dropDown",name:"autoCompleteType",defaultValue:"off",props:{label:"Auto Complete Type",options:p.TextInputWidgetAutocompleteTypes}}],(0,r.default)((0,c.getValidationEditorProps)(v)))};t.default=(0,s.connectWidget)("TextInputWidget",w,b,null,P,{propertySettings:x,widgetStyleConfig:(0,s.mergeWithDefaultStyles)(S),pluginListing:{labelPrefix:"textInput",type:"widget",name:"Text Input",description:"An Input field to accept various values from the user.",layout:{flex:1},section:"Inputs",icon:"text-input"},docs:d.default,themeProfileSel:["tile","textInput"]})},7328:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.populateValidationConfig=t.getValidationEditorProps=t.generateValidationState=t.fieldValidator=t.ValidationWrapper=void 0;var r=o(n(3216)),a=o(n(6840)),i=n(4178),l=(t.populateValidationConfig=function(e,t){return r.default.forEach(t,(function(t){var n=l(t),o=n.isValid,r=n.regexArr,a=n.validateToggle;e[o]=!1,e[r]=[],e[a]=!1})),e},t.generateValidationState=function(e){return{isValid:r.default.camelCase(`is ${e} valid`),regexArr:r.default.camelCase(`${e} Regex`),validateToggle:r.default.camelCase(`validate ${e}`)}}),u=(t.ValidationWrapper=function(e,t){return a.default.forwardRef((function(n,o){var r=n.model,l=n.modelUpdate;return a.default.useEffect((function(){return u(r,t,l)}),[r,l]),(0,i.jsx)(e,Object.assign({},n,{ref:o}))}))},t.fieldValidator=function(e,t,n){for(var o=function(){var o=t[a],i=l(o),u=i.isValid,d=i.regexArr,s=i.validateToggle;if(!e.get(s))return 0;var c=!0,p=e.get(o);if(r.default.forEach(e.get(d),(function(e){var t=e.expression;new RegExp(t).test(p)||(c=!1)})),e.get(u)===c)return 0;n([{selector:[u],newValue:c}])},a=0;a<t.length;a++)o()});t.getValidationEditorProps=function(e){var t=[];return e.forEach((function(e){var n=l(e),o=n.regexArr,r=n.validateToggle;t.push({type:"checkbox",name:r,props:{label:`Validate ${e}`}}),t.push({type:"regexInput",name:o,defaultValue:[],props:{label:`${e} Regex`},hidden:function(e){return!e.get(r)}})})),t}},4642:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."}}},379:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.textWidgetStyleConfig=t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=o(n(6840)),l=n(6352),u=n(892),d=o(n(4642)),s=o(n(3216)),c=n(4178),p=["shadowColor","shadowOffset","shadowRadius"],f=["typography"],g=t.textWidgetStyleConfig=[{type:"colorInput",name:"backgroundColor",props:{label:"Background"}},{type:"colorInput",name:"color",props:{label:"Text Color"}},{type:"typographyInput",name:"typography",props:{label:"Typography"}}],y=i.default.forwardRef((function(e,t){var n,o=e.model,r=e.modelStyles,i=e.config,d=(e.animations,(0,u.usePlaceHolder)()),g=null==(n=o.get("value"))?void 0:n.toString(),y=(0,u.isJSBinding)(g)?"":g,m=i.get("layout"),h=!!o.get("isLoading"),v=(0,u.getPlatformStyles)(m?m.getFlexProperties():{flex:1}),b=r?(0,u.getPlatformStyles)(r):{},S=b.shadowColor,w=b.shadowOffset,x=b.shadowRadius,P=(0,a.default)(b,p),C=P.typography,I=(0,a.default)(P,f),j=s.default.isEmpty(o.get("horizontalAlign","auto"))?"auto":o.get("horizontalAlign","auto"),k=s.default.isEmpty(o.get("verticalAlign","auto"))?"auto":o.get("verticalAlign","auto"),T=o.get("overflowType")?o.get("overflowType"):"hidden",O=o.get("adjustsFontSizeToFit",!1),M=O?{adjustsFontSizeToFit:O,minimumFontScale:s.default.clamp(s.default.toNumber(o.get("minFontScale",1)),0,1)}:{},E=o.get("numLines",void 0)?{numberOfLines:s.default.clamp(s.default.toNumber(o.get("numLines",1)),1,Number.MAX_SAFE_INTEGER),ellipsizeMode:o.get("ellipsizeMode","tail")}:{};return h?(0,c.jsx)(d,{layoutStyles:Object.assign({},v,I,{height:null==C?void 0:C.fontSize,minWidth:"75%"})}):(0,c.jsx)(l.Animated.Text,Object.assign({ref:t},M,E,{style:[v,I,C,{textAlign:["auto","left","center","right"].includes(j)?j:"auto",textAlignVertical:["auto","top","center","bottom"].includes(k)?k:"auto",overflow:T},{textShadowColor:S,textShadowOffset:w,textShadowRadius:x}],children:y||""}))})),m={basic:(0,r.default)(u.defaultEditors.basic),advanced:[{type:"checkbox",name:"adjustsFontSizeToFit",props:{label:"Adjust font size to fit"}},{type:"codeInput",name:"minFontScale",props:{label:"Minimum font scale"},hidden:function(e){return!e.get("adjustsFontSizeToFit")}},{type:"codeInput",name:"numLines",props:{label:"Number of lines"}},{type:"radioGroup",name:"ellipsizeMode",props:{label:"Ellipsize Mode",options:["head","middle","tail","clip"]}},{type:"codeInput",name:"isLoading",defaultValue:!1,props:{label:"Loading State"}}],layout:[{type:"radioGroup",name:"horizontalAlign",props:{label:"Horizontal Alignment",options:[{icon:"alpha-a",value:"auto"},{icon:"format-align-left",value:"left"},{icon:"format-align-center",value:"center"},{icon:"format-align-right",value:"right"},{icon:"format-align-justify",value:"justify"}]}},{type:"radioGroup",name:"verticalAlign",props:{label:"Vertical Alignment",options:[{icon:"alpha-a",value:"auto"},{icon:"format-vertical-align-top",value:"top"},{icon:"format-vertical-align-center",value:"center"},{icon:"format-vertical-align-bottom",value:"bottom"}]}},{type:"radioGroup",name:"overflowType",props:{label:"Overflow",options:["scroll","hidden"]}}].concat((0,r.default)(u.defaultEditors.layout)),animations:u.defaultEditors.animations},h={isLoading:{getValue:function(e,t){return(0,u.makeBoolean)(t)}},minFontScale:{getValue:function(e,t){return t}},numLines:{getValue:function(e,t){return t}},useAnimamtedValue:{getValue:function(e,t){return(0,u.makeBoolean)(t)}}};t.default=(0,u.connectWidget)("TextWidget",y,{value:"Text",adjustsFontSizeToFit:!1,minFontScale:1,numLines:1,useAnimamtedValue:!1,isLoading:!1},null,m,{propertySettings:h,widgetStyleConfig:(0,u.mergeWithDefaultStyles)(g),pluginListing:{labelPrefix:"text",type:"widget",name:"Text",description:"Display Text on screen with varying styles.",layout:{flex:1},section:"Display",icon:"text"},docs:d.default,themeProfileSel:["tile","text"]})},2427:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(892),a=o(n(3216)),i={onTimerEnd:{type:r.EventTriggerIdentifier},enabled:{getValue:function(e,t,n){return!("false"===t||"0"===t||a.default.isObjectLike(t)&&a.default.isEmpty(t)||!t)}},value:{getValue:function(e,t,n){return a.default.isNaN(1*t)?t:a.default.toNumber(t)}}};t.default=(0,r.connectPlugin)("TimerPlugin",null,{enabled:!1,value:5e3,onTimerEnd:""},(function*(e,t,n,o,a,i){var l=e.stageModel.getPluginModel(n,t),u=null==l?void 0:l.get("enabled"),d=null==l?void 0:l.get("value"),s=null==l?void 0:l.get("currentTimer"),c=(0,r.getPluginSelector)(n,t).concat(o?[o]:[]),p=r.store.dispatch;if(logger.info("Timer::onPluginUpdate",u,d,s),u&&!s)return s=setTimeout((function(){p((0,r.triggerPageEvent)(n,t,o,"onTimerEnd")),p((0,r.modelUpdateAction)([{selector:c.concat(["currentTimer"]),newValue:null}]))}),d),{modelUpdates:[{selector:[t,"currentTimer"],newValue:s}]}}),{basic:[{type:"codeInput",name:"enabled",props:{label:"Enabled",placeholder:"false"}},{type:"codeInput",name:"value",props:{label:"Value",placeholder:5e3}}]},{propertySettings:i,pluginListing:{labelPrefix:"timer",type:"state",name:"Timer",description:"Timer plugin",defaultHeight:0,defaultWidth:0,section:"Data",icon:"timer"}})},4669:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"number","!doc":"URL of the video."},controls:{"!type":"boolean","!doc":"Show controls on the player."},loop:{"!type":"boolean","!doc":"Repeat video on end."},mute:{"!type":"boolean","!doc":"Mute video."},autoplay:{"!type":"boolean","!doc":"Start video as soon as loaded."},poster:{"!type":"string","!doc":"Poster URL, to be shown if video is yet to load."}}},5192:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),a=n(892),i=n(6352),l=o(n(4669)),u=n(989),d=n(4652),s=n(2112),c=n(4178);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f={source:{getValue:function(e,t,n){var o;return null!=(o=null==t?void 0:t.toString())?o:""}},poster:{getValue:function(e,t,n){return t.toString()}},paused:{getValue:function(e,t,n){return t}},muted:{getValue:function(e,t,n){return t}},ended:{getValue:function(e,t,n){return t}},tapped:{getValue:function(e,t,n){return t}},play:{type:a.TriggerActionIdentifier,getValue:function(){return d.play}},pause:{type:a.TriggerActionIdentifier,getValue:function(){return d.pause}},replayVideo:{type:a.TriggerActionIdentifier,getValue:function(){return d.replayVideo}},mute:{type:a.TriggerActionIdentifier,getValue:function(){return d.mute}},unmute:{type:a.TriggerActionIdentifier,getValue:function(){return d.unmute}},skipAhead:{type:a.TriggerActionIdentifier,getValue:function(){return d.skipAhead}},rewind:{type:a.TriggerActionIdentifier,getValue:function(){return d.rewind}},setTapped:{type:a.TriggerActionIdentifier,getValue:function(){return d.setTapped},actionMetadata:{editableInputParams:{sticky:"{{true}}"}}},seekByPercentage:{type:a.TriggerActionIdentifier,getValue:function(){return d.seekByPercentage},actionMetadata:{editableInputParams:{percentage:"{{videoSeeker.seekPercentage}}"}}},seekByTime:{type:a.TriggerActionIdentifier,getValue:function(){return d.seekByTime},actionMetadata:{editableInputParams:{time:"{{videoSeeker.seekByTime}}"}}},onPause:{type:a.EventTriggerIdentifier},loop:{getValue:function(e,t,n){return t}},pictureInPicture:{getValue:function(e,t,n){return t}},controls:{getValue:function(e,t,n){return t}}},g={basic:[{type:"codeInput",name:"source",props:{label:"Source",placeholder:""}},{type:"codeInput",name:"poster",props:{label:"poster",placeholder:""}},{type:"checkbox",name:"loop",props:{label:"Loop",placeholder:""}},{type:"checkbox",name:"pictureInPicture",props:{label:"Picture in picture",placeholder:""}},{type:"codeInput",name:"paused",props:{label:"Paused",placeholder:""}},{type:"codeInput",name:"controls",props:{label:"Controls",placeholder:""}}],layout:a.defaultEditors.layout,animations:a.defaultEditors.animations},y=r.default.forwardRef((function(e,t){logger.info("[VIDEOPLAYER] rendering");var n=e.model,o=e.config,l=(e.triggerEvent,e.pageKey),d=e.id,p=e.instance,f=e.namespace,g=(0,r.useContext)(a.WidgetRefContext),y=(0,r.useContext)(a.ApptileAnimationsContext),m=n.get("source"),h=n.get("poster"),v=n.get("controls");v||!1===v||(v=!1);var b=n.get("tapped");b||0===b||(b=0);var S=n.get("muted");S||!1===S||(S=!1);var w=n.get("paused");w||!1===w||(w=!1);var x=n.get("loop");x||!1===x||(x=!1);var P=n.get("pictureInPicture");P||!1===P||(P=!1);var C=o.get("layout"),I=(0,s.useDispatch)(),j=C?C.getFlexProperties():{},k=(0,r.useRef)(),T=(0,r.useRef)({currentTime:0,playableDuration:0,seekableDuration:0}).current,O=(0,r.useRef)(null);(0,r.useEffect)((function(){O.current&&clearTimeout(O.current),b>0?O.current=setTimeout((function(){if(b>0){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:0}]);I(e)}}),5e3):b<0&&logger.info("Entered sustained focus till a positive tapped value is set")}),[b,O.current]),(0,r.useEffect)((function(){return g.registerWidgetRef({current:{play:function(){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"paused"],newValue:!1},{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(e),"web"===i.Platform.OS&&k.current&&k.current.play()},pause:function(){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"paused"],newValue:!0},{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(e),"web"===i.Platform.OS&&k.current&&k.current.pause()},replayVideo:function(){k.current&&k.current.seek(0);var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"paused"],newValue:!0},{selector:[l,"plugins",d,"ended"],newValue:!1}]);I(e),"web"===i.Platform.OS&&k.current&&k.current.pause()},mute:function(){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"muted"],newValue:!0},{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(e)},unmute:function(){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"muted"],newValue:!1},{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(e)},skipAhead:function(){var e,t=T.currentTime+10;t>=T.seekableDuration&&(t=T.seekableDuration),null==(e=k.current)||e.seek(t);var n=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(n)},rewind:function(){var e,t=T.currentTime-10;t<0&&(t=0),null==(e=k.current)||e.seek(t);var n=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(n)},setTapped:function(e){var t=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:e&&null!=e&&e.sticky?-1:Date.now()}]);I(t)},seekByPercentage:function(e){var t,n=e.percentage*T.seekableDuration;n>=T.seekableDuration?n=T.seekableDuration:n<0&&(n=0),null==(t=k.current)||t.seek(n,50);var o=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(o)},seekByTime:function(e){var t,n=e.time;n>=T.seekableDuration?n=T.seekableDuration:n<0&&(n=0),null==(t=k.current)||t.seek(n,50);var o=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(o)}}},l,d,p),function(){g.unRegisterWidgetRef(l,d,p)}}),[g,l,d,p,I,k.current,T]);var M,E=(0,r.useCallback)((function(){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"ended"],newValue:!0}]);I(e)}),[I]);if(f){var R=f.getNamespace().join(".");M=`${l}.${R}::${d}.playbackProgress`}else M=`${l}.${d}.playbackProgress`;var _=(0,r.useCallback)((function(e){T.currentTime=e.currentTime,T.playableDuration=e.playableDuration,T.seekableDuration=e.seekableDuration,y.triggerEvent(M,e)}),[T,y,M]);return(0,c.jsx)(i.Pressable,{onPress:function(){if(!b){var e=(0,a.modelUpdateAction)([{selector:[l,"plugins",d,"tapped"],newValue:Date.now()}]);I(e)}},style:[{position:"relative",width:"100%",height:"100%"},j],children:(0,c.jsx)(u.Video,{ref:k,source:{uri:m},controls:v,poster:h,paused:w,muted:S,pictureInPicture:P,resizeMode:"cover",posterResizeMode:"cover",style:{position:"absolute",top:0,bottom:0,left:0,right:0},repeat:x,ignoreSilentSwitch:"ignore",preventsDisplaySleepDuringVideoPlayback:!0,onEnd:E,onProgress:_})})}));t.default=(0,a.connectWidget)("VideoPlayerWidgetV2",y,{source:"",poster:"",paused:"",ended:"",muted:"",tapped:"",loop:"",pictureInPicture:"",controls:"",play:"action",pause:"action",replayVideo:"action",mute:"action",unmute:"action",skipAhead:"action",rewind:"action",setTapped:"action",seekByPercentage:"action",seekByTime:"action"},null,g,{propertySettings:f,widgetStyleConfig:a.defaultStyleEditors,pluginListing:{labelPrefix:"videoPlayerv2",type:"widget",name:"VideoPlayerV2",description:"Play external videos",layout:{flex:1},defaultHeight:"auto",defaultWidth:"auto",section:"Display",icon:"video-player"},docs:l.default,animations:{animatedValues:["playbackProgress"]}})},989:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.Video=void 0;var r=o(n(7060)),a=n(6840);t.Video=(0,a.memo)(r.default,(function(e,t){var n,o,r=(null==(n=e.source)?void 0:n.uri)!=(null==(o=t.source)?void 0:o.uri),a=e.paused!=t.paused,i=e.muted!=t.muted;return!(r||a||i)}))},4652:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mute=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.mute()},t.pause=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.pause()},t.play=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.play()},t.replayVideo=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.replayVideo()},t.rewind=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.rewind()},t.seekByPercentage=function(e,t,n,r,a){var i,l=r[0],u=r[2],d=n.get("instance"),s=o.WidgetRefRegistry.getWidgetRef(l,u,d);null==s||null==(i=s.current)||i.seekByPercentage(a)},t.seekByTime=function(e,t,n,r,a){var i,l=r[0],u=r[2],d=n.get("instance"),s=o.WidgetRefRegistry.getWidgetRef(l,u,d);null==s||null==(i=s.current)||i.seekByTime(a)},t.setTapped=function(e,t,n,r,a){var i,l=r[0],u=r[2],d=n.get("instance"),s=o.WidgetRefRegistry.getWidgetRef(l,u,d);null==s||null==(i=s.current)||i.setTapped(a)},t.skipAhead=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.skipAhead()},t.unmute=function(e,t,n,r){var a,i=r[0],l=r[2],u=n.get("instance"),d=o.WidgetRefRegistry.getWidgetRef(i,l,u);null==d||null==(a=d.current)||a.unmute()};var o=n(892)},4070:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7488)),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),i=n(6352),l=n(3872),u=o(n(6684)),d=o(n(9481)),s=o(n(3216)),c=n(892),p=n(4178);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var g=i.StyleSheet.create({playButton:Object.assign({},i.StyleSheet.absoluteFillObject,{justifyContent:"center",alignItems:"center",top:"50%",left:"50%",transform:[{translateX:-32},{translateY:-32}],width:64,height:64,borderRadius:64,zIndex:2,backgroundColor:"#2b333fb3"}),posterImage:Object.assign({},i.StyleSheet.absoluteFillObject,{zIndex:1})});t.default=function(e){var t=e.URL,n=e.controls,o=e.loop,f=e.mute,y=e.autoplay,m=e.resizeMode,h=void 0===m?"contain":m,v=e.poster,b=e.onPlay,S=e.onPause,w=e.onEnd,x=(0,a.useState)(!y),P=(0,r.default)(x,2),C=P[0],I=P[1],j=(0,a.useState)(!0),k=(0,r.default)(j,2),T=k[0],O=k[1],M=(0,a.useCallback)((0,d.default)((function(){O(!1),I(!1),null==b||b()})),[]),E={disableFullscreen:!(!C&&n),disablePlayPause:!(!C&&n),disableSeekbar:!(!C&&n),disableVolume:!0,disableTimer:!(!C&&n),disableBack:!0},R=(0,l.useIsFocused)();(0,a.useEffect)((function(){R||I(!0),y&&R&&I(!1)}),[y,R]);var _=(0,a.useRef)(i.AppState.currentState);return(0,a.useEffect)((function(){var e=i.AppState.addEventListener("change",(function(e){_.current.match(/inactive|background/)&&"active"===e?y&&R&&I(!1):I(!0),_.current=e}));return function(){return e.remove()}}),[y,R]),(0,p.jsxs)(p.Fragment,{children:[!s.default.isEmpty(t)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.default,Object.assign({source:{uri:t},paused:C,resizeMode:h},E,{repeat:o,muted:f,onProgress:M,onPause:function(){I(!0),null==S||S()},onEnd:function(){I(!0),null==w||w()}})),C&&n&&(0,p.jsx)(i.Pressable,{style:g.playButton,onPress:function(){return I(!1)},children:(0,p.jsx)(c.MaterialCommunityIcons,{size:30,name:"play",color:"#ffffff"})})]}),C&&!!v&&T&&(0,p.jsx)(i.Image,{source:{uri:v},style:Object.assign({},g.posterImage,{resizeMode:h})})]})}},6993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"number","!doc":"URL of the video."},controls:{"!type":"boolean","!doc":"Show controls on the player."},loop:{"!type":"boolean","!doc":"Repeat video on end."},mute:{"!type":"boolean","!doc":"Mute video."},autoplay:{"!type":"boolean","!doc":"Start video as soon as loaded."},poster:{"!type":"string","!doc":"Poster URL, to be shown if video is yet to load."}}},5364:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(7128)),a=o(n(7488)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),l=n(6352),u=o(n(6993)),d=n(892),s=o(n(4070)),c=n(4178),p=["borderRadius","margin","padding"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var g=[".mp4",".m3u8"],y=i.default.forwardRef((function(e,t){var n=e.model,o=e.modelStyles,u=e.getDeviceImage,f=e.config,y=(e.modelUpdate,e.triggerEvent),m=i.default.useRef(null);i.default.useEffect((function(){t&&("function"==typeof t?t(m.current):t.current=m.current)}),[t]);var h=n.get("value"),v=!!n.get("controls"),b=!!n.get("loop"),S=!!n.get("mute"),w=!!n.get("autoplay"),x=n.get("resizeMode"),P=n.get("poster"),C=n.get("posterSourceType"),I=n.get("posterAssetId"),j=u(I).getOptimalImage,k=(0,i.useState)(),T=(0,a.default)(k,2),O=T[0],M=T[1],E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";if(C&&"url"!==(null==C?void 0:C.toLowerCase())&&I&&j&&O){var R=l.PixelRatio.getPixelSizeForLayoutSize(null==O?void 0:O.width),_=l.PixelRatio.getPixelSizeForLayoutSize(null==O?void 0:O.height),A=j&&j(`${R}x${_}`);E=null==A?void 0:A.fileUrl}else C&&"url"===(null==C?void 0:C.toLowerCase())&&(E=P);var V=g.some((function(e){return null==h?void 0:h.includes(e)})),D=(0,i.useCallback)((function(){return y("onPlay")}),[y]),W=(0,i.useCallback)((function(){return y("onPause")}),[y]),L=(0,i.useCallback)((function(){return y("onEnd")}),[y]),B=f.get("layout"),F=B?B.getFlexProperties():{flex:1},N=null!=o?o:{},H=N.borderRadius,U=N.margin,z=N.padding,$=(0,r.default)(N,p),G=(0,d.getPlatformStyles)(Object.assign({},$,{borderRadius:H,margin:U,padding:z}));return(0,c.jsxs)(l.View,{ref:m,onLayout:function(e){M(e.nativeEvent.layout)},style:[F,G],children:[O&&(0,c.jsx)(s.default,{URL:h,controls:v,loop:b,mute:S,autoplay:w,resizeMode:x,onPlay:D,onPause:W,onEnd:L,poster:E,layout:O}),!V&&(0,c.jsx)(c.Fragment,{})]})})),m={basic:[{type:"cloudinaryEditor",name:"value",props:{label:"Video",urlProperty:"value",placeholder:""}},{type:"checkbox",name:"controls",props:{label:"Controls",placeholder:""}},{type:"checkbox",name:"loop",props:{label:"Loop",placeholder:""}},{type:"checkbox",name:"mute",props:{label:"Mute",placeholder:""}},{type:"checkbox",name:"autoplay",props:{label:"Auto Play",placeholder:""}},{type:"radioGroup",name:"resizeMode",defaultValue:"contain",props:{label:"Resize Mode",options:["contain","cover"]}},{type:"assetEditor",name:"poster",props:{label:"Thumbnail",urlProperty:"poster",assetProperty:"posterAssetId",sourceTypeProperty:"posterSourceType"}}],layout:d.defaultEditors.layout},h={value:{getValue:function(e,t,n){return null==t?void 0:t.toString()}},controls:{getValue:function(e,t,n){return!!t}},loop:{getValue:function(e,t,n){return!!t}},autoplay:{getValue:function(e,t,n){return!!t}},onPlay:{type:d.EventTriggerIdentifier},onPause:{type:d.EventTriggerIdentifier},onEnd:{type:d.EventTriggerIdentifier}};t.default=(0,d.connectWidget)("VideoPlayerWidget",y,{value:"",controls:!0,loop:!1,mute:!1,autoplay:!1,resizeMode:"contain",poster:"",onPlay:"Event_onPlay",onPause:"Event_onPause",onEnd:"Event_onEnd"},null,m,{propertySettings:h,widgetStyleConfig:d.defaultStyleEditors,pluginListing:{labelPrefix:"videoPlayer",type:"widget",name:"Video Player",description:"Play external videos",layout:{flex:1},defaultHeight:"auto",defaultWidth:"auto",section:"Display",icon:"video-player"},docs:u.default})},8811:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"number","!doc":"The value displayed by the widget."},readType:{"!type":"string","!doc":'Read Type of Rating Component. One of:  "Rating Selector", "Read Only"'}}},3694:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),a=n(892),i=n(6352),l=n(2112),u=o(n(8811)),d=n(4178);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=i.Animated.createAnimatedComponent(i.TextInput),p={onPanStart:{type:a.EventTriggerIdentifier},onPanEnd:{type:a.EventTriggerIdentifier}},f={basic:[{type:"codeInput",name:"sliderIcon",props:{label:"Slider Icon",placeholder:"circle"}},{type:"codeInput",name:"barHeight",props:{label:"Bar thickness",placeholder:"10"}}],layout:a.defaultEditors.layout,animations:a.defaultEditors.animations};function g(e){e=Math.trunc(e);var t=Math.floor(e/3600),n=e%3600,o=Math.floor(n/60);n%=60;var r="";return t>0&&(r+=t.toString().padStart(2,"0")+":"),(r+=o.toString().padStart(2,"0")+":")+n.toString().padStart(2,"0")}var y=r.default.forwardRef((function(e,t){var n=i.Platform.select({web:{userSelect:"none"},ios:{},android:{}}),o=e.model,u=(e.config,e.triggerEvent),s=e.pageKey,p=e.id,f=(e.instance,e.animations),y=e.namespace,m=o.get("sliderIcon")||"circle",h=parseInt(o.get("barHeight"));isNaN(h)&&(h=10);var v=(0,r.useRef)(!1),b=o.get("activeBarColor")||"#ffffffff",S=o.get("inactiveBarColor")||"#ccccccff",w=(0,l.useDispatch)(),x=(0,r.useContext)(a.ApptileAnimationsContext),P=parseInt(o.get("playbackDuration"))||320,C=null==f?void 0:f.get("references").get("playbackProgress"),I=(0,r.useRef)(new i.Animated.Value(0)).current,j=(0,r.useRef)(!1),k="";if(y&&C){var T=y.getNamespace().join(".");k=`${s}.${T}::${C.join(".")}`}else C&&(k=`${s}.${C.join(".")}`);var O=(0,r.useRef)(new i.Animated.Value(0)).current,M=(0,r.useRef)(new i.Animated.ValueXY({x:300,y:100})).current,E=(0,r.useRef)(),R=(0,r.useRef)(),_=(0,r.useCallback)((function(e){var t=e.currentTime/e.seekableDuration;if((0==e.seekableDuration||isNaN(t))&&(t=0),0==I._value&&i.Animated.timing(I,{toValue:1,duration:300,easing:i.Easing.in,useNativeDriver:!0}).start(),isNaN(t))logger.info("Trying to set invalid time value",e);else{var n=O._value,o=Math.abs(n-t)*e.seekableDuration,r=function(){O.setValue(t);var n="";R.current&&(n=g(e.currentTime),i.Platform.select({web:function(){R.current.value=`-${n}`},default:function(){var e;null==(e=R.current)||e.setNativeProps({text:`-${n}`})}})()),E.current&&(n=g(e.seekableDuration-e.currentTime),i.Platform.select({web:function(){E.current.value=`${n}`},default:function(){var e;null==(e=E.current)||e.setNativeProps({text:`${n}`})}})())};j.current?o<3&&(j.current=!1,r()):r()}}),[O]);(0,r.useEffect)((function(){if(k)return x.addListener(k,_),function(){x.removeListener(k,_)}}),[_,k]);var A=(0,r.useRef)(new i.Animated.Value(0)).current,V=(0,r.useRef)(new i.Animated.Value(0)).current,D=(0,r.useRef)(i.PanResponder.create({onStartShouldSetPanResponder:function(e,t){return!0},onStartShouldSetPanResponderCapture:function(e,t){u("onPanStart");var n=M.x._value;return V.setOffset(n*O._value),A.setValue(1),!0},onMoveShouldSetPanResponderCapture:function(e,t){return!0},onMoveShouldSetPanResponder:function(e){return!0},onPanResponderMove:i.Animated.event([null,{dx:V}]),onPanResponderRelease:function(){A.setValue(0),V.flattenOffset();var e=V._value/M.x._value;e<0?e=0:e>1&&(e=1),logger.info("final playback percentage: ",e),O.setValue(e);var t=(0,a.modelUpdateAction)([{selector:[s,"plugins",p,"seekPercentage"],newValue:e}]);j.current=!0,v.current=!0,w(t)}})).current,W=o.get("seekPercentage");(0,r.useEffect)((function(){var e=parseFloat(W);!isNaN(e)&&v.current&&(v.current=!1,setTimeout((function(){u("onPanEnd")}),100))}),[W,v]);var L=i.Platform.select({web:25,android:25,ios:40});return(0,d.jsxs)(i.Animated.View,Object.assign({style:Object.assign({position:"relative",width:"100%",height:"100%",overflow:"hidden",opacity:I},n),onLayout:function(e){var t,n=e.nativeEvent.layout.width,o=e.nativeEvent.layout.height;n&&o&&M.setValue({x:n,y:o}),R.current&&(t=g(O._value*P),i.Platform.select({web:function(){R.current.value=`-${t}`},default:function(){var e;null==(e=R.current)||e.setNativeProps({text:`-${t}`})}})()),E.current&&(t=g((1-O._value)*P),i.Platform.select({web:function(){E.current.value=`${t}`},default:function(){var e;null==(e=E.current)||e.setNativeProps({text:`${t}`})}})())}},D.panHandlers,{children:[(0,d.jsx)(c,{ref:R,style:Object.assign({fontSize:10,position:"absolute",left:0,top:L,color:b,transform:[{translateY:i.Animated.subtract(i.Animated.multiply(.5,M.y),35)}]},n)}),(0,d.jsx)(c,{ref:E,style:Object.assign({fontSize:10,position:"absolute",right:0,top:L,color:b,textAlign:"right",transform:[{translateY:i.Animated.subtract(i.Animated.multiply(.5,M.y),35)}]},n)}),(0,d.jsx)(i.Animated.View,{style:Object.assign({position:"absolute",height:h,width:"100%",backgroundColor:S,transform:[{translateY:i.Animated.subtract(i.Animated.multiply(.5,M.y),5)}]},n)},"barcontainer"),(0,d.jsx)(i.Animated.View,{style:Object.assign({position:"absolute",height:h,width:"100%",backgroundColor:b,transform:[{translateX:i.Animated.multiply(i.Animated.subtract(O,1),M.x)},{translateY:i.Animated.subtract(i.Animated.multiply(.5,M.y),5)}]},n)},"filledbar"),(0,d.jsx)(i.Animated.View,{style:Object.assign({position:"absolute",width:40,height:40,transform:[{translateX:i.Animated.add(i.Animated.multiply(A,V),i.Animated.multiply(i.Animated.subtract(1,A),i.Animated.subtract(i.Animated.multiply(O,M.x),12)))},{translateY:i.Animated.subtract(i.Animated.multiply(.5,M.y),13)}]},n),children:(0,d.jsx)(a.MaterialCommunityIcons,{name:m,size:20,color:b})},"dragger")]}))}));t.default=(0,a.connectWidget)("VideoSeeker",y,{onPanStart:"",onPanEnd:"",seekPercentage:"",activeBarColor:"#ffffffff",inactiveBarColor:"#ccccccff",sliderIcon:"circle",barHeight:"10"},null,f,{propertySettings:p,widgetStyleConfig:(0,a.mergeWithDefaultStyles)([{type:"colorInput",name:"activeBarColor",props:{label:"Played bar color",placeholder:"transparentBackground"}},{type:"colorInput",name:"inactiveBarColor",props:{label:"Unplayed bar color",placeholder:"transparentBackground"}}]),pluginListing:{labelPrefix:"VideoSeeker",type:"widget",name:"VideoSeeker",description:"seek in a videoPlayerV2 plugin",layout:{flex:1},defaultHeight:"auto",defaultWidth:"auto",section:"Display",icon:"slider-range"},docs:u.default,themeProfileSel:["tile","text"],animations:{references:{playbackProgress:{name:"playbackProgress"}}}})},4058:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},onLoadEnd:"function",headers:{"!type":"string","!doc":"Request headers for web view "}}},1299:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=o(n(7128)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(820),s=o(n(3216)),c=n(892),p=o(n(4058)),f=n(4178),g=["borderRadius","margin","padding","elevation"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=l.default.forwardRef((function(e,t){var n,o,r,p,y=e.model,m=e.modelUpdate,h=e.modelStyles,v=e.config,b=e.triggerEvent,S=null==(n=y.get("value"))?void 0:n.toString(),w=null==(o=y.get("headers"))?void 0:o.toString(),x=null==y||null==(r=y.get("injectedJavaScript"))?void 0:r.toString(),P=null==y||null==(p=y.get("injectedJavaScriptBeforeContentLoaded"))?void 0:p.toString(),C=v.get("layout"),I=C?C.getFlexProperties():{flex:1},j=null!=h?h:{},k=j.borderRadius,T=j.margin,O=j.padding,M=(j.elevation,(0,i.default)(j,g)),E=(0,c.getPlatformStyles)(Object.assign({},M,{borderRadius:k,margin:T,padding:O})),R=w?Object.fromEntries(w.split(",").map((function(e){return e.split(":")}))):{},_=(0,l.useState)(1),A=(0,a.default)(_,2),V=A[0],D=A[1],W=(0,l.useState)({uri:S,headers:R}),L=(0,a.default)(W,2),B=L[0],F=L[1];return(0,l.useEffect)((function(){var e={uri:S,headers:R};s.default.isEqual(B,e)||(F(e),D(V+1))}),[R,B,S,V]),(0,f.jsx)(u.View,{style:[I,E],children:B.uri&&(0,f.jsx)(d.WebView,Object.assign({incognito:!0,onLoadEnd:function(){b("onLoadEnd"),m([{selector:["loading"],newValue:!1}])},originWhitelist:["*"],source:B,onError:function(){m([{selector:["loading"],newValue:!1}])}},x?{injectedJavaScript:x}:{},P?{injectedJavaScriptBeforeContentLoaded:P}:{},{javaScriptEnabled:!0,onMessage:function(e){}}),V)})})),h={basic:[{type:"codeInput",name:"headers",props:{label:"Headers",placeholder:""}},{type:"codeInput",name:"injectedJavaScript",props:{label:"Injected JavaScript",placeholder:""}},{type:"codeInput",name:"injectedJavaScriptBeforeContentLoaded",props:{label:"Injected JavaScript Before Content Loaded",placeholder:""}}].concat((0,r.default)(c.defaultEditors.basic)),layout:c.defaultEditors.layout},v={onLoadEnd:{type:c.EventTriggerIdentifier},headers:{getValue:function(e,t,n){return t?t.toString():""}}};u.StyleSheet.create({loader:{bottom:0,left:0,position:"absolute",right:0,top:0}}),t.default=(0,c.connectWidget)("WebViewWidget",m,{value:"",loading:!0,onLoadEnd:"",headers:"",injectedJavaScript:"",injectedJavaScriptBeforeContentLoaded:""},null,h,{propertySettings:v,widgetStyleConfig:c.defaultStyleEditors,pluginListing:{labelPrefix:"webView",type:"widget",name:"Web View",description:"Load external uri in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:p.default})},4622:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},onLoadEnd:"function",headers:{"!type":"string","!doc":"Request headers for web view "}}},527:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7488)),i=o(n(7128)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(820),s=o(n(3216)),c=n(892),p=o(n(4622)),f=n(4178),g=["borderRadius","margin","padding","elevation"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var m=l.default.forwardRef((function(e,t){(0,l.useRef)(null);var n,o,r,p=e.model,y=e.modelUpdate,m=e.modelStyles,h=e.config,v=e.triggerEvent,b=null==(n=p.get("value"))?void 0:n.toString(),S=null==(o=p.get("headers"))?void 0:o.toString(),w=p.get("injectedJavaScript").toString(),x=null==(r=p.get("injectedJavaScriptWhileContentIsLoading"))?void 0:r.toString(),P=p.get("incognito"),C=p.get("domStorageEnabled"),I=h.get("layout"),j=I?I.getFlexProperties():{flex:1},k=null!=m?m:{},T=k.borderRadius,O=k.margin,M=k.padding,E=(k.elevation,(0,i.default)(k,g)),R=(0,c.getPlatformStyles)(Object.assign({},E,{borderRadius:T,margin:O,padding:M})),_=S?Object.fromEntries(S.split(",").map((function(e){return e.split(":")}))):{},A=(0,l.useState)(1),V=(0,a.default)(A,2),D=V[0],W=V[1],L=(0,l.useState)({uri:b,headers:_}),B=(0,a.default)(L,2),F=B[0],N=B[1];return(0,l.useEffect)((function(){var e={uri:b,headers:_};s.default.isEqual(F,e)||(N(e),W(D+1))}),[_,F,b,D]),(0,f.jsx)(u.View,{style:[j,R],children:F.uri&&(0,f.jsx)(d.WebView,Object.assign({incognito:P,onLoadEnd:function(){v("onLoadEnd"),y([{selector:["loading"],newValue:!1}])},originWhitelist:["*"],source:F,onError:function(){y([{selector:["loading"],newValue:!1}])},onMessage:function(e){var t=JSON.parse(e.nativeEvent.data);"log"===t.type&&console.log("WebView log:",t.message)},domStorageEnabled:C},x?{injectedJavaScript:x}:{},w?{injectedJavaScriptBeforeContentLoaded:w}:{},{javaScriptEnabled:!0}),D)})})),h={basic:[{type:"codeInput",name:"headers",props:{label:"Headers",placeholder:""}},{type:"codeInput",name:"injectedJavaScript",props:{label:"Injected JavaScript",placeholder:""}},{type:"checkbox",name:"incognito",props:{label:"Incognito Mode\n(⚠️ DEV ONLY)"}},{type:"checkbox",name:"domStorageEnabled",props:{label:"DomStorage Enabled\n(⚠️ DEV ONLY)"}},{type:"codeInput",name:"injectedJavaScriptWhileContentIsLoading",props:{label:"Injected JS Loading",placeholder:""}}].concat((0,r.default)(c.defaultEditors.basic)),layout:c.defaultEditors.layout},v={onLoadEnd:{type:c.EventTriggerIdentifier},headers:{getValue:function(e,t,n){return t?t.toString():""}}};u.StyleSheet.create({loader:{bottom:0,left:0,position:"absolute",right:0,top:0}}),t.default=(0,c.connectWidget)("WebViewWidgetV2",m,{value:"",loading:!0,onLoadEnd:"",headers:"",injectedJavaScript:"",incognito:!0,domStorageEnabled:!1,injectedJavaScriptWhileContentIsLoading:""},null,h,{propertySettings:v,widgetStyleConfig:c.defaultStyleEditors,pluginListing:{labelPrefix:"webViewV2",type:"widget",name:"Web View V2",description:"Load external uri in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:p.default})},3103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:{"!type":"string","!doc":"The value displayed by the widget."},onLoadEnd:"function",headers:{"!type":"string","!doc":"Request headers for web view "}}},543:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5990)),a=o(n(3216)),i=n(4444),l=n(892),u=(0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)({},i.eventMapping.toast,(function(e,t,n){t("toast",e.eventData),n(e.eventKey,"success",{message:"Toast triggered successfully",data:e.eventData})})),i.eventMapping.triggerHaptic,(function(e,t,n){t("triggerHaptic",e.eventData),n(e.eventKey,"success",{message:"Haptic triggered successfully",data:e.eventData})})),i.eventMapping.trackAnalytics,(function(e,t,n){(0,l.triggerCustomEventListener)(e.eventData.type,e.eventData.event,e.eventData.properties),t("trackAnalytics",e.eventData),n(e.eventKey,"success",{message:"Analytics tracked successfully",data:e.eventData})})),i.eventMapping.shareText,(function(e,t,n){n(e.eventKey,"success",{message:"Text shared successfully",data:e.eventData}),t("shareText",e.eventData)})),i.eventMapping.getDeviceAndApptileInfo,(function(e,t,n,o){null!=o&&o.get("apptileDetails")?n(e.eventKey,"success",{message:"Device and Apptile info fetched successfully",data:a.default.omit(null==o?void 0:o.get("apptileDetails"),"_raw")}):n(e.eventKey,"error",{message:"Error fetching device and Apptile info"}),t("getDeviceAndApptileInfo",{})})),i.eventMapping.getApptileThemeDetails,(function(e,t,n,o,r){n(e.eventKey,"success",{message:"Apptile theme details fetched successfully",data:{primaryColor:r("colors.primary"),onPrimaryColor:r("colors.onPrimary"),secondaryColor:r("colors.secondary"),onSecondaryColor:r("colors.onSecondary"),backgroundColor:r("colors.background"),onBackgroundColor:r("colors.onBackground"),typography:r("typography")}}),t("getApptileThemeDetails",{})}));t.default=u},4724:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5990)),a=o(n(3216)),i=n(4444),l=(0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)((0,r.default)({},i.eventMapping.addToCart,(function(e,t,n){t("addToCart",e.eventData),n(e.eventKey,"success",{message:"Add to Cart successfully",data:e.eventData})})),i.eventMapping.updateNote,(function(e,t,n){var o;"string"==typeof(null==(o=e.eventData)?void 0:o.note)&&""!==e.eventData.note.trim()?(n(e.eventKey,"success",{message:"Cart Note updated successfully",data:e.eventData}),t("updateNote",e.eventData)):n(e.eventKey,"success",{message:"Cart Note Invalid, please send a valid cart note.",data:e.eventData})})),i.eventMapping.updateAttributes,(function(e,t,n){n(e.eventKey,"success",{message:"Attributes updated successfully",data:e.eventData}),t("updateAttributes",e.eventData)})),i.eventMapping.removeFromCart,(function(e,t,n){n(e.eventKey,"success",{message:"Removed from cart successfully",data:e.eventData}),t("removeFromCart",e.eventData)})),i.eventMapping.applyDiscount,(function(e,t,n){n(e.eventKey,"success",{message:"Processing Discount",data:e.eventData}),t("applyDiscount",e.eventData)})),i.eventMapping.removeAllDiscounts,(function(e,t,n){n(e.eventKey,"success",{message:"All discounts removed successfully"}),t("removeAllDiscounts",{})})),i.eventMapping.getCartDetails,(function(e,t,n,o){var r=null==o?void 0:o.get("cart");r?null!=r&&r.id?(n(e.eventKey,"success",{message:"Cart fetched successfully",data:a.default.omit(r,"_raw")}),t("getCartDetails",{})):n(e.eventKey,"error",{message:"Cart is not initalised."}):n(e.eventKey,"error",{message:"Some error occurred while fetching cart"})}));t.default=l},4170:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5990)),a=o(n(3216)),i=n(4444),l=(0,r.default)((0,r.default)((0,r.default)((0,r.default)({},i.eventMapping.getCurrentCustomer,(function(e,t,n,o){var r,i;null!=o&&o.get("user")?null!=o&&null!=(r=o.get("user"))&&r.loggedInUser?n(e.eventKey,"success",{message:"Current customer fetched successfully",data:a.default.omit(null==o||null==(i=o.get("user"))?void 0:i.loggedInUser,"_raw")}):n(e.eventKey,"error",{message:"Customer is not logged in"}):n(e.eventKey,"error",{message:"Some error occurred while fetching customer"}),t("getCurrentCustomer",{})})),i.eventMapping.getSession,(function(e,t,n,o){var r,i;null!=o&&o.get("user")?null!=o&&null!=(r=o.get("user"))&&r.accessToken?n(e.eventKey,"success",{message:"Session details fetched successfully",data:a.default.omit(null==o||null==(i=o.get("user"))?void 0:i.accessToken,"_raw")}):n(e.eventKey,"error",{message:"Customer is not logged in"}):n(e.eventKey,"error",{message:"Some error occurred while fetching session"}),t("getSession",{})})),i.eventMapping.setSession,(function(e,t,n){n(e.eventKey,"success",{message:"Set Session successfully",data:e.eventData}),t("setSession",e.eventData)})),i.eventMapping.logout,(function(e,t,n){n(e.eventKey,"success",{message:"Logout successfully"}),t("logout",{})}));t.default=l},4444:(e,t)=>{var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.eventMapping=t.APPTILE_EVENTS_KEY=void 0,t.eventMapping=((o={}).initialize="initialize",o.addToCart="ADD_TO_CART",o.updateNote="UPDATE_NOTE",o.updateAttributes="UPDATE_ATTRIBUTES",o.removeFromCart="REMOVE_FROM_CART",o.applyDiscount="APPLY_DISCOUNT",o.removeAllDiscounts="REMOVE_ALL_DISCOUNTS",o.getCartDetails="GET_CART_DETAILS",o.openProduct="OPEN_PRODUCT",o.openCollection="OPEN_COLLECTION",o.openScreen="OPEN_SCREEN",o.getCurrentCustomer="GET_CURRENT_CUSTOMER",o.getSession="GET_SESSION",o.setSession="SET_SESSION",o.logout="LOGOUT",o.toast="TOAST",o.triggerHaptic="TRIGGER_HAPTIC",o.trackAnalytics="TRACK_ANALYTICS",o.shareText="SHARE_TEXT",o.getDeviceAndApptileInfo="GET_DEVICE_AND_APPTILE_INFO",o.getApptileThemeDetails="GET_APPTILE_THEME_DETAILS",o),t.APPTILE_EVENTS_KEY=((n={}).SEND_KEY="APPTILE_EVENTS",n.RECEIVE_KEY="APPTILE_EVENTS_RECEIVE",n)},2889:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.handleEvent=void 0;var r=o(n(5990)),a=o(n(5971)),i=n(4444),l=o(n(4724)),u=o(n(7784)),d=o(n(4170)),s=o(n(543)),c=n(8296),p=Object.assign((0,r.default)({},i.eventMapping.initialize,(function(e,t,n,o,r,l){var u;l([{selector:["apptileTunnelLoading"],newValue:!1}]);var d=(0,c.v4)();e.webKey.current=[].concat((0,a.default)(null==e||null==(u=e.webKey)?void 0:u.current),[d]),n(e.eventKey,"success",{secretKey:d,event:i.eventMapping.initialize,eventData:{message:"Initialized successfully"}})})),l.default,u.default,d.default,s.default);t.handleEvent=function(e,t,n,o,r,a,l,u){var d,s,c=p[t.event];if(t.event===i.eventMapping.initialize)return c(Object.assign({},t,{eventKey:e,webKey:r}),o,n,a,l,u);c&&null!=r&&r.current&&null!=r&&null!=(d=r.current)&&d.includes(t.secretKey)?c(Object.assign({},t,{eventKey:e,webKey:null==r?void 0:r.current}),o,n,a,l,u):c?null!=r&&null!=(s=r.current)&&s.includes(t.secretKey)||(console.log(`Invalid secret key, reinitialize required: ${t.event}`,null==r?void 0:r.current,t.secretKey),n(e,"error",{message:"Invalid secret key, please reinitialize"})):(console.log(`No handler found for event: ${t.event}`),n(e,"error",{message:"Invalid handler sent to AppTile"}))}},7784:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5990)),a=n(4444),i=(0,r.default)((0,r.default)((0,r.default)({},a.eventMapping.openProduct,(function(e,t,n){n(e.eventKey,"success",{message:"Navgiated to product successfully",data:e.eventData}),t("openProduct",e.eventData)})),a.eventMapping.openCollection,(function(e,t,n){n(e.eventKey,"success",{message:"Navgiated to collection successfully",data:e.eventData}),t("openCollection",e.eventData)})),a.eventMapping.openScreen,(function(e,t,n){n(e.eventKey,"success",{message:"Navgiated to screen successfully.",data:e.eventData}),t("openScreen",e.eventData)}));t.default=i},5338:function(e,t,n){var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5971)),a=o(n(7128)),i=o(n(7488)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(6840)),u=n(6352),d=n(820),s=o(n(3216)),c=n(892),p=o(n(3103)),f=n(2889),g=n(4444),y=o(n(9252)),m=n(4178),h=["borderRadius","margin","padding","elevation"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var b="";y.default.getUserAgent().then((function(e){b=e}));var S=l.default.forwardRef((function(e,t){var n,o,r,p,y,v,S,w,x,P,C,I,j=e.model,k=e.modelUpdate,T=e.modelStyles,O=e.config,M=e.triggerEvent,E=null==(n=j.get("value"))?void 0:n.toString(),R=null==(o=j.get("html"))?void 0:o.toString(),_=j.get("useHtml"),A=(0,l.useState)(_),V=(0,i.default)(A,2),D=V[0],W=(V[1],j.get("useAppTunnel")),L=null==(r=j.get("userAgent"))?void 0:r.toString().trim(),B=j.get("reloadKey"),F=(0,c.useTheme)().themeEvaluator,N=null==(p=j.get("headers"))?void 0:p.toString(),H=null==(y=j.get("injectJavaScriptBeforeContentLoad"))||y,U=null!=(v=null==(S=j.get("injectedJavaScript"))?void 0:S.toString())?v:"",z=null!=(w=null==(x=j.get("injectedCss"))?void 0:x.toString())?w:"",$=null!=(P=null==(C=j.get("injectedJavaScriptWhileContentIsLoading"))?void 0:C.toString())?P:"",G=j.get("incognito"),q=j.get("domStorageEnabled"),Y=O.get("layout"),K=Y?Y.getFlexProperties():{flex:1},J=j.get("navigationalRegex"),Q=j.get("defaultNavigationScreenName"),Z=null==(I=j.get("hideSelectors"))?void 0:I.toString().trim();Z&&(U=`\n    const addThisSet2 = setInterval(()=>{\n      if(document.getElementById('hideStyle1211-apptile')) clearInterval(addThisSet2);\n      else{\n        var hideStyle1211 = document.createElement('style');\n        hideStyle1211.setAttribute('id', 'hideStyle1211-apptile');\n        hideStyle1211.innerHTML = '${Z} { display: none !important;}';\n        document.head.appendChild(hideStyle1211);\n      }\n    }, 10);`),W&&($=`\n    const addThisSet1 = setInterval(()=>{\n        if(document.getElementById('sc1211-apptile')) clearInterval(addThisSet1);\n        else{\n          if(!window.Apptile) {\n            var sc1211 = document.createElement("script");\n            sc1211.setAttribute("src", "https://unpkg.com/@apptile/apptile-web-tunnel@latest/dist/index.min.js");\n            sc1211.setAttribute('id', 'sc1211-apptile');\n            sc1211.setAttribute("type", "text/javascript");\n            sc1211.setAttribute("fetchpriority", "high");\n            document.head.appendChild(sc1211);\n          }\n        }\n      }, 100);\n      try{\n        ${$}\n      } catch(error) {\n        window.Apptile.sendRawMessageAsync({type: 'POST', event: 'errorReport', eventData: error});\n        console.error(error);\n      }`,U=`\n    const addThisSet3 = setInterval(()=>{\n        if(document.getElementById('sc1211-apptile')) clearInterval(addThisSet3);\n        else{\n          if(!window.Apptile) {\n            var sc1211 = document.createElement("script");\n            sc1211.setAttribute("src", "https://unpkg.com/@apptile/apptile-web-tunnel@latest/dist/index.min.js");\n            sc1211.setAttribute('id', 'sc1211-apptile');\n            sc1211.setAttribute("type", "text/javascript");\n            sc1211.setAttribute("fetchprority", "high");\n            document.head.appendChild(sc1211);\n          }\n        }\n      }, 100);\n    try{\n      ${U}\n    } catch(error) {\n      window.Apptile.sendRawMessageAsync({type: 'POST', event: 'errorReport', eventData: error});\n      console.error(error);\n    }`);var X=null!=T?T:{},ee=X.borderRadius,te=X.margin,ne=X.padding,oe=(X.elevation,(0,a.default)(X,h)),re=(0,c.getPlatformStyles)(Object.assign({},oe,{borderRadius:ee,margin:te,padding:ne})),ae=N?Object.fromEntries(N.split(",").map((function(e){return e.split(":")}))):{},ie=(0,l.useRef)([]),le=(0,l.useRef)(null),ue=(0,l.useState)(1),de=(0,i.default)(ue,2),se=de[0],ce=de[1],pe=(0,l.useState)({uri:E,headers:ae}),fe=(0,i.default)(pe,2),ge=fe[0],ye=fe[1];(0,l.useEffect)((function(){var e={uri:E,headers:ae};s.default.isEqual(ge,e)?B&&se!=B&&ce(B):(ye(e),ce(se+1))}),[ae,ge,E,se,B]);var me=function(e,t,n){var o;null!=le&&le.current&&(null==le||null==(o=le.current)||o.injectJavaScript(`window.Apptile.messageListener(${JSON.stringify({eventKey:e,status:t,result:{eventSDK:g.APPTILE_EVENTS_KEY.RECEIVE_KEY,type:"POST",data:n}})})`))};return console.log({uri:ge.uri,useHtml:D}),(0,m.jsx)(u.View,{style:[K,re],children:ge.uri||R&&D?(0,m.jsx)(d.WebView,Object.assign({onLoadEnd:function(){M("onLoadEnd"),k([{selector:["loading"],newValue:!1}])},onShouldStartLoadWithRequest:function(e){return console.log("log request",e),function(e){var t=e.url,n=e.isTopFrame,o=e.navigationType,r=e.mainDocumentURL;if("android"===u.Platform.OS&&(r=t),"android"!==u.Platform.OS&&!n&&"click"!=o)return!0;var a=!1;console.log("request log 2",e,ge.uri);try{if(ge.uri===r)return!0;if(r){var i,l,d=null==(i=r)?void 0:i.split("?"),s=d.length>1?Object.fromEntries(null==(l=d[1])?void 0:l.split("&").map((function(e){return e.split("=")}))):{},c=d[0].split("/");for(var p in J){var f,g,y,m,h=new RegExp(null==(f=J[p])||null==(g=f.expressionRaw)?void 0:g.regex,null==(y=J[p])||null==(m=y.expressionRaw)?void 0:m.flags);null!=h&&h.test(r)&&(console.log("navigationalScreenName",J[p].screenName),M("navigationChanged",Object.assign({screenName:J[p].screenName,urlNodes:c,urlParams:s},e)),a=!0)}if(!a&&Q&&(console.log("defaultNavigationScreenName",Q,E,r),M("navigationChanged",Object.assign({screenName:Q,urlNodes:c,urlParams:s},e)),a=!0),!a&&D)return!0;a||ye({uri:r,headers:ae})}return!0}catch(e){return console.warn("Invalid URL format:",e),!0}}(e)},originWhitelist:["*"],source:D?{html:`<meta content="width=device-width, initial-scale=1" name="viewport" />${R} <style>${z}</style>`}:ge,onError:function(){k([{selector:["loading"],newValue:!1}])},ref:le,onMessage:function(e){var t,n=JSON.parse((null==e||null==(t=e.nativeEvent)?void 0:t.data)||"{}");console.log("\n\n\n\n\n\nmessage",n,"\n\n\n\n\n");var o=null==n?void 0:n.message;o&&n.eventKey&&(0,f.handleEvent)(n.eventKey,o,me,M,ie,j,F,k)},incognito:G,domStorageEnabled:q,userAgent:L||b},$?{injectedJavaScript:$}:{},U&&H?{injectedJavaScriptBeforeContentLoaded:U}:U?{injectedJavaScript:U}:{},{javaScriptEnabled:!0}),se):(0,m.jsx)(u.Text,{children:" Error Loading Widget "})})})),w={basic:[{type:"codeInput",name:"headers",props:{label:"Headers",placeholder:""}},{type:"codeInput",name:"injectedJavaScript",props:{label:"Injected JavaScript",placeholder:""}},{type:"codeInput",name:"injectedCss",props:{label:"Injected CSS",placeholder:""}}].concat((0,r.default)(c.defaultEditors.basic)),layout:c.defaultEditors.layout},x={onLoadEnd:{type:c.EventTriggerIdentifier},headers:{getValue:function(e,t,n){return t?t.toString():""}},reloadWebView:{type:c.TriggerActionIdentifier,getValue:function(){return function(e,t,n,o,a){e((0,c.modelUpdateAction)([{selector:[].concat((0,r.default)(o),["reloadKey"]),newValue:Date.now()}]))}}}};u.StyleSheet.create({loader:{bottom:0,left:0,position:"absolute",right:0,top:0}}),t.default=(0,c.connectWidget)("WebViewWidgetV3",S,{value:"",loading:!0,apptileTunnelLoading:!0,onLoadEnd:"",headers:"",injectedJavaScript:"",injectedCss:"",cart:"",user:"",apptileDetails:"",reloadWebView:"action"},null,w,{propertySettings:x,widgetStyleConfig:c.defaultStyleEditors,pluginListing:{labelPrefix:"webTunnelView",type:"widget",name:"Web Tunnel View",description:"Load external uri in the app",layout:{flex:1},section:"Display",icon:"web-view"},docs:p.default})},2074:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={value:"Object"}},6841:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZapietConfig=void 0,t.getPluginModelUpdate=j,t.zapietHelperActions=t.shopifyEditors=void 0;var r=o(n(7488)),a=o(n(2584)),i=o(n(3664)),l=o(n(2766)),u=n(892),d=o(n(2074)),s=o(n(3216)),c=t.ZapietConfig={value:null,optedDeliveryMethod:"",setOptedDeliveryMethod:"action",selectedPickupLocation:"",setSelectedPickupLocation:"action",selectedTime:"",selectedHours:"",shippingDates:"",setSelectedHours:"action",setSelectedTime:"action",availableDeliveryMethods:[{name:"Store Pickup",value:"storePickup",image:"https://cdn.apptile.io/572c9e61-25cd-447d-a86a-de18e053b14b/f4253ecd-4686-4e24-a807-f7fbf59bed8a/original.png"},{name:"Local Delivery",value:"localDelivery",image:"https://cdn.apptile.io/572c9e61-25cd-447d-a86a-de18e053b14b/9741e62b-8e2f-414b-9e6d-8f3f5184943e/original.png"},{name:"Shipping",image:"https://cdn.apptile.io/572c9e61-25cd-447d-a86a-de18e053b14b/bfa4bae3-930e-4c05-8bb0-436accd24d1f/original.png",value:"shipping"}],selectedLocalDeliveryLocation:"",setSelectedLocalDeliveryLocation:"action",getLocalDeliveryTimes:"action",storePickupTimes:"",getStorePickupTimes:"action",storepickUpLocations:"",getStorePickupLocations:"action",storePickupDates:"",getStorePickupDates:"action",getShippingDates:"action",locationSeachFailed:!1,getLocalDeliveryLocations:"action",getLocalDeliveryDates:"action"},p={value:{getValue:function(e,t){return t}},setOptedDeliveryMethod:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return f},actionMetadata:{editableInputParams:{optedDeliveryMethod:""}}},setSelectedPickupLocation:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return b},actionMetadata:{editableInputParams:{selectedPickupLocation:""}}},getStorePickupTimes:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return k.getStorePickupTimes},actionMetadata:{editableInputParams:{date:"",locationId:""}}},getLocalDeliveryLocations:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return k.getLocalDeliveryLocations},actionMetadata:{editableInputParams:{shoppingCart:"",geoSearchQuery:""}}},getStorePickupLocations:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return k.getStorePickupLocations},actionMetadata:{editableInputParams:{shoppingCart:"",geoSearchQuery:""}}},getShippingDates:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return k.getShippingDates},actionMetadata:{editableInputParams:{shoppingCart:""}}},getStorePickupDates:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return k.getStorePickupDates},actionMetadata:{editableInputParams:{shoppingCart:"",locationId:""}}},getLocalDeliveryTimes:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return k.getLocalDeliveryTimes},actionMetadata:{editableInputParams:{date:"",locationId:""}}},setSelectedLocalDeliveryLocation:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return w},actionMetadata:{editableInputParams:{selectedLocalDeliveryLocation:""}}},setSelectedHours:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return y},actionMetadata:{editableInputParams:{selectedHours:""}}},setSelectedTime:{type:u.TriggerActionIdentifier,getValue:function(e,t,n){return h},actionMetadata:{editableInputParams:{selectedTime:""}}}};function f(e,t,n,o,r){return g.apply(this,arguments)}function g(){return(g=(0,l.default)((function*(e,t,n,o,r){var a=r.optedDeliveryMethod;void 0!==a&&e((0,u.modelUpdateAction)(j(o,{optedDeliveryMethod:a}),void 0,!0))}))).apply(this,arguments)}function y(e,t,n,o,r){return m.apply(this,arguments)}function m(){return(m=(0,l.default)((function*(e,t,n,o,r){var a=r.selectedHours;void 0!==a&&e((0,u.modelUpdateAction)(j(o,{selectedHours:a}),void 0,!0))}))).apply(this,arguments)}function h(e,t,n,o,r){return v.apply(this,arguments)}function v(){return(v=(0,l.default)((function*(e,t,n,o,r){var a=r.selectedTime;e(void 0!==a?(0,u.modelUpdateAction)(j(o,{selectedTime:a}),void 0,!0):(0,u.modelUpdateAction)(j(o,{selectedTime:""}),void 0,!0))}))).apply(this,arguments)}function b(e,t,n,o,r){return S.apply(this,arguments)}function S(){return(S=(0,l.default)((function*(e,t,n,o,r){var a=r.selectedPickupLocation;void 0!==a&&e((0,u.modelUpdateAction)(j(o,{selectedPickupLocation:a}),void 0,!0))}))).apply(this,arguments)}function w(e,t,n,o,r){return x.apply(this,arguments)}function x(){return(x=(0,l.default)((function*(e,t,n,o,r){var a=r.selectedLocalDeliveryLocation;void 0!==a&&e((0,u.modelUpdateAction)(j(o,{selectedLocalDeliveryLocation:a}),void 0,!0))}))).apply(this,arguments)}var P,C=(0,i.default)((function e(){var t,n,o,r,i,d,s,c=this;(0,a.default)(this,e),this.getStorePickupTimes=(t=(0,l.default)((function*(t,n,o,r,a,i,l){t((0,u.modelUpdateAction)(j(r,{getStorePickupTimesLoading:!0}),void 0,!0));var d=a.date,s=a.locationId,c=yield e.queryExecutor(l,"post",`/pickup/locations/${s}/calendar/${d}`,{date:d,locationId:s}),p=c.data,f=c.errors;f&&f.length>0?t((0,u.modelUpdateAction)(j(r,{storePickupTimes:f}),void 0,!0)):t((0,u.modelUpdateAction)(j(r,{storePickupTimes:p}),void 0,!0)),t((0,u.modelUpdateAction)(j(r,{getStorePickupTimesLoading:!1}),void 0,!0))})),function(e,n,o,r,a,i,l){return t.apply(this,arguments)}),this.getStorePickupLocations=(n=(0,l.default)((function*(t,n,o,r,a,i,l){var d=yield e.queryExecutor(l,"post","/pickup/locations/",Object.assign({},a)),s=d.data,c=d.errors;c&&c.length>0?t((0,u.modelUpdateAction)(j(r,{storepickUpLocations:c}),void 0,!0)):t((0,u.modelUpdateAction)(j(r,{storepickUpLocations:s.locations}),void 0,!0))})),function(e,t,o,r,a,i,l){return n.apply(this,arguments)}),this.getShippingDates=(o=(0,l.default)((function*(t,n,o,r,a,i,l){var d=a.shoppingCart,s=yield e.queryExecutor(l,"post","/shipping/calendar",{shoppingCart:d}),c=s.data,p=s.errors;p&&p.length>0?t((0,u.modelUpdateAction)(j(r,{shippingDates:p}),void 0,!0)):t((0,u.modelUpdateAction)(j(r,{shippingDates:c}),void 0,!0))})),function(e,t,n,r,a,i,l){return o.apply(this,arguments)}),this.getStorePickupDates=(r=(0,l.default)((function*(t,n,o,r,a,i,l){t((0,u.modelUpdateAction)(j(r,{getStorePickupDatesLoading:!0}),void 0,!0));var d=a.locationId,s=a.shoppingCart,p=yield e.queryExecutor(l,"post",`/pickup/locations/${d}/calendar`,{locationId:d,shoppingCart:s}),f=p.data,g=p.errors;g&&g.length>0?t((0,u.modelUpdateAction)(j(r,{storePickupDates:g,getStorePickupDatesLoading:!1}),void 0,!0)):t((0,u.modelUpdateAction)(j(r,{getStorePickupDatesLoading:!1,storePickupDates:f}),void 0,!0)).then((function(){var e=o.get("selectedPickupLocation");c.getStorePickupTimes(t,n,o,r,{date:null==f?void 0:f.minDate,locationId:null==e?void 0:e.id},i,l)})).catch((function(e){console.error("Error occurred during dispatch:",e)}))})),function(e,t,n,o,a,i,l){return r.apply(this,arguments)}),this.getLocalDeliveryDates=(i=(0,l.default)((function*(t,n,o,r,a,i,l){t((0,u.modelUpdateAction)(j(r,{localDeliveryDatesLoading:!0}),void 0,!0));var d=a.locationId,s=a.shoppingCart,p=yield e.queryExecutor(l,"post",`/delivery/locations/${d}/calendar`,{locationId:d,shoppingCart:s}),f=p.data,g=p.errors;g&&g.length>0?t((0,u.modelUpdateAction)(j(r,{localDeliveryDates:g}),void 0,!0)):(t((0,u.modelUpdateAction)(j(r,{localDeliveryDates:f}),void 0,!0)),c.getLocalDeliveryTimes(t,n,o,r,{date:f.minDate,locationId:d},i,l)),t((0,u.modelUpdateAction)(j(r,{localDeliveryDatesLoading:!1}),void 0,!0))})),function(e,t,n,o,r,a,l){return i.apply(this,arguments)}),this.getLocalDeliveryLocations=(d=(0,l.default)((function*(t,n,o,r,a,i,l){var d=a.shoppingCart,s=a.geoSearchQuery,p=(yield e.queryExecutor(l,"post","/delivery/locations",{shoppingCart:d,geoSearchQuery:s})).data,f=null==p?void 0:p.error;f?(w(t,n,o,r,{selectedLocalDeliveryLocation:""}),t((0,u.modelUpdateAction)(j(r,{localDeliveryLocations:f,locationSeachFailed:!0}),void 0,!0))):(t((0,u.modelUpdateAction)(j(r,{localDeliveryLocations:p,locationSeachFailed:!1}),void 0,!0)),w(t,n,o,r,{selectedLocalDeliveryLocation:p}),c.getLocalDeliveryDates(t,n,o,r,{locationId:p.id,shoppingCart:d},i,l))})),function(e,t,n,o,r,a,i){return d.apply(this,arguments)}),this.getLocalDeliveryTimes=(s=(0,l.default)((function*(t,n,o,r,a,i,l){t((0,u.modelUpdateAction)(j(r,{getLocalDeliveryTimesLoading:!0}),void 0,!0));var d=a.date,s=a.locationId,c=yield e.queryExecutor(l,"post",`/delivery/locations/${s}/calendar/${d}`,{date:d,locationId:s}),p=c.data,f=c.errors;f&&f.length>0?t((0,u.modelUpdateAction)(j(r,{localDeliveryTimes:f}),void 0,!0)):t((0,u.modelUpdateAction)(j(r,{localDeliveryTimes:p}),void 0,!0)),t((0,u.modelUpdateAction)(j(r,{getLocalDeliveryTimesLoading:!1}),void 0,!0))})),function(e,t,n,o,r,a,i){return s.apply(this,arguments)})}),null,[{key:"queryExecutor",value:(P=(0,l.default)((function*(e,t,n,o){var r=e.getModelValue(["zapiet"]),a=r.get("queryRunner"),i=r.get("shop");return yield a.runQuery(t,`${n}?shop=${i}`,Object.assign({},o),{})})),function(e,t,n,o){return P.apply(this,arguments)})}]),I=t.shopifyEditors={basic:[{type:"codeInput",name:"optedDeliveryMethod",props:{label:"Default Delivery Method",placeholder:"storePickup"}}]};function j(e,t){var n=[];return t&&!s.default.isEmpty(t)&&Object.entries(t).map((function(t){var o=(0,r.default)(t,2),a=o[0],i=o[1];n.push({selector:e.concat([a]),newValue:i})})),n}var k=t.zapietHelperActions=new C;t.default=(0,u.connectPlugin)("ZapietHelper",null,c,null,I,{propertySettings:p,pluginListing:{labelPrefix:"zapietHelper",type:"datasource",name:"Zapiet Helper",description:"Zapiet Helper",defaultHeight:0,defaultWidth:0,section:"Data",icon:"state"},docs:d.default})},1077:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(4776)),a=n(804),i=n(892),l=r.default.fromJS(Object.assign({},i.defaultQueryConfig,{datasource:"",actionName:"",params:{},loading:!1},{onSuccess:"",onError:"",onSignupRequired:"",onOtpGenerated:"",onPasswordRequire:"",onExistingUser:"",executeQuery:""},{loading:!1})),u={data:{getValue:function(e,t){return t}},params:{updatesProps:["data"]},executeQuery:{updatesProps:["onSignupRequired","onOtpGenerated","onPasswordRequire","onError","onSuccess","onExistingUser"]},onSignupRequired:{type:i.EventTriggerIdentifier},onOtpGenerated:{type:i.EventTriggerIdentifier},onPasswordRequire:{type:i.EventTriggerIdentifier},onError:{type:i.EventTriggerIdentifier},onSuccess:{type:i.EventTriggerIdentifier},onExistingUser:{type:i.EventTriggerIdentifier}};t.default=(0,i.connectPlugin)("MFAuthQuery",null,l,(function*(e,t,n,o,r,l,u){var d={modelUpdates:[]},s=n?[n,"plugins",t]:[t];try{var c=e.stageModel.getPluginModel(n,t),p=e.stageModel.getPageId(n);if(!p)return;var f=yield(0,a.select)(i.selectPluginConfig,p,t),g=n?[n,"plugins",t]:[t],y=e.stageModel.getModelValue([]),m=null==c?void 0:c.get("runWhenModelUpdates"),h=null==c?void 0:c.get("runWhenPageLoads"),v=null==c?void 0:c.get("runOnPageFocus"),b=null==c?void 0:c.get("loading");if(null!=u&&u.focusTrigger&&!v)return d;if(!(r||m||l&&h||null!=u&&u.focusTrigger&&v))return d;if(b)return d;yield(0,a.put)((0,i.modelUpdateAction)([{selector:g.concat("loading"),newValue:!0}]));var S=null==f?void 0:f.config.get("datasource",null);if(!S)return logger.error("Could not find datasourceId"),d;var w=y.get(S);if(!w)return logger.error("Could not find dsModelValues"),d;var x=c.get("params").toJS(),P=c.get("actionName"),C=w.get(P),I=(0,i.getAppDispatch)();if(!C)return logger.error("Could not find actionHandler"),d;var j=yield(0,a.call)(C,I,f,w,g,x),k=j.modelUpdates,T=j.eventToBeTriggered;return T?(yield(0,a.call)(i.modelUpdateSaga,k,null,!0),void(yield(0,a.put)((0,i.triggerPageEvent)(n,t,o,T)))):void logger.error("Could not find an event",T)}catch(e){return yield(0,a.put)((0,i.modelUpdateAction)([{selector:s.concat("loading"),newValue:!1}])),void(yield(0,a.put)((0,i.triggerPageEvent)(n,t,o,"onError")))}}),{basic:[{type:"mfAuthQueryEditor",name:"value",props:{label:"Value",placeholder:""}}],advanced:[{type:"checkbox",name:"runWhenModelUpdates",props:{label:"Run when model updates",checkedValue:!1}},{type:"checkbox",name:"runWhenPageLoads",props:{label:"Run when page loads",checkedValue:!1}},{type:"checkbox",name:"runOnPageFocus",props:{label:"Run on page focus",checkedValue:!1}}]},{propertySettings:u,pluginListing:{labelPrefix:"MFAuthQuery",type:"query",name:"MFAuthQuery",description:"OTP Login Query",defaultHeight:0,defaultWidth:0,section:"Data",icon:"query"}})},2559:(e,t,n)=>{var o=n(5825);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(4776)),a=n(804),i=n(892),l=r.default.fromJS(Object.assign({},i.defaultQueryConfig,{datasource:"",actionName:"",params:{},loading:!1},{onSuccess:"",onError:"",onSignupRequired:"",onOtpGenerated:"",onPasswordRequire:"",onExistingUser:"",executeQuery:""},{loading:!1})),u={data:{getValue:function(e,t){return t}},params:{updatesProps:["data"]},executeQuery:{updatesProps:["onSignupRequired","onOtpGenerated","onPasswordRequire","onError","onSuccess","onExistingUser"]},onSignupRequired:{type:i.EventTriggerIdentifier},onOtpGenerated:{type:i.EventTriggerIdentifier},onPasswordRequire:{type:i.EventTriggerIdentifier},onError:{type:i.EventTriggerIdentifier},onSuccess:{type:i.EventTriggerIdentifier},onExistingUser:{type:i.EventTriggerIdentifier}};t.default=(0,i.connectPlugin)("MFAuthenticationQuery",null,l,(function*(e,t,n,o,r,l,u){var d={modelUpdates:[]},s=n?[n,"plugins",t]:[t];try{var c=e.stageModel.getPluginModel(n,t),p=e.stageModel.getPageId(n);if(!p)return;var f=yield(0,a.select)(i.selectPluginConfig,p,t),g=n?[n,"plugins",t]:[t],y=e.stageModel.getModelValue([]),m=null==c?void 0:c.get("runWhenModelUpdates"),h=null==c?void 0:c.get("runWhenPageLoads"),v=null==c?void 0:c.get("runOnPageFocus"),b=null==c?void 0:c.get("loading");if(null!=u&&u.focusTrigger&&!v)return d;if(!(r||m||l&&h||null!=u&&u.focusTrigger&&v))return d;if(b)return d;yield(0,a.put)((0,i.modelUpdateAction)([{selector:g.concat("loading"),newValue:!0}]));var S=null==f?void 0:f.config.get("datasource",null);if(!S)return logger.error("Could not find datasourceId"),d;var w=y.get(S);if(!w)return logger.error("Could not find dsModelValues"),d;var x=c.get("params").toJS(),P=c.get("actionName"),C=w.get(P),I=(0,i.getAppDispatch)();if(!C)return logger.error("Could not find actionHandler"),d;var j=yield(0,a.call)(C,I,f,w,g,x),k=j.modelUpdates,T=j.eventToBeTriggered;return T?(yield(0,a.call)(i.modelUpdateSaga,k,null,!0),void(yield(0,a.put)((0,i.triggerPageEvent)(n,t,o,T)))):void logger.error("Could not find an event",T)}catch(e){return yield(0,a.put)((0,i.modelUpdateAction)([{selector:s.concat("loading"),newValue:!1}])),void(yield(0,a.put)((0,i.triggerPageEvent)(n,t,o,"onError")))}}),{basic:[{type:"mfAuthenticationQueryEditor",name:"value",props:{label:"Value",placeholder:""}}],advanced:[{type:"checkbox",name:"runWhenModelUpdates",props:{label:"Run when model updates",checkedValue:!1}},{type:"checkbox",name:"runWhenPageLoads",props:{label:"Run when page loads",checkedValue:!1}},{type:"checkbox",name:"runOnPageFocus",props:{label:"Run on page focus",checkedValue:!1}}]},{propertySettings:u,pluginListing:{labelPrefix:"MFAuthenticationQuery",type:"query",name:"MFAuthenticationQuery",description:"OTP Login Query",defaultHeight:0,defaultWidth:0,section:"Data",icon:"query"}})},8656:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),o=new RegExp("("+t+")+","gi");function r(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],r(n),r(o))}function a(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(n)||[],o=1;o<t.length;o++)t=(e=r(t,o).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),l=0;l<i.length;l++){var u=i[l];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},9069:e=>{"use strict";e.exports=function(e,t){for(var n={},o=Object.keys(e),r=Array.isArray(t),a=0;a<o.length;a++){var i=o[a],l=e[i];(r?-1!==t.indexOf(i):t(i,l,e))&&(n[i]=l)}return n}},7709:(e,t,n)=>{"use strict";var o=n(5825),r=o(n(5990)),a=o(n(7488)),i=o(n(5971)),l=n(1914),u=n(8656),d=n(3570),s=n(9069),c=Symbol("encodeFragmentIdentifier");function p(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function f(e,t){return t.encode?t.strict?l(e):encodeURIComponent(e):e}function g(e,t){return t.decode?u(e):e}function y(e){return Array.isArray(e)?e.sort():"object"==typeof e?y(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function m(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){var t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){p((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,o){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return function(e,n,o){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};case"colon-list-separator":return function(e,n,o){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};case"comma":case"separator":return function(t,n,o){var r="string"==typeof n&&n.includes(e.arrayFormatSeparator),a="string"==typeof n&&!r&&g(n,e).includes(e.arrayFormatSeparator);n=a?g(n,e):n;var i=r||a?n.split(e.arrayFormatSeparator).map((function(t){return g(t,e)})):null===n?n:g(n,e);o[t]=i};case"bracket-separator":return function(t,n,o){var r=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),r){var a=null===n?[]:n.split(e.arrayFormatSeparator).map((function(t){return g(t,e)}));void 0!==o[t]?o[t]=[].concat(o[t],a):o[t]=a}else o[t]=n?g(n,e):n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(var r of e.split("&"))if(""!==r){var i=d(t.decode?r.replace(/\+/g," "):r,"="),l=(0,a.default)(i,2),u=l[0],s=l[1];s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:g(s,t),n(g(u,t),s,o)}for(var c of Object.keys(o)){var f=o[c];if("object"==typeof f&&null!==f)for(var m of Object.keys(f))f[m]=v(f[m],t);else o[c]=v(f,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((function(e,t){var n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=y(n):e[t]=n,e}),Object.create(null))}t.extract=h,t.parse=b,t.stringify=function(e,t){if(!e)return"";p((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);var n=function(n){return t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n]},o=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,o){var r=n.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:[].concat((0,i.default)(n),null===o?[[f(t,e),"[",r,"]"].join("")]:[[f(t,e),"[",f(r,e),"]=",f(o,e)].join("")])}};case"bracket":return function(t){return function(n,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:[].concat((0,i.default)(n),null===o?[[f(t,e),"[]"].join("")]:[[f(t,e),"[]=",f(o,e)].join("")])}};case"colon-list-separator":return function(t){return function(n,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:[].concat((0,i.default)(n),null===o?[[f(t,e),":list="].join("")]:[[f(t,e),":list=",f(o,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(n){return function(o,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?o:(r=null===r?"":r,0===o.length?[[f(n,e),t,f(r,e)].join("")]:[[o,f(r,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(n,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:[].concat((0,i.default)(n),null===o?[f(t,e)]:[[f(t,e),"=",f(o,e)].join("")])}}}}(t),r={};for(var a of Object.keys(e))n(a)||(r[a]=e[a]);var l=Object.keys(r);return!1!==t.sort&&l.sort(t.sort),l.map((function(n){var r=e[n];return void 0===r?"":null===r?f(n,t):Array.isArray(r)?0===r.length&&"bracket-separator"===t.arrayFormat?f(n,t)+"[]":r.reduce(o(n),[]).join("&"):f(n,t)+"="+f(r,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=d(e,"#"),o=(0,a.default)(n,2),r=o[0],i=o[1];return Object.assign({url:r.split("?")[0]||"",query:b(h(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:g(i,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign((0,r.default)({encode:!0,strict:!0},c,!0),n);var o=m(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),l=Object.assign(i,e.query),u=t.stringify(l,n);u&&(u=`?${u}`);var d=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(d=`#${n[c]?f(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${o}${u}${d}`},t.pick=function(e,n,o){o=Object.assign((0,r.default)({parseFragmentIdentifier:!0},c,!1),o);var a=t.parseUrl(e,o),i=a.url,l=a.query,u=a.fragmentIdentifier;return t.stringifyUrl({url:i,query:s(l,n),fragmentIdentifier:u},o)},t.exclude=function(e,n,o){var r=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,r,o)}},3570:e=>{"use strict";e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},1914:e=>{"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return`%${e.charCodeAt(0).toString(16).toUpperCase()}`}))}},8296:(e,t,n)=>{var o=n(71),r=n(2572),a=r;a.v1=o,a.v4=r,e.exports=a},417:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var o=n||0,r=t;return[r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],"-",r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]],r[e[o++]]].join("")}},6584:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},71:(e,t,n)=>{var o,r,a=n(6584),i=n(417),l=0,u=0;e.exports=function(e,t,n){var d=t&&n||0,s=t||[],c=(e=e||{}).node||o,p=void 0!==e.clockseq?e.clockseq:r;if(null==c||null==p){var f=a();null==c&&(c=o=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=r=16383&(f[6]<<8|f[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:u+1,m=g-l+(y-u)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||g>l)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=g,u=y,r=p;var h=(1e4*(268435455&(g+=122192928e5))+y)%4294967296;s[d++]=h>>>24&255,s[d++]=h>>>16&255,s[d++]=h>>>8&255,s[d++]=255&h;var v=g/4294967296*1e4&268435455;s[d++]=v>>>8&255,s[d++]=255&v,s[d++]=v>>>24&15|16,s[d++]=v>>>16&255,s[d++]=p>>>8|128,s[d++]=255&p;for(var b=0;b<6;++b)s[d+b]=c[b];return t||i(s)}},2572:(e,t,n)=>{var o=n(6584),r=n(417);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var l=0;l<16;++l)t[a+l]=i[l];return t||r(i)}},2766:e=>{"use strict";e.exports=require("@babel/runtime/helpers/asyncToGenerator")},2584:e=>{"use strict";e.exports=require("@babel/runtime/helpers/classCallCheck")},3664:e=>{"use strict";e.exports=require("@babel/runtime/helpers/createClass")},5990:e=>{"use strict";e.exports=require("@babel/runtime/helpers/defineProperty")},5259:e=>{"use strict";e.exports=require("@babel/runtime/helpers/getPrototypeOf")},5144:e=>{"use strict";e.exports=require("@babel/runtime/helpers/inherits")},5825:e=>{"use strict";e.exports=require("@babel/runtime/helpers/interopRequireDefault")},1351:e=>{"use strict";e.exports=require("@babel/runtime/helpers/objectDestructuringEmpty")},7128:e=>{"use strict";e.exports=require("@babel/runtime/helpers/objectWithoutProperties")},3815:e=>{"use strict";e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},3580:e=>{"use strict";e.exports=require("@babel/runtime/helpers/readOnlyError")},7488:e=>{"use strict";e.exports=require("@babel/runtime/helpers/slicedToArray")},5971:e=>{"use strict";e.exports=require("@babel/runtime/helpers/toConsumableArray")},9481:e=>{"use strict";e.exports=require("lodash/once")},4178:e=>{"use strict";e.exports=require("react/jsx-runtime")},2992:e=>{"use strict";e.exports=require("@gorhom/portal")},3872:e=>{"use strict";e.exports=require("@react-navigation/native")},892:e=>{"use strict";e.exports=require("apptile-core")},4776:e=>{"use strict";e.exports=require("immutable")},3216:e=>{"use strict";e.exports=require("lodash")},6196:e=>{"use strict";e.exports=require("moment")},6840:e=>{"use strict";e.exports=require("react")},6352:e=>{"use strict";e.exports=require("react-native")},236:e=>{"use strict";e.exports=require("react-native-autolink")},4756:e=>{"use strict";e.exports=require("react-native-calendars")},1824:e=>{"use strict";e.exports=require("react-native-camera")},9252:e=>{"use strict";e.exports=require("react-native-device-info")},6076:e=>{"use strict";e.exports=require("react-native-fast-image")},5480:e=>{"use strict";e.exports=require("react-native-image-pan-zoom")},2492:e=>{"use strict";e.exports=require("react-native-keep-awake")},7060:e=>{"use strict";e.exports=require("react-native-video")},6684:e=>{"use strict";e.exports=require("react-native-video-controls")},820:e=>{"use strict";e.exports=require("react-native-webview")},2112:e=>{"use strict";e.exports=require("react-redux")},804:e=>{"use strict";e.exports=require("redux-saga/effects")},4700:e=>{"use strict";e.exports=require("reselect")},1636:e=>{"use strict";e.exports=require("url-parse")},5996:e=>{"use strict";e.exports=require("zego-express-engine-reactnative")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var o={};(()=>{var e=o,t=n(5825);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FlatListSlider",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,"RichTextDisplay",{enumerable:!0,get:function(){return J.RichTextDisplay}}),e.initPlugins=void 0;var r=n(892),a=t(n(7561)),i=t(n(3799)),l=t(n(9385)),u=t(n(1299)),d=t(n(2930)),s=t(n(8048)),c=t(n(1103)),p=t(n(1976)),f=t(n(7912)),g=t(n(8042)),y=t(n(5364)),m=t(n(3499)),h=t(n(5854)),v=t(n(4514)),b=t(n(3942)),S=t(n(4304)),w=t(n(6661)),x=t(n(2427)),P=t(n(9087)),C=t(n(3231)),I=n(4721),j=n(7511),k=t(n(2645)),T=n(3965),O=t(n(7243)),M=t(n(8618)),E=t(n(1380)),R=t(n(9338)),_=t(n(6154)),A=t(n(2629)),V=t(n(1572)),D=t(n(3184)),W=n(6207),L=t(n(6841)),B=t(n(868)),F=t(n(6951)),N=t(n(5192)),H=t(n(3694)),U=t(n(8098)),z=t(n(7183)),$=t(n(3049)),G=t(n(1525)),q=t(n(889)),Y=t(n(3177)),K=t(n(9290)),J=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=fe(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(o,a,i):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}(n(1765)),Q=t(n(6236)),Z=t(n(8187)),X=t(n(1077)),ee=t(n(2559)),te=t(n(1669)),ne=t(n(6878)),oe=t(n(3)),re=t(n(1237)),ae=t(n(5507)),ie=t(n(379)),le=t(n(5525)),ue=t(n(7898)),de=t(n(3473)),se=t(n(527)),ce=t(n(5338)),pe=t(n(9130));function fe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(fe=function(e){return e?n:t})(e)}e.initPlugins=function(){var e=[ne.default,X.default,ee.default,S.default,w.default,x.default,P.default,C.default,I.SearchanizeHelper,j.CloudSearchHelper,T.ShopifyCollectionsTree_22_10,E.default,W.NostoHelper,L.default,U.default,z.default,v.default,G.default,Z.default,$.default,H.default,N.default,F.default,B.default,D.default,V.default,A.default,_.default,R.default,M.default,r.CustomList,r.ApptileGlobalPlugin,s.default,F.default,r.ModuleInstance,r.ModuleProperty,r.ModuleOutput,q.default,Y.default,k.default,K.default,J.default,Q.default,te.default,h.default,a.default,i.default,l.default,u.default,se.default,ce.default,de.default,d.default,c.default,p.default,f.default,g.default,y.default,m.default,O.default,oe.default,b.default,ie.default,ae.default,le.default,ue.default,re.default];return[].concat(e,[r.QueryPlugin])}})(),module.exports=o})();